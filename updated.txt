{"R_Google_Images":{"link":"^google\\.\\S+/imgres\\?imgurl=.+","url":":''","res":":\nthis.node.IMGS_fallback_zoom = null\nreturn new URL($[0]).searchParams.get('imgurl')","img":"^(data:image|encrypted-tbn\\d\\.gstatic\\.com/images).+","loop":2,"to":":\nif (/^(?:www\\.)?google\\./.test(new URL(document.URL).hostname)) {\n  if (\n    /\\/search\\?\\S*tbm=isch/.test(document.URL) ||  // Google Images\n    /\\/imgres\\?imgurl=/.test(document.URL) ||      // Google Images > Image page (Related images)\n    /\\/search\\?\\S*imgrc=/.test(document.URL)       // Google > Image Pack > Side frame (Related images)\n  ) {\n    const element = document.querySelector('a:hover[role=\"button\"]')\n    if (element) {\n      element.dispatchEvent(new MouseEvent('mousedown', { bubbles: true }))\n      return element.href\n    }\n  }\n\n  // SERP Features: Image Pack | moz.com/learn/seo/serp-features#image-pack / dataforseo.com/serp-features#images\n  if (/\\/search\\?/.test(document.URL)) {\n    function findByDocid(obj, str) {\n      if (typeof obj?.[1] === 'string' && obj[1] === str) {\n        return obj\n      }\n      for (let val of Object.values(obj)) {\n        if (val && typeof val === 'object' && (val = findByDocid(val, str), val)) {\n          return val\n        }\n      }\n    }\n\n    function W_jd() {\n      const s = document.createElement('script')\n      s.textContent = 'sessionStorage.setItem(\"W_jd\", JSON.stringify(window.W_jd)); document.currentScript.remove();'\n      document.head.appendChild(s)\n      const result = sessionStorage.getItem('W_jd')\n      sessionStorage.removeItem('W_jd')\n      return JSON.parse(result)\n    }\n\n    const element = document.querySelector('div:hover[data-docid]')\n    if (element) {\n      return findByDocid(W_jd(), element.dataset.docid)[3][0]\n    }\n  }\n}\n\nreturn $[0]","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#16\nOLD:\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1020#19\nhttps://www.reddit.com/r/imagus/comments/qi8smy/sieve_for_google_pictures/\n\n!!!\nФильтр должен всегда располагаться перед [data:image]. Для увеличения видео в результатах поиска - курсор наводить на название ролика.\n==\nThe sieve must be placed always before [data:image]. To show video in the search results - hover over the title of the video.\n\nПРИМЕРЫ / EXAMPLES\nhttps://www.google.com/search?q=Wes+Anderson\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#14"},"[data:image]":{"link":"(^data:image.+)","img":"(^data:image.+)","to":"$1","note":"Rodny + hababr (fix) + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=4000#16\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1980#20"},"[HLS_Player-Test]":{"link":".+\\.(m3u8|mpd)","loop":1,"url":"data:,$0","res":":\nthis.TRG.IMGS_ext_data = [\n  '//' + 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"360\"></svg>',\n  `<imagus-extension type=\"videojs\" url=\"${$[0]}\"></imagus-extension>test!`\n]\nreturn 'imagus://extension'","to":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1484&limit=1&m=3#1","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1484&limit=1&m=3#1\n\n!!!\nДинамически загружаемый Video.js (https://github.com/videojs/video.js), поддерживающий HLS, DASH и выбор разрешения.\n==\nDynamically loaded Video.js (https://github.com/videojs/video.js), supporting HLS, DASH and resolution selection.\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#6"},"[Extension]":{"link":"^imagus:\\/\\/extension","loop":1,"url":":'data:,' + this.TRG.IMGS_c_resolved.URL","res":":\nfunction inject(tag, id, content, parent) {\n  const elem = document.createElement(tag)\n  elem.setAttribute('id', id)\n  elem.textContent = content\n  return parent ? parent.appendChild(elem) : document.head.appendChild(elem)\n}\n\nfunction override(that) {\n  that.reset_original = that.reset\n  that.reset = preventImmediateHover => {\n    if (that.EXTENSION.VIME) {\n      that.EXTENSION.VIME.remove()\n      delete that.EXTENSION.VIME\n    }\n\n    if (that.EXTENSION.VIDEOJS) {\n      that.EXTENSION.VIDEOJS.player.dispose()\n      that.EXTENSION.VIDEOJS.remove()\n      delete that.EXTENSION.VIDEOJS\n    }\n\n    return that.reset_original(preventImmediateHover)\n  }\n\n  platform.onkeydown_original = platform.onkeydown\n  platform.onkeydown = e => {\n    const url = that.TRG.IMGS_ext?.attributes['url']?.textContent\n    if (url && [ e.code.replace(/^Key/, ''), e.key ].includes(cfg.keys.hz_open)) {\n      Port.send({ cmd: 'open', url: url, nf: e.shiftKey })\n    } else {\n      return platform.onkeydown_original(e)\n    }\n  }\n\n  that.fzClickAct_original = that.fzClickAct\n  that.fzClickAct = e => !that.EXTENSION.contains(e.target) ? that.fzClickAct_original(e) : undefined\n\n  that.prepareCaption_original = that.prepareCaption\n  that.prepareCaption = (trg, caption) => {\n    const m = caption.match(/(<imagus-extension.+<\\/imagus-extension>)?(.*)/s)\n    const e = () => { const t = document.createElement('template'); t.innerHTML = m[1]; return t.content.firstChild; }\n    trg.IMGS_ext = trg.IMGS_ext_from_url || m[1] ? e() : undefined\n    return that.prepareCaption_original(trg, m[2])\n  }\n\n  that.show_original = that.show\n  that.show = (msg, delayed) => {\n    if (msg === 'load') {\n      if (that.EXTENSION.VIDEOJS) {\n        return\n      } else {\n        return that.show_original(msg, delayed)\n      }\n    }\n\n    const ext = that.TRG.IMGS_ext\n    that.EXTENSION.style.display = ext ? 'block' : 'none'\n    that.DIV.style.transform = ''\n    \n    const res = that.show_original(msg, delayed)\n\n    if (ext) {\n      const type = ext.getAttribute('type').split('-')\n      const url = ext.getAttribute('url')\n      that.EXTENSION.className = 'imagus-' + type[0]\n      that.EXTENSION_custom_style.textContent = ext.getAttribute('custom-style')\n\n      switch (type[0]) {\n        case 'sidebar':\n          that.EXTENSION.innerHTML = ext.innerHTML\n          const rect = that.EXTENSION.getBoundingClientRect()\n          const tfX = rect.left < 0 ? -rect.left : rect.right > window.innerWidth ? window.innerWidth - rect.right : 0\n          const tfY = rect.top < 0 ? -rect.top : rect.bottom > window.innerHeight ? window.innerHeight - rect.bottom : 0\n          if (tfX || tfY)\n            that.DIV.style.transform = `translate(${tfX}px, ${tfY}px)`\n          break\n          \n        case 'banner':\n          that.EXTENSION.innerHTML = `\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${url}\">\n              <svg viewBox=\"0 0 360 96\">\n                <foreignObject width=\"100%\" height=\"100%\">\n                  <div>\n                    <span>${ext.getAttribute('text')}</span>\n                  </div>\n                </foreignObject>\n              </svg>\n            </a>\n          `.replace(/\\n\\s*/g, '')\n          break\n\n        case 'videojs':\n          if (!url || that.EXTENSION.VIDEOJS) {\n            break\n          }\n\n          if (!that.EXTENSION.VIDEOJS_status) {\n            that.EXTENSION.VIDEOJS_status = 'loading'\n            console.time('Load Video.js')\n\n            if (typeof loadVideoJS === 'function') {\n              loadVideoJS()\n              that.EXTENSION.VIDEOJS_status = 'loaded'\n              console.timeEnd('Load Video.js')\n              createPlayer()\n              break\n            }\n\n            const urlsCSS = [\n              'https://cdn.jsdelivr.net/npm/video.js@7.20.3/dist/video-js.min.css',\n              'https://cdn.jsdelivr.net/npm/videojs-max-quality-selector@0.9.1/dist/videojs-max-quality-selector.css'\n              // 'https://unpkg.com/video.js@7.20.3/dist/video-js.min.css',\n              // 'https://unpkg.com/videojs-max-quality-selector@0.9.1/dist/videojs-max-quality-selector.css'\n            ]\n\n            const urlsJS = [\n              'https://cdn.jsdelivr.net/npm/video.js@7.20.3/dist/video.min.js',\n              'https://cdn.jsdelivr.net/npm/videojs-contrib-quality-levels@2.2.0/dist/videojs-contrib-quality-levels.min.js',\n              'https://cdn.jsdelivr.net/npm/videojs-max-quality-selector@0.9.1/dist/videojs-max-quality-selector.min.js'\n              // 'https://unpkg.com/video.js@7.20.3/dist/video.min.js',\n              // 'https://unpkg.com/videojs-contrib-quality-levels@2.2.0/dist/videojs-contrib-quality-levels.min.js',\n              // 'https://unpkg.com/videojs-max-quality-selector@0.9.1/dist/videojs-max-quality-selector.min.js'\n            ]\n\n            const urlGet = (url) => new Promise((resolve, reject) => {\n              const xhr = new XMLHttpRequest()\n\n              xhr.onload = () => {\n                if (xhr.status === 200) {\n                  console.log(xhr.statusText, '|', url)\n                  resolve(xhr.responseText.replace(/\\n?\\/\\*.+?\\*\\/\\n?/gs, '').trim())\n                } else {\n                  console.error(xhr.statusText, '|', url)\n                  reject(xhr.statusText)\n                }\n              }\n\n              xhr.onerror = () => {\n                console.error(xhr.statusText, '|', url)\n                reject(xhr.statusText)\n              }\n\n              xhr.open('GET', url)\n              xhr.send()\n            })\n\n            const pCSS = Promise.all(urlsCSS.map(urlGet)).then((result) => {\n              document.head.insertAdjacentHTML('beforeend', `<style>${result.map(i => i.replace(/^@charset.+?;/, '')).join('')}</style>`)\n            })\n\n            const pJS = Promise.all(urlsJS.map(urlGet)).then((result) => {\n              Function(result[0]\n                .replace(\n                  'new Uint8Array(t.data.data,i.byteOffset||0,i.byteLength||t.data.data.byteLength)',\n                  '/firefox/i.test(window.navigator.userAgent)?cloneInto(new Uint8Array(t.data.data,i.byteOffset||0,i.byteLength||t.data.data.byteLength),window):new Uint8Array(t.data.data,i.byteOffset||0,i.byteLength||t.data.data.byteLength)'\n                )\n                .replace(\n                  'n[t].forEach',                  // _this6[idName].forEach\n                  'structuredClone(n[t]).forEach'  // https://caniuse.com/mdn-api_structuredclone\n                ) + result.slice(1).join(''))()\n            })\n\n            Promise.all([ pCSS, pJS ]).then(() => {\n              that.EXTENSION.VIDEOJS_status = 'loaded'\n              console.timeEnd('Load Video.js')\n              createPlayer()\n            })\n          }\n\n          if (that.EXTENSION.VIDEOJS_status === 'loaded') {\n            createPlayer()\n          }\n\n          function createPlayer() {\n            that.EXTENSION.VIDEOJS = document.createElement('video')\n            that.EXTENSION.VIDEOJS.setAttribute('class', 'video-js')\n            that.EXTENSION.VIDEOJS.setAttribute('id', 'imagus-player')\n            that.EXTENSION.appendChild(that.EXTENSION.VIDEOJS)\n\n            const playerOptions = {\n              autoplay: 'any',\n              controls: true,\n              preload: 'auto'\n            }\n\n            videojs(that.EXTENSION.VIDEOJS, playerOptions, () => {\n              const player = that.EXTENSION.VIDEOJS.player = videojs.players['imagus-player']\n              const qLevels = player.qualityLevels()\n              const mqSelectorOptions = {\n                autoLabel: 'Auto ',\n                disableAuto: true,\n                displayMode: 1,\n                filterDuplicateHeights: false,\n                filterDuplicates: false,\n                showBitrates: true\n              }\n              const mqSelector = player.maxQualitySelector(mqSelectorOptions)\n              \n              const setSVG = (width, height) => {\n                if (!player.isFullscreen()) {\n                  that.set(`data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${width}\" height=\"${height}\"></svg>`)\n                  if (cfg.hz.capWH) {\n                    that.CAP.children[1].textContent = `${width}\\u00d7${height}`\n                  }\n                }\n              }\n\n              qLevels.on('change', (e) => {\n                setSVG(qLevels[qLevels.selectedIndex].width, qLevels[qLevels.selectedIndex].height)\n              })\n\n              player.on('resize', () => {\n                const vWidth = player.videoWidth()\n                const vHeight = player.videoHeight()\n                player.width(vWidth)\n                player.height(vHeight)\n                setSVG(vWidth, vHeight)\n              })\n\n              player.on('fullscreenchange', () => {\n                if (!mqSelector.selectedIndexPrevious) {\n                  mqSelector.selectedIndexPrevious = mqSelector.selectedIndex\n                  mqSelector.options.disableAuto = false\n                  mqSelector.changeLevel(-1)  // auto\n                } else {\n                  mqSelector.changeLevel(mqSelector.selectedIndexPrevious)\n                  delete mqSelector.selectedIndexPrevious\n                }\n              })\n\n              player.volume(cfg.hz.mediaVolume / 100)\n              player.src(url)\n            })\n          }\n\n          break\n\n      }\n    }\n\n    return res\n  }\n\n  that.switchToHiResInFZ_original = that.switchToHiResInFZ\n  that.switchToHiResInFZ = () => {\n    if (that.fullZm === 1) {\n      that.EXTENSION.style.pointerEvents = 'auto'\n      if (that.EXTENSION.VIME || that.EXTENSION.VIDEOJS)\n        that.EXTENSION.style.zIndex = 'auto'\n    }\n    if (that.fullZm === false) {\n      that.EXTENSION.style.pointerEvents = ''\n      that.EXTENSION.style.zIndex = ''\n    }\n    return that.switchToHiResInFZ_original()\n  }\n}\n\nif (!this.EXTENSION) {\n  const style = `\n    #imagus-extension {\n      pointer-events: none;\n    }\n\n    #imagus-extension.imagus-sidebar {\n      background: padding-box rgb(31, 31, 31);\n      border: ${this.DIV.style.border};\n      border-radius: ${this.DIV.style.borderRadius};\n      box-shadow: ${this.DIV.style.boxShadow};\n      box-sizing: border-box;\n      color: white;\n      font: 13px / 1.3 sans-serif;\n      left: calc(-360px + ${this.DIV.style.borderWidth} - 1px);\n      padding: 5px 8px 6px;\n      position: absolute;\n      top: -${this.DIV.style.borderWidth};\n      white-space: pre-wrap;\n      width: 360px;\n      z-index: -1;\n    }\n    #imagus-extension.imagus-sidebar > b {\n      font-weight: bold;\n    }\n\n    #imagus-extension.imagus-banner {\n      position: relative;\n      top: -20%;\n    }\n    #imagus-extension.imagus-banner div {\n      display: table;\n      height: 100%;\n      width: 100%;\n    }\n    #imagus-extension.imagus-banner span {\n      color: white;\n      display: table-cell;\n      font: 18px sans-serif;\n      vertical-align: middle;\n      text-align: center;\n      white-space: pre-wrap;\n    }\n    #imagus-extension.imagus-banner:hover span {\n      color: #cceeff;\n      text-decoration: underline;\n    }\n\n    #imagus-extension.imagus-videojs {\n      height: 100%;\n      position: relative;\n      top: -100%;\n      z-index: -1;\n    }\n    #imagus-extension.imagus-videojs > #imagus-player {\n      --bottom: 0;\n      --left: 0;\n      --margin: auto;\n      --position: absolute;\n      --right: 0;\n      --top: 0;\n      height: 100%;\n      width: 100%;\n    }\n    #imagus-extension .vjs-max-quality-selector-button .vjs-menu {\n      width: 12em;\n    }\n    #imagus-extension .vjs-max-quality-selector-button .vjs-menu .vjs-menu-content {\n      padding: 5px;\n    }\n  `.replace(/\\n\\s*/g, '')\n  this.EXTENSION = inject('div', 'imagus-extension', null, this.DIV)\n  inject('style', 'imagus-extension-style', style)\n  this.EXTENSION_custom_style = inject('style', 'imagus-extension-custom-style')\n  override(this)\n}\n\nconst url = new URL($[0])\nif (url.search) {\n  const elem = document.createElement('imagus-extension')\n  url.searchParams.forEach((val, key) => elem.setAttribute(key, val))\n  this.TRG.IMGS_ext_from_url = elem\n}\n\nreturn this.TRG.IMGS_ext_data","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1484&limit=1&m=1#1\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1379&limit=1&m=1#1\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1272&limit=1&m=1#1\n\n!!!\nДинамически загружаемый Video.js (https://github.com/videojs/video.js), поддерживающий HLS, DASH и выбор разрешения.\n==\nDynamically loaded Video.js (https://github.com/videojs/video.js), supporting HLS, DASH and resolution selection.\n+\nБоковая панель с доп.инфо для некоторых сайтов (пока только IMDB)./ Side panel with add.info for some sites (so far only IMDB):\nhttps://i.imgur.com/se6MwJ6.png\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#6\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1240#9"},"R_2gis":{"img":"^(i\\d+\\.photo\\.2gis\\.\\w+/images/\\S+)(?:_\\d+x\\d+\\.)(jpe?g|gif|png)","to":"$1.$2","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1100#5\n\nПРИМЕРЫ / EXAMPLES\nhttps://2gis.ru/moscow/gallery/firm/4504127908875338/photoId/30258560077653165?m=37.615442%2C55.760211%2F16.95\nhttps://2gis.ua/dnepropetrovsk/geo/14778071932476788%2C35.03944%2C48.467462/firm/70000001022130112/mediaTab/photos?queryState=center%2F35.033373%2C48.46717%2Fzoom%2F17\nhttps://2gis.ru/sochi/gallery/route/4222730366606936/photoId/30258560047830220?m=39.724498%2C43.58493%2F18.73"},"R_220-volt.ru":{"link":"220-volt\\.ru/catalog-\\d+/","res":":\nvar i = $._.indexOf('<div style=\"display:none;\">');\nif(i<0) {return null; }\nvar t = $._.indexOf('</div>', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3920#11\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#7\n\n\nПРИМЕРЫ:\nhttps://www.220-volt.ru/catalog/benzopily/\nhttps://www.220-volt.ru/catalog/frezernye-stanki/\nhttps://www.220-volt.ru/catalog/gazonokosilki/"},"R_2i.cz|2i.sk":{"link":"^2i\\.cz|sk/i/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=40#11"},"R_35photo.pro":{"link":"^(.+\\.)?35photo\\.pro\\/photo_\\d+\\/(\\?nude=ok)?$","res":"id=\"mainPhoto\" src=\"([^\"]+)\"","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#2\n\nПРИМЕРЫ / EXAMPLES:\nhttps://35photo.pro/naskens/albums/6699/"},"R_3DHentaiX.com":{"link":"^3dhentaix\\.com/.+/$","res":":\nvar id = $._.match(/id: \\'([^'])+/gm)[0].substring(5);\nvar nonce = $._.match(/nonce: \\'([^'])+/gm)[0].substring(8);\nvar p = this, x = new XMLHttpRequest;\nx.open('POST', 'https://3dhentaix.com/wp-admin/admin-ajax.php');\nx.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\nx.timeout = 3000;\nx.send(\"action=msv-get-sources&id=\"+id+\"&nonce=\"+nonce);\nx.onloadend = function() {\n    const resolutions = JSON.parse(this.responseText).sources[\"video-source-0\"];\n    p.prepareCaption(p.node, 'Test');\n    p.set(resolutions + \"#mp4\");\n}\nreturn null","note":"Randlai + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=560#15\nOLD:\nhttps://www.reddit.com/r/imagus/comments/uobpsx/comment/i8hr3fc\n\nПРИМЕРЫ / EXAMPLES:\nhttps://3dhentaix.com/school-girls/"},"R_3dtotal.com":{"link":"3dtotal\\.com\\/galleries\\/\\w+\\/\\S+","res":":\nvar i = $._.indexOf('data-project-on-big-screen');\nif(i<0) { return null; }\nvar t = $._.indexOf('\"}\\'', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /\"full\": [\\s\\S]+?\"url\": \"(https?:\\/\\/assets\\.3dtotal\\.com\\/[^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1680#8\n\nПРИМЕРЫ / EXAMPLES\nhttps://3dtotal.com/galleries/staff-picks"},"R_4pda.to_video":{"link":"^4pda\\.to/forum/dl/post/(\\d+)/VID_\\d+_\\d+\\.mp4","url":"https://4pda.to/forum/index.php?act=attach&id=$1","res":":\nreturn $._.match(/<a id=\"\\w+\" href=\"([^\"]+)\" target=\"_blank\">/)[1]+'#mp4';\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#3 \n\nПРИМЕРЫ\nhttps://4pda.to/forum/index.php?showtopic=1033108&st=7000#entry112592151\nhttps://4pda.to/forum/index.php?showtopic=1033108&st=14340#entry118319776"},"R_500px.com":{"link":"^(?:photos\\.)?(500px\\.)com/(?:photo/)?(\\d+).*","url":"https://api.$1com/v1/photos?ids=$2&image_size[]=34&image_size[]=2048","res":":\nvar i=JSON.parse($._).photos[$[2]],u=i.image_url\nreturn [[['#'+u[1], u[0]], [i.name, i.description, i.location, i.camera, i.lens, 'by ' + i.user.username + ' (' + i.user.fullname + ')'].filter(Boolean).join(' | ')]]","img":"^(?:pp?|drs)cdn\\.(500px\\.)org/+(?:photo/)?(\\d+)/+[^/]+/.+","note":"Baton34V + Gros-Poulet (SMH rule)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=940#16\n\n!!!\nФильтр не работает для авторизованных пользователей в Хромиум-браузерах. Для того, чтобы фильтр работал для авторизованных пользователей в браузере FireFox, необходима подмена реферера. см. ЧаВо: п.11.\n==\nThe rule does not work for authorized users in Chromium browsers. In order for the rule to work for authorized users in Firefox, it is necessary to replace the referrer. See FAQ: p.11.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://500px.com/editors"},"R_8muses.com":{"link":"comics\\.8muses\\.com/comics/album/.+","res":":\nvar i = $._.indexOf('div class=\"gallery\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></a> </div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<img class=\"lazyload\" data-src=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push(['https://comics.8muses.com'+a[1].replace('/th/','/fl/')]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2700#4\n\nПРИМЕРЫ / EXAMPLES:\nhttps://comics.8muses.com/comics/album/Theme-Collections/The-Powerpuff-Girls\nhttps://comics.8muses.com/comics/album/Bad-Girls-Art-Comics"},"R_9GAG.com":{"link":"9gag\\.com/gag/\\w+","res":":\nvar i = $._.indexOf('JSON.parse');\nif(i<0) { return null; }\nvar t = $._.indexOf('\");</script>', i);\nif(t<0) { return null; }\nvar jsr=$._.substring(i+12,t).replace(/\\\\\"/g,'\"').replace(/\\\\\\\\/g,'');\nvar json=JSON.parse(jsr);\nif (json.data.post.type=='Animated')\n  {return json.data.post.images.image460sv.vp9Url;}\nreturn json.data.post.images.image700.webpUrl;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3340#18\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3340#13\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3340#17"},"R_Abload.de":{"img":"^(.*abload.de/im)age.php\\?img=(.+\\.(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))","to":"$1g/$2","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1360#17\n\nEXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_ADmagazine.ru":{"img":"^(media\\.admagazine\\.ru/photos/\\w+/master/w_)\\d+(,c_limit/\\S+\\.\\w{3,4})","to":"$110000$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3700#15\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2840#16\n\nПРИМЕРЫ:\nhttps://www.admagazine.ru/interior/interer-s-oblozhki-v-gostyah-u-dekoratora-yulii-akimovoj\nhttps://www.admagazine.ru/article/novaya-domashnyaya-kollekciya-ot-la-doublej?utm_social-type=owned&utm_brand=ad-ru"},"R_adultempire.com":{"img":"^(.*adultempire\\.com/products/\\d+/\\d+)m.*","to":"$1h.#jpg jpeg#","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1"},"R_AEBN.net":{"img":"^(.*aebn\\.net/(dis/i)?/Stream/Movie/BoxCovers/[^_]+).+","to":"$1_xlf.#jpg jpeg#","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1"},"R_ag.ru":{"link":"ag\\.ru/screenshots/(\\w+/\\d+)","url":"http://www.ag.ru/screenshots/$1","res":"<td[^<]*?\\sstyle=\"background:url\\(([^\\)]+)\\)","img":"(cdn\\.ag\\.ru\\/media\\/resize)\\/\\d+\\/(-\\/screenshots\\/\\w+\\/\\w+\\.\\w+)","to":"$1/1920/$2","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#18\n\nПРИМЕРЫ:\nhttps://ag.ru/games/devastationzone-troopers/screenshots\nhttp://www.ag.ru/games/warlock-2-the-exiled/screenshots"},"R_AliExpress":{"link":"(?:\\w\\w|www)?\\.?aliexpress\\.(com|ru)/item/(?:[\\w-]*?/)?(\\d+)\\.html","url":"aliexpress.$1/item/$2.html","res":":\nconst r = [];\nconst oldStyle=$._.match('data: ({.+}),');\nif (oldStyle) {\n  const jsn=JSON.parse(oldStyle[1]);\n  for (const url of jsn.imageModule.imagePathList) {\n    r.push([url, '']);\n  }\n}\ntry {\n    const page = (new window.DOMParser()).parseFromString($._,'text/html');\n    let imgs = Array.from(page.querySelectorAll('div[class^=\"gallery_Gallery__picture\"] > picture > img, div[class^=\"gallery_Gallery__video\"] > video'));\n    if (imgs.length<1) {\n      imgs = Array.from(page.querySelectorAll('div[class^=\"Product_GalleryBarItem\"] > img, div[class^=\"ProductDescription-module_wrapper\"] img'));\n    }\n    for (const i of imgs) {\n        // filter out images inside links\n        if (i.parentElement.nodeName === 'A') continue;\n        let url = i.attributes.src.value.replace(/_\\d+x\\d+\\.(jpe?g|png)$/, '');\n        url = url.replace('`','');\n        r.push([url, '']);\n    }\n\n    const id = $[2];\n    const x = new XMLHttpRequest;\n    x.open('POST', 'https://aliexpress.ru/aer-api/v1/review/filters?product_id=' + id, false);\n    x.send('{\"productId\":' + id + ',\"starFilter\":\"all\",\"sort\":\"default\",\"page\":1,\"pageSize\":1000,\"translate\":true,\"local\":false}');\n    JSON.parse(x.responseText).reviewInfo.reviews.forEach(f => {\n        if (f.additionalReview && f.additionalReview.gallery && f.additionalReview.gallery.length) {\n            f.text += ' | &#128172; ' + f.additionalReview.text;\n            f.gallery = f.gallery.concat(f.additionalReview.gallery);\n        }\n        f.gallery.forEach(p => r.push([p, f.rating + '&#11088; | ' + f.text]))\n    });\n\n} catch (e) {}\n\nreturn r;","img":"(.*\\.alicdn\\.com/.+)_\\d+x\\d+\\.(jpe?g|png)","to":"$1","note":"hababr + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1460#5\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1220#21\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3600#20\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3280#9\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3060#18\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3060#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2020#11\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=960#5\n\n\n!!!\nКурсор рекомендуется наводить на название товара. Фильтр показывает не только фото товара, но и фотографии в отзывах покупателей с текстами их отзывов!\n==\nThe cursor is recommended to hover over the product name. The sieve shows not only photos of the product, but also photos in customer reviews with the texts of their reviews!"},"R_AlphaCoders.com":{"img":"^(\\w*\\.alphacoders\\.com/.+)thumb(?:big)?-(.+\\.)\\w{3,4}$","to":"$1$2#png jpg#","note":"by Rodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#11\n\nПРИМЕРЫ / EXAMPLES:\nhttps://wall.alphacoders.com/by_category.php?id=3&name=Anime+Wallpapers\nhttps://art.alphacoders.com/search?t=Dragon+Art"},"R_Amazon":{"link":"amazon\\.(?:com|de|fr|it|ca|co\\.uk|com\\.mx|co\\.jp|sg|ae|br|com\\.au|nl|in|sa|tr|se|pl)/(\\S+/dp|gp/slredirect)/\\S+","res":":\nvar i= $._.indexOf(\"{ 'initial':\");\nif (i<0) {return null;}\nvar t= $._.indexOf('}]},',i)\nif (t<0) {return null;}\nvar js= $._.substring(i,t+3).replaceAll(\"'\",'\"');\nvar imgArray=JSON.parse(js).initial;\nvar res=[];\nimgArray.forEach((item)=> {\n res.push([item.hiRes]);\n});\nreturn res;\n","img":"^((?:(?:images\\.|(?:images-[a-z]{2}\\.ssl-|(?![gz]-)[^.?]+\\.)images-)amazon|ia\\.media-imdb|m\\.media-amazon)\\.com/images/[^/]/[^.]+(?:(?!\\.[A-Za-z]{3,4}$)\\.[^A-Z_.]+)*)(?:$|(?!_(?:CB|V)\\d{4,}_\\.)[^?]*\\.([^?]*).*)","to":":\nvar x=$[2]||'#jpg png#'\nreturn '#' + $[1] + '.' + x +'\\n'+$[1] + '._SY1024_SX1024_.'+x","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3780#11\nOLD:\nBaton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360#2"},"R_Airbnb":{"link":"^airbnb\\.(com|de|it|es|fr|com.br|dk|co.uk|ru|pl|co.kr|cz|hu|at|pt|gr|com.tr|nl|se|com.tw|com.hk|com.sg|co.id|com.my|com.au|jp|is|no|ch|co.nz|ca|be|fi|ie|cat|co.in|cn|mx|cl|co.cr|co.ve|com.ar|com.bo|com.bz|com.co|com.ec|com.gt|com.hn|com.ni|com.pa|com.pe|com.py|com.sv|com.mt|gy|ae|co.il|co.th|com.ph|com.vn|co.za|lu|com.hr|com.kh|com.ua|la|kg|al|am|az|ba|com.ee|com.ro|lt|lv|me|rs|si|org)/(rooms|luxury).*/\\d+(\\?|$)","res":":\nvar pics = /\"mediaItems\":(\\[.+?\\])/.exec($._);\npics = JSON.parse(pics[1]);\nreturn pics.map(p => [p.baseUrl.replace('/pictures/','/im/pictures/') + '?im_w=1920', p.accessibilityLabel]);\n","img":"^(..\\.muscache\\.com/im/pictures/.+\\.jpe?g\\?im_w)=\\d+","to":"$1=1920","note":"by hababr\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=660#4\n\nEXAMPLE:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=660#3"},"R_airplane-pictures.net":{"img":"^(cdn\\.airplane-pictures\\.net\\/images\\/uploaded-images\\/\\d{4}\\/\\d+\\/\\d+\\/\\d+)\\w+(\\.jpg)$","to":"$1$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1680#8"},"R_Allanal|Analonly|Nympho|Swallowed|Trueanal_trailers":{"link":"(?:tour.)?(?:allanal|analonly|nympho|swallowed|trueanal).com/(?:view|scenes)/.*","res":"(?:src|href)=\"([^\"]+)\" (?:type|class)=(?:'video/mp4'|\"download-trailer\")","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1163&limit=1&m=1#1\n\nEXAMPLES:\nhttps://tour.allanal.com/scenes\nhttps://tour.analonly.com/scenes\nhttps://tour.nympho.com/scenes\nhttps://tour.nympho.com/models/emma-starletto\nhttps://tour.swallowed.com/scenes"},"R_AlternativeTo.net":{"link":"^alternativeto\\.net/software/[^/]+/about/","res":":\nconst result = JSON.parse($._.match(/__NEXT_DATA__[^{]+([^<]+)/)[1]).props.pageProps.mainItem.images.filter((i) => i.type === 'Screenshot').map((i) => [ `https://d2.alternativeto.net/dist/s/${i.fileName}?format=${/\\.gif$/.test(i.fileName) ? 'gif' : 'png'}` ])\nreturn result.length > 0 ? result : false","img":"^d4\\.alternativeto\\.net.+\\/(\\w+)\\.\\w+$","to":":\nconst elem = document.createElement('script')\nelem.textContent = `{\n  const s = JSON.stringify([\n    window.__NEXT_DATA__.props.pageProps.mainItem?.images,\n    window.__NEXT_DATA__.props.pageProps.items?.map((i) => i.images),\n    window.next.router.components['/software/[urlName]']?.props.pageProps.mainItem?.images,\n    window.next.router.components['/software/[urlName]']?.props.pageProps.items?.map((i) => i.images),\n    window.next.router.components['/software/[urlName]/about']?.props.pageProps.mainItem?.images,\n    window.next.router.components['/software/[urlName]/about']?.props.pageProps.items?.map((i) => i.images)\n  ].filter(Boolean))\n  const m = s.match(new RegExp('fileName\":\"([^\"]+)\",\"type\":\"(Screenshot|Icon)\"[^}]+${$[1]}'))\n  sessionStorage.setItem('imagus-file', m[1] + ';;' + m[2])\n  document.currentScript.remove()\n}`\ndocument.head.appendChild(elem)\nconst [ file_name, file_type ] = sessionStorage.getItem('imagus-file').split(';;')\nsessionStorage.removeItem('imagus-file')\nreturn `https://d2.alternativeto.net/dist/${file_type === 'Icon' ? 'icons' : 's'}/${file_name}?format=${/\\.gif$/.test(file_name) ? 'gif' : 'png'}`","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1500#15\n\nПРИМЕРЫ:\nhttps://alternativeto.net/software/pdf-expert/\nhttps://alternativeto.net/software/lucidchart/about/\nhttps://alternativeto.net/software/rxdb/about/\nhttps://alternativeto.net/software/wiztree/?platform=windows&sort=addeddate"},"R_AnalVids.com":{"link":"analvids.com/watch/\\d+/.+","res":":\nmax_resolution = 1080;\n\nconst textObj = $._.match(/\"qualities\":(?<clips>\\[.+?\\])/i)?.groups?.clips;\nif (!textObj) return;\n\nconst res_map = {'1080p': 1080, hd: 720, vga: 480, web: 240};\nconst trailers = JSON.parse(textObj)\n  .map(a => ({ res: res_map[a.quality], url: a.src }))\n  .filter(a => a.res <= max_resolution)\n  .sort((a, b) => a.res - b.res);\n\nreturn trailers.pop()?.url || null;\n","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3780#21\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3600#16\n\n\nChange max_resolution to your max preferred resolution.\ne.g.\n1080 will result in 1080p video\n900 will result in 720p video"},"R_anime-pictures.net":{"link":"^anime-pictures\\.net/pictures/view_post/\\d+\\?lang=","res":"href=\"(/pictures/download_image/[^\"]+)\"\nhref=\"(/pictures/get_image/[^\"]+)\"","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttps://anime-pictures.net/?lang=ru\nhttps://anime-pictures.net/pictures/view_posts/0?lang=ru"},"R_animal.memozee.com":{"img":"^(animal\\.memozee\\.com)/Thumb(\\d+)/thumb-(\\d+)\\.jpg$","to":"#$1/Arch$2/$3.jpg\n$1/Arch$2/$3-m.jpg","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://animal.memozee.com/list.php\nhttp://animal.memozee.com/list.php?&p=3800"},"R_AQA.ru":{"img":"^((www\\.)?aqa\\.ru\\/forum\\/photobig\\.php\\?id=\\d+)","to":"$1","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1020#9\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.aqa.ru/forum/chto-nujno-znat-prejde-chem-zadavat-voprosyi-pro-zolotyih-84481-page1"},"R_APKPure.com":{"link":"^apkpure\\.com/[\\w-%]+/[\\w.]+","res":":\nlet i = $._.indexOf('<ul class=\"pa det-pic-list\"');\nif(i<0) { return null; }\nlet t = $._.indexOf('<\\/ul>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n  if (a[1].startsWith('http')) {\n    res.push([a[1]]);\n  }\n  a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#12\n\nПРИМЕРЫ / EXAMPLES:\nhttps://apkpure.com/search?q=Yandex.Metro\nhttps://apkpure.com/search?q=player&t=app"},"R_APNews.com":{"link":"^apnews\\.com/article/[\\w-]+","res":":\nlet json=JSON.parse($._.match(/window\\['titanium-state'\\] = ({.+?})\\s/)[1]).content.data;\nlet res = [];\nfor (obj of json[Object.keys(json)[0]].media) {\n  if (obj.imageMimeType.startsWith('image/')) {\n    res.push([''+obj.gcsBaseUrl+obj.imageRenderedSizes[0]+obj.imageFileExtension,obj.caption]);\n  }\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1500#15\n\n!!!\nВ некоторых странах (например в РФ) нужен прокси.\n==\nIn some countries (for example, in the Russian Federation), a proxy is needed.\n+\nвидео в фильтре не поддерживается\n==\nthe video in the rule is not supported\n\nEXAMPLES\nhttps://apnews.com/hub/travel\nhttps://apnews.com/hub/sports\nhttps://apnews.com/hub/health"},"R_Apple.com_music":{"link":"music\\.apple\\.com/\\w\\w/album/[^/]+/\\d+","res":"<meta property=\"og:image:secure_url\" content=\"([^\"]+)\">","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#9\n\n!!!\nНаводить курсор на название альбома / Hover over album name.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://music.apple.com/ru/search/album?term=Beautiful Metamorphosis"},"R_Apteka.ru":{"link":"^apteka\\.ru/product/.*/","res":":\nvar i = $._.indexOf('<div class=\"ViewProductPage__photo\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</ul>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<img src=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1].replace('preview','original')]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;\n","img":"(images\\.apteka\\.ru\\/)medium(_.+\\.jpeg)","to":"$1original$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2860#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2280#21\n\n\n!!!\nКурсор лучше наводить на название препарата\n\nПРИМЕРЫ:\nhttps://apteka.ru/search/?q=ЗУБНАЯ%20ЩЕТКА&page=1\nhttps://apteka.ru/search/?q=ЗУБНАЯ%20паста&page=1\nhttps://apteka.ru/search/?q=витамины"},"R_Apteka.Magnit.ru":{"link":"^apteka\\.magnit\\.ru/product/[\\w-]+","res":":\nlet i = $._.indexOf('<div class=\"product-slider__box\" ');\nif(i<0) { return null; }\nlet t = $._.indexOf('</div></div></div>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<img data-url=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1].replace(/resize\\/\\d+x\\d+\\//,'resize/1000x1000/')]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#7\n\nПРИМЕРЫ:\nhttps://apteka.magnit.ru/search?q=биодобавки\nhttps://apteka.magnit.ru/search?q=антибиотики"},"R_Archive.org":{"link":"^archive\\.org/details/.+","res":":\nvar video=$._.match(/<meta property=\"og:video\" content=\"([^\"]+)\">/);\nif (video) return video[1];\nvar i = $._.indexOf('aria-label=\"Item image slideshow\">');\nif(i<0) { return null; }\nvar t = $._.slice(t).search(/<\\/div>\\s+<\\/section>\\s+<\\/div>/gi);\nif(t<0) { return null; }\nt=t+i;\nvar res = [];\nvar re = /<a class=\"carousel-image-wrapper\" href=\"([^\"]+)\"[\\s\\S]+?<div class=\"carousel-caption\">(?:\\s+)?(.+)<\\/div>/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push(['https://archive.org'+a[1],a[2].trim()]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=60#3\n\n!!!\nВ РФ нужен прокси.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://archive.org/details/album_covers\nhttps://archive.org/details/coverartarchive\nhttps://archive.org/details/vintage_cartoons\nhttps://archive.org/details/sinema-trailers\nhttps://archive.org/search.php?query=mediatype:image&sort=-publicdate&and[]=languageSorter:%22Spanish%22"},"R_ArtUntamed.com":{"link":"^artuntamed\\.com/index\\.php\\?media/[\\w-.]+/","res":":\nlet i = $._.indexOf('<div class=\"p-body-content\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div class=\"block-outer block-outer--after\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /data-src=\"([^\"]+)\"/gi\nlet data = $._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nПМ (09-03-22)\n\n!!!\nВ результатах поиска курсор нужно наводить на название изображения.\n==\nIn the search results, the cursor should be hovered over the name of the image.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://artuntamed.com/index.php?media/featured\nhttps://artuntamed.com/index.php?members/odastein.34/#xfmgAlbums\nhttps://artuntamed.com/index.php?search/75126/&q=blondes&t=xfmg_media&o=date\nhttps://artuntamed.com/index.php?search/75130/&q=black&t=xfmg_album&o=date"},"R_ArtUntamed.com_attachments":{"link":"^artuntamed\\.com/index\\.php\\?attachments/[\\w-.]+/","note":"by Baton34V\nПМ (09-03-22)\n\nПРИМЕРЫ / EXAMPLES:\nhttps://artuntamed.com/index.php?ams/blender-3-0-and-a-new-era-has-started.59"},"R_Astronomy.ru_forum":{"link":"astronomy\\.ru/forum/index\\.php.+action=media;sa=media;in=\\d+","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2600#13\n\nПРИМЕРЫ:\nhttps://astronomy.ru/forum/index.php?action=media"},"R_Auchan.ru":{"link":"(www\\.)?auchan\\.ru/product/[\\w-]+/","res":":\nvar i = $._.indexOf('<div class=\"swiper-container\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</picture></div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /img src=\"([^\"]+)\" alt/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3040#9\n\n!!!\nСайт может не открываться на некоторых Хромиум-браузерах.\n\nПРИМЕРЫ:\nhttps://www.auchan.ru/catalog/hlebnaya-vypechka/\nhttps://www.auchan.ru/catalog/zootovary/"},"R_Auction.ru":{"link":"auction\\.ru\\/offer\\/.+\\.html","res":":\nvar i = $._.indexOf('<div class=\"fotorama\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"offer__block\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /href=\"(https:\\/\\/static\\.auction\\.ru\\/offer_images\\/(?:\\w+\\/)?\\d{4}(?:\\/\\d\\d){3}\\/big\\/\\w\\/\\w+\\/\\w+\\.\\w+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;\n","img":"(static\\.auction\\.ru\\/offer_images\\/(?:\\w+\\/)?\\d{4}(?:\\/\\d\\d){3}\\/)small(\\/\\w\\/\\w+\\/\\w+\\.\\w+)","to":"$1big$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2000#5\n\nПРИМЕРЫ:\nhttps://auction.ru/listing/offer/tovary_dlja_doma_i_sporta-17"},"R_Auto.ru":{"link":"^auto\\.ru/(?:\\w+/)+[\\da-f-]+/","res":":\nlet i = $._.indexOf('<div class=\"ImageGalleryDesktop__image-container\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('</div></div></div><div class=\"ImageGalleryDesktop__thumbs-container\"', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /src=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=180#5\n\nПРИМЕРЫ:\nhttps://auto.ru/scooters/all/\nhttps://auto.ru/cars/all/body-allroad/"},"R_Auto.RIA.com":{"link":"auto\\.ria\\.com\\/.+\\.html","res":":\nvar i = $._.indexOf('div class=\"carousel-inner\"');\nconsole.log(i);\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"preview-gallery mhide\">', i);\nconsole.log(t);\nif(t<0) { return null; }\nvar res = [];\n\nvar re = /<img class=\"outline m-auto\" src=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1].replace('s.jpg','f.jpg')]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;\n","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2160#6"},"R_Auto.RIA.com_2":{"link":"auto\\.ria\\.com\\/newauto\\/.+\\.html","res":":\nvar i = $._.indexOf('window.initialState=');\nif(i<0) { return null; }\nvar t = $._.indexOf('};</script>', i);\nif(t<0) { return null; }\nvar sources=JSON.parse($._.substring(i+20,t+1));\nvar res = [];\nfor (var k in sources.photos) {\n var url='https://auto.ria.com/photos/'+ sources.photos[k].src;\n res.push([url]);\n}\nreturn res;\n","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2160#6\n\nПРИМЕРЫ / EXAMPLES:\nhttps://auto.ria.com/search/?indexName=auto,order_auto,newauto_search&year[0].gte=2019&categories.main.id=1&brand.id[0]=84&model.id[0]=793&price.currency=1&abroad.not=0&custom.not=1&page=0&size=10&scrollToAuto=26989036"},"R_Avito.ru":{"link":"^avito\\.ru/[^/]+/[^/]+/.+_\\d{10,}","res":":\nlet res = [];\nlet media = [];\n\nconst data = $._.match(/__initialData__[^\"]+\"([^\"]+)\"/)[1];\nconst data_json = JSON.parse(decodeURIComponent(data));\n\nfor (const key in data_json) {\n  if (key.includes('@avito/bx-item-view')) {\n    media = data_json[key].buyerItem.galleryInfo.media;\n  }\n}\n\nfor (imgs of media) {\n  let best_quality = 0;\n  let best_videoUrl = '';\n  for (imgSize in imgs.urls) {\n    let isa=imgSize.split('x');\n    let quality=parseInt(isa[0])*parseInt(isa[1]);\n    if (quality>best_quality) {\n      best_quality=quality;\n      best_videoUrl=imgs.urls[imgSize];\n    }\n  }\n  if (best_quality!=0) {\n    res.push([best_videoUrl]);\n  }\n}\n\nreturn res;","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#2\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=960#4\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=680#19\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#6\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2140#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=780#5\n\n!!!\nКурсор рекомендуется наводить на название товара."},"R_AwesomeScreenshot.com":{"link":"^awesomescreenshot\\.com/image/\\d+/","res":"<meta property=\"og\\:image\" content=\"([^\"]+)\"\n<meta name=\"twitter\\:image\" content=\"([^\"]+)\"","note":"by Rodny\nhttp://forum.ru-board.com/topic.cgi?forum=5&bm=1&topic=50874&start=280\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/awesomescreenshot.com\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=280#20"},"R_AwesomeScreenshot.com_sharekey":{"link":"^awesomescreenshot\\.com/(image|video)/(\\d+)\\?(key=\\w+)","url":": 'awesomescreenshot.com/api/v1/'+$[1]+'/load'+($[1]=='video' ? '_video' : '')+'?id='+$[2]+'&'+$[3];","res":":\nlet jsn=JSON.parse($._);\nlet fUrl=($[1]=='video' ? 'fileMP4URI':'imageFileURI');\nlet res=jsn.data[$[1]][fUrl] ;\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=300#5\nold\nhttp://forum.ru-board.com/topic.cgi?forum=5&bm=1&topic=50874&start=280\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=280#20"},"R_badfon.ru|goodfon.ru":{"link":"(?:avto\\.)?(?:bad|good)fon\\.ru/(?:[^/]+/)?(?:wallpaper/?.+\\.html|download\\.php\\?id=\\d+&rash=\\d+x\\d+|download/[^/]+/\\d+x\\d+/?)$","res":":\nlet res;\nlet mtch=$._.match(/<meta property=\"og:image\" content=\"(https?:\\/\\/img\\d\\.(?:good|bad)fon\\.ru\\/)wallpaper\\/big(\\/\\w\\/\\w+\\/.+\\.jpe?g)\"[\\s\\S]+<meta property=\"og:description\" content=\"автор:[^:]+: (\\d+x\\d+)/);\nif (mtch!=null) {\n   res=mtch[1]+'original/'+mtch[3]+mtch[2];\n}\nelse {\n   mtch=$._.match(/<a href=\"([^\"]+)\" id=\"/);\n   res=mtch[1];\n}\nreturn res;","note":"by Rodny + Baton34V(fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#13"},"R_bayimg.com":{"link":"^(.*)bayimg\\.com/\\w{9}","res":"img src=\\\"/(.+(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))\\\" id","to":"https://bayimg.com/$1","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#12\n\nПРИМЕРЫ / EXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#11"},"R_Bdsmlr.com":{"link":"\\w+\\.bdsmlr\\.com/post/\\d+$","res":":\nvar i = $._.indexOf('<div class=\"postholder\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"tags\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /class=\"sidepostimage\"\\s+src=\"([^\"]+)\">/gi\nvar a = re.exec($._.substring(i,t));\nwhile(a) {\n res.push([a[1]]);\n a = re.exec( $._.substring(i,t) );\n}\nreturn res;\n","note":"Baton34V"},"R_Behance.net":{"link":"(?:www\\.)?behance\\.net/gallery/\\d+/.*","res":":\nvar i = $._.indexOf('<div id=\"project-modules\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"lightbox-overlay-slide\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar part=$._.substring(i,t);\nvar re= /  <img src=\"([^\"]+)\"/gi\nvar a = re.exec(part);\nwhile(a) {\n   res.push([a[1]]);\n   a = re.exec(part);\n}\nreturn res;\n","img":"^(behance\\.vo\\.llnwd\\.net)(/profiles\\d+/\\d+/projects/\\d+/)([^/]+)(\\.(?:jpe?g|png|gif))$","to":"$1$2hd_$3$4","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#8\nOLD:\nRodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3140#17\n\n\nПРИМЕР:\nhttps://www.behance.net/vdpinto"},"R_Besplatka.ua":{"link":"^besplatka\\.ua\\/\\w\\w/obyavlenie\\/.+","res":":\nvar i = $._.indexOf('<div class=\"message-image swiper-container\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"swiper-pagination\"></div>', i);\nif(t<0) { return null; }\nlet data=$._.substring(i,t);\nvar res = [];\nvar re = /src=\"([^\"]+)\"/gi\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=500#2\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2060#14\n\n\nПример:\nhttps://besplatka.ua/ru/avtozapchasti/audio-i-videotehnika"},"R_BestBlades.ru":{"link":"^bestblades\\.ru/[\\w-]+/[\\w-]+/[\\w-]+/([\\w-]+)?","res":":\nvar i = $._.indexOf('<div class=\"ab_vg-images-wrapper clearfix\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"ypi-text-image-zoom ty-center\"', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#3"},"R_BidBaits.ru":{"link":"^bidbaits\\.ru/bids/\\d+/?","res":":\nvar i = $._.indexOf('<div class=\"item-gallery__preview\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<i class=\"item-gallery__zoom-in jsGalleryZoomInBtn\">',i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /src=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1060#9\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3780#9\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#7\n\nПРИМЕРЫ / EXAMPLES:\nhttps://bidbaits.ru/catalog/casting/\nhttps://bidbaits.ru/search?q=oneten%20110&c=&v=&min=&max=&filter=new|original&page=3"},"R_bigimage.cz|imagem.app|imglink.cc|itrash.ru":{"link":"^bigimage\\.cz|imagem\\.app|imglink\\.cc|itrash\\.ru/image/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#19\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=40#15"},"R_bigl.ua":{"link":"^bigl\\.ua/p\\d+-.+$","res":":\nlet images=$._.match('data-productgallery-images=\"([^\"]+)\"')[1];\nlet res = [];\nlet re = /&#34;url&#34;: &#34;([^#]+)&#34;,/gi\nlet a = re.exec(images);\nwhile(a) {\n  res.push([a[1]]);\n   a = re.exec(images);\n}\nreturn res;","img":"^(images\\.prom\\.ua/\\d+)_w[12]00_h[12]00_(.+\\.jpg)$","to":"$1_w640_h640_$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=500#2\n\nhttp://bigl.ua/t-Akkumulyatornye-batarei-k-noutbukam\nhttp://bigl.ua/Mobilnye-telefony"},"R_bitchute.com":{"link":"(?:www\\.)?bitchute\\.com/video/\\w+/","res":"<source src=\"([^\"]+)\" type=\"video/mp4\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2520#9\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2520#8"},"R_Booking.com":{"link":"^(booking.com/hotel/.*\\.html)\\?.+$","url":"$1","res":":\nreturn [...$._.matchAll(/highres_url:\\s*'(.+?)'/g)].map(i => [i[1], '']);","img":"(bstatic\\.com/.*images/hotel)/(?:square60|max\\d+(?:x\\d+)?)/(.*\\.jpg.*)","to":"$1/max2048x2048/$2","note":"by hababr\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=660#2\n\n!!!\nКурсор следует наводить на название объекта\n==\nThe cursor should be pointed at the name of the object"},"R_booru.io":{"link":"^(booru\\.io/)p/([\\w-]+)","url":"$1api/legacy/entity/$2","res":":\nvar x=JSON.parse($._);\nvar bq=0;\nvar u='';\nObject.entries(x.transforms).forEach(([key, value]) => {\n var q=parseInt(key.match(/width=(\\d+):image\\/jpeg/)[1]);\n if (q>bq) {\n   bq=q;\n   u='https://booru.io/api/legacy/data/' + value;}\n});\nreturn u;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=300#5\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360"},"R_booru.org|mspabooru.com":{"useimg":1,"link":"^(?:mspabooru\\.com|[\\da-z-]{1,30}\\.booru\\.org)/index\\.php\\?page=post&s=view&id=\\d+","res":"=\"(https?://(?:mspa|img\\.)booru\\.[^\"]+)\" id=\"image\"","img":"^thumbs\\d*\\.((?:booru\\.org|mspabooru\\.com)/)(?:([^/]+/)(?:thumbnails/+)?)?(\\d+/)thumbnail_([^?]+).*","to":":\nreturn ($[1][0]=='b'?'img.':'')+$[1]+($[2]||'')+'images/'+$[3]+$[4];","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\nПРИМЕРЫ / EXAMPLES\nhttps://www.reddit.com/domain/booru.org/\nhttps://www.reddit.com/domain/mspabooru.com/\nhttps://mspabooru.com/index.php?page=post&s=list&tags=all"},"R_brazzers|digitalplayground|mofos|realitykings|rk|twistys":{"link":"(?:brazzers|rk|realitykings|mofos|digitalplayground|twistys)\\.com\\/(?:video|scene|series)\\/(\\d+)\\/.+","res":":\nconst max_resolution = 1080;\n\nconst m = /jwt\":\"([^\"]+)/g.exec($._);\nconst token = m ? m[1] : null;\nif (!token) return;\n\nconst req = new XMLHttpRequest();\nreq.open(\n 'GET',\n `https://site-api.project1service.com/v2/releases/${$[1]}`,\n false\n);\nreq.setRequestHeader('instance', token);\nreq.send();\nif (req.status !== 200) return;\n\nlet data = {};\ntry {\n data = JSON.parse(req.responseText);\n} catch (e) {\n return;\n}\n\nlet streams = data.result.children.find(c => c.type.toLowerCase() === 'trailer')\n ?.videos?.full?.files;\n\nif (!streams) {\n streams = data?.result?.videos?.mediabook?.files;\n}\nif (!streams) return;\n\nconst trailers = Object.keys(streams)\n .map(s => ({\n res: Number(s.replace(/\\D/g, '')),\n url: streams[s].urls.download,\n }))\n .filter(a => a.res <= max_resolution)\n .sort((a, b) => b.res - a.res);\n\nif (!trailers.length) return;\nreturn trailers[0].url;\n","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3780#4\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#19\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3600#18\n\nbrazzers.com\ndigitalplayground.com\nmofos.com\nrealitykings.com\nrk.com\ntwistys.com\n\nChange max_resolution to your max preferred resolution.\ne.g.\n1080 will result in 1080p video\n900 will result in 720p video"},"R_Brutalica.ru":{"link":"^brutalica\\.ru/[\\w-]+/[\\w-]+(/[\\w-]+)?","res":":\nvar i = $._.indexOf('<ul class=\"more-image\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</ul>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#3"},"R_Bunkr.ru_video":{"link":"(?:cdn(\\d*)|stream)?\\.?bunkr\\.ru/(?:\\w/)?(.+?\\.(?:mp4|wmv|mkv|m4v|mov|ts))","ci":1,"res":":\nconst re1 = /(?:mediafiles|videoId)\":\"([^\"]+)/g;\nconst m1 = [...$._.matchAll(re1)].map(m1 => m1[1]);\nif (m1.length == 2) return `${m1[0]}/${m1[1]}`;\nreturn `//media-files${$[1] || ''}.bunkr.ru/${$[2]}`;","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1160#4\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=140#15\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#9"},"R_Catalog.Onliner.by":{"link":"^catalog\\.onliner\\.by/\\w+/\\w+/\\w+","res":":\nvar i = $._.indexOf('<div id=\"product-gallery\"');\nif(i<0) {console.log('123');return null; }\nvar t = $._.indexOf('<div id=\"product-gallery-fotorama\"', i);\nif(t<0) {console.log('456');return null; }\nvar res = [];\nvar re = /data-original=\"([^\"]+)\"/gi\ndata=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a){\nconsole.log(a[1]);\n    res.push([a[1]]);\n    a = re.exec(data);\n}\nreturn res;\n","img":"^(content2\\.onliner\\.by/catalog/device/)\\w+(/[0-9a-f]+\\.jpe?g)$","to":"$1main$2","note":"by Rodny+Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#11\n\nПРИМЕРЫ / EXAMPLES:\nhttps://catalog.onliner.by/notebook"},"R_CarpFishing.cz":{"link":"^(carpfishing\\.cz)/fotografie/(\\d+)/$","img":"^(carpfishing.cz)/obrazky/portal-foto/(\\d+)-nahled\\.jpg$","to":"$1/obrazky/portal-foto/$2.jpg","note":"by Rodny\n\nEXAMPLES:\nhttp://www.carpfishing.cz/fotografie/"},"R_casimages.com":{"img":"(nsm(?:\\d+)\\.casimages\\.com/img/\\d{4}/\\d{2}/\\d{2}//)mini_(\\d+\\.(?:jpe?g|a?png|gif))","to":"$1$2","note":"by Rodny\n\n\nprocessed links: ^http://www\\.casimages\\.com/photos/[^/]+/\\d+(/\\d+)?$\n2nd version:\nres: \"<img border='1'  class='showimglastalbums' style='color: #333333;' src=([^\\s]+) width=\"\nto: $1\nuse img: off"},"R_CGSociety.org":{"link":"^(.+)\\.cgsociety\\.org/art/.+","res":"data-image-largest=\"([^\"]+)\"","img":"^(cgimg\\.s\\d+\\.amazonaws\\.com/t/g\\d+.+)_\\d+(\\.jpe?g)$","to":"#$1_orig$2\n$1_large$2\n","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttps://cgsociety.org/galleries/featured\nhttps://cgsociety.org/galleries/trending"},"R_CGSociety.org_2":{"link":"((?:\\w+\\.)?cgsociety\\.org)(?:/c)?(?:/.+)?(/\\w{4,})/[^/]+$","url":"$1/api/images$2","res":":\nlet jsn=JSON.parse($._);\nlet res=[];\nfor (image of jsn.included)\n{\n  if (image.type=='works') {\n    if (image.attributes.work_type=='image') {\n      res.push([image.attributes.original_url]);\n    }\n    else if (image.attributes.work_type=='embed') {\n      res.push([image.attributes.medium_url]);\n    }\n  }\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=500#19\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2580#17\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://cgsociety.org/galleries/recent\nhttps://cgsociety.org/search/works?query=GREEN\nhttps://cgsociety.org/?channel_genre=Character%20Art&homepage_section=workshops"},"R_chevereto":{"useimg":1,"link":"^[^/(lostpic.net)]{4,70}/image/\\w{1,5}$","res":"ratio:\\s*\\d+\\.\\d+,\\s*url: ?\"([^\"]+)\n=\"og:title\" content=\"([^\"]+)","img":"^([^/]{4,70}/(?:images/)?20(?:\\d\\d/){3}.+\\.)(?:th|md)\\.","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=160#10\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1040#21\n\nПРИМЕРЫ / EXAMPLES:\nhttp://rutor.info/torrent/719524/anna_anna-2019-bdrip-ot-twister-exkinoray-fra-transfer-itunes"},"R_chipdip.ru":{"link":"(?:www\\.)?chipdip\\.ru\\/product\\d?\\/.+","res":":\nvar i = $._.indexOf('<div class=\"product__image-previews\" id=\"productphotobox\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"product_main-controls\">', i);\nif(t<0) { return null; }\nvar res=[];\nvar re = /span data-fancybox-href=\"([^\"]+)\" title=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1],a[2]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2380#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2320#12\n\n\nNB\nКурсор наводить на название товара."},"R_CWS":{"link":"chrome\\.google\\.com/webstore/detail/.+/(\\w+)\\?(.+)","res":":\nx = new XMLHttpRequest();\nx.open('POST', 'https://chrome.google.com/webstore/ajax/detail?' + $[2] +'&pv=20201016&id=' +$[1],false);\nx.timeout=3000;\nx.send();\nif (x.readyState != 4) return;\nif (x.status != 200) return;\nrawJson=x.responseText;\nvar i = rawJson.indexOf('\"Extension\",\\[\\[\"' + $[1] +'\"');\nif(i<0) { return null; }\nvar t = rawJson.indexOf('webstore\\/detail', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /(https?:\\/\\/\\w+\\.googleusercontent\\.com\\/[\\w\\-]+)\\\\u003d[\\w\\-]+\",\"/gi\nvar a = re.exec( rawJson.substring(i,t) );\nwhile(a)   {\n   res.push([a[1]+'=s0']);\n   a = re.exec( rawJson.substring(i,t) );\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2540#9\n\n!!!\nМышку наводить на серое поле вокруг картинки-названия плагина.\n==\nHover the mouse cursor over the gray field around the plugin name picture. \n\n!!!\nДанный фильтр работает только в FF (на странице CWS расширения браузера Chrome запрещены)\n==\nWorks only in FF (on the CWS page, chrome browser extensions are prohibited)\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://chrome.google.com/webstore/search/downloader?hl=en&_category=extensions"},"R_Cian.ru":{"link":"(\\w+\\.)?cian\\.ru/.*\\d+/","res":":\nvar i = $._.indexOf('\"photos\":');\nif(i<0) { \n  i = $._.indexOf('\"gallery\":{\"imageList\":');}\nif(i<0) { return null; }\nvar t = $._.indexOf('}]', i);\nif(t<0) { return null; }\nvar res = [] \nvar re = /\"fullUrl\":\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a){\n    res.push([a[1].replace(/\\\\u002F/g,'/')]);\n    a = re.exec( $._.substring(i,t) );\n}\nreturn res;","img":"(cdn-p\\.cian\\.site/images/.+-)\\d(\\.jpe?g?)","to":"$11$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2920#9\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2920#6\n\n\n!!!\nВ поисковой выдаче наводить курсор на название объекта.\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.cian.ru/snyat-kvartiru/\nhttps://www.cian.ru/snyat-komnatu/\nhttps://www.cian.ru/kupit-dom-moskovskaya-oblast/\nhttps://www.cian.ru/cat.php?deal_type=rent&engine_version=2&object_type%5B0%5D=1&offer_type=suburban&region=1&type=4\nhttps://www.cian.ru/cat.php?deal_type=sale&engine_version=2&offer_type=flat&region=1\nhttps://www.cian.ru/cat.php?"},"R_Citilink.ru":{"link":"(?:www\\.)?citilink\\.ru\\/product\\/[\\w-]+\\/","res":":\nvar i = $._.indexOf('<div class=\"ImageGallery__main')\nif(!i) { return null; }\nvar t = $._.indexOf('</span></div>', i);\nif(!t) { return null; }\nvar res = [] \nvar re = /src=\"(https:\\/\\/[\\w-\\.]+citilink\\.ru\\/[\\w]+b\\.jpg)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3380#20\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2860#7\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2380#5\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1320#12"},"R_Cloud.Mail.ru":{"link":"cloud\\.mail\\.ru/public/(\\w{4}/\\w{9})","img":"thumb\\.cloud\\.mail\\.ru\\/weblink\\/thumb\\/xw[01]\\/(\\w{4}/\\w{9})","to":"https://thumb.cloud.mail.ru/weblink/thumb/xw1/$1","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3380#2\n\n!!!\nФильтр предназначен только для внешних ссылок на медиаконтент с cloud.mail.ru.\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360#21"},"R_clip2net.com|c2n.me":{"link":"(?:^clip2net\\.com/s/|^c2n\\.me/)\\w+$","res":"<meta property=\"og:image\" content=\"([^\"]+)\">","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2580#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2320#18\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://clip2net.com/gallery_view.html\nhttps://www.reddit.com/domain/c2n.me/"},"R_clips4sale.com":{"link":"clips4sale.com/studio/\\d+/\\d+(/.*)?","res":":\nlet m = /source src=\"(.*)\" type='video\\/mp4/g.exec($._)\nif (m) return m[1];\n \nm = /property=\"og:image\" content=\"([^\"]+)/g.exec($._)\nif (m) return m[1];\n\nreturn;","img":"^imagecdn\\.clips4sale\\.com/.*(?:jpe?g|png|gif)","to":":\nconst img_elem = document.querySelector(`img[src*=\"${$[0]}\"]`);\nconst gif = img_elem.getAttribute(\"data-src\")\nreturn gif || img.elem.src;","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3620#12\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1\n\n!!!\nКурсор наводить на название клипа / Mouse over the title to get the mp4 preview\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/clips4sale.com/\nhttps://www.clips4sale.com/studio/122965/eva-de-vil\nhttps://www.clips4sale.com/studio/76569/goddess-lindsey"},"R_ComixZilla.com":{"link":"^comixzilla\\.com/en/comic-g/.*/$","res":":\nlet parser = new DOMParser();\nlet doc = parser.parseFromString($._, \"text/html\");\nlet images = doc.querySelectorAll('.dgwt-jg-item a');\nlet final = [];\nfor(image of images){\n   final.push([image.href]);\n}\nreturn final;","note":"by Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#12\n\n!!!\nВ некоторых странах может понадобиться прокси\n==\nIn some countries, you may need a proxy"},"R_communities.win":{"img":"^media\\.communities\\.win/preview/\\w+\\.\\w+","to":":\nlet urlNode=this.node.parentNode.parentNode.nextElementSibling.children[1].firstChild;\nconsole.log(urlNode.getAttribute('href'));\nreturn urlNode.getAttribute('href');","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1160#20\n\nПРИМЕРЫ / EXAMPLES:\nhttps://communities.win/c/all\nhttps://communities.win/c/Animals/"},"R_ComputerUniverse.net":{"link":"^computeruniverse\\.net/\\w\\w/p/\\d+","res":":\nlet res=[];\nlet jsn=JSON.parse($._.match(/<script id=\"__NEXT_DATA__\" type=\"application\\/json\">(.+?)<\\/script>/)[1]);\nif (jsn.props.pageProps.legacyFormat==false) {\n jsn=JSON.parse(atob(jsn.props.pageProps.edgeContextBase64));\n}\nelse {\n jsn=jsn.props.pageProps.edgeContext;\n}\nfor (let imgUrl of jsn.pageData.staticData.product.ProductPictures) {\n  res.push(['https://img.computerunivers.net'+imgUrl.ImageUrlBig]);\n}\nreturn res;","img":"(img\\.computerunivers\\.net/images/)\\d\\dx\\d\\d(/[A-F0-9]+\\.\\w{3,4})$","to":"$11000x1000$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1200#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#3\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=4000#14\n\n!!!\nТребуется повторное наведение курсора\n==\nRe-hovering of the cursor is required\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.computeruniverse.net/ru/c/noutbuki-planshety-i-pk/bloknoty-i-aksessuary"},"R_Coub.com":{"link":"^coub\\.com\\/view\\/\\w{4,6}","res":":\nvar i = $._.indexOf(\"<script id='coubPageCoubJson' type='text/json'>\");\nif(i<0) { return null; }\nvar t = $._.indexOf(\"script>\",i);\nif(t<0) { return null; }\nvar re=/{.*}/gi\nvar sourcesSTR = re.exec($._.substring(i,t));\nvar ulr;\nvar js1=JSON.parse(sourcesSTR)\nvar url = js1.file_versions.share.default;\nif (url==null) {\n  url=js1.file_versions.html5.video.higher.url;\n}\nreturn url;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2600#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2220#7\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2580#13\n\n\n!!!\nПо поводу только частичной работоспосбности:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2580#13\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/coub.com"},"R_csfd.cz|csfd.sk":{"img":"^(image\\.pmgstatic\\.com/).+?(files/images.+)","to":"$1$2","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1100#3\n\n!!!\nIn some cases, the cursor needs to be hover again.\n+\nThe rule for Ublock Origin extension (it is necessary for the sieve to work in Galleries):\ncsfd.cz,csfd.sk##.media-img > picture > img:style(pointer-events: auto !important)"},"R_cweb-pix.com|imagehousing.com|imgbank.cz|iv.pl":{"link":"^cweb-pix\\.com|imagehousing\\.com|imgbank\\.cz|iv\\.pl/image/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=40#11"},"R_Darudar.org":{"img":"^(static\\.daru-dar\\.org/s)\\d+(/[0-9a-f]{2}\\.[0-9a-f]{2}/[0-9a-f]{2}/[0-9a-f]{2}/[0-9a-f]{2}/[0-9a-f]+\\.jpe?g)$","ci":2,"to":"$11024$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#11"},"R_DeepSkyHosting.com":{"img":"(deepskyhosting\\.com/img/\\w/)\\d+(/\\d+\\.\\w+)","to":"$1full$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=700#11\n\nПРИМЕРЫ / EXAMPLES:\nhttps://deepskyhosting.com/id621"},"R_Deezer.com":{"img":"((?:e-)?cdns?-images\\.dzcdn\\.net\\/images\\/(?:cover|playlist|artist|talk)\\/\\w+\\/)[^\\.]+\\.jpg","to":"$11200x1200-000000-95-0-0.jpg","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3520#5\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2460#12\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3260#21\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.deezer.com/ru/channels/charts"},"R_defense.gov_photos":{"link":"defense\\.gov\\/Multimedia\\/Photos\\/igphoto\\/\\d{10}\\/","res":"<a class=\"details-url\" href=\"(https?:\\/\\/media\\.defense\\.gov\\/\\d{4}\\/\\w+\\/\\d{2}\\/\\d{10}\\/-1\\/-1\\/0\\/.+\\.\\w+)\">","img":"^(media\\.defense\\.gov/\\d+/\\w+/\\d+/\\d+)/\\d+/\\d+(/\\d+/[\\w-]+\\.(?:jpe?g|png|gif))$","ci":2,"to":"$1/2000/2000$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#11\nOLD:\nby Rodny + by Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#12\n\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.defense.gov/photos/"},"R_dePIC.me":{"link":"^depic\\.me/\\w+/.+","res":"<img src=\"([^\"]+)\"[^>]+id=\"pic\"","note":"by Rodny+Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=180#3\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/depic.me/"},"R_DimonVideo.ru":{"link":"^dimonvideo\\.ru\\/go\\/\\?.+(png|bmp|jpe?g)$","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1000#8\n\n!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\nПРИМЕРЫ:\nhttps://dimonvideo.ru/uploader/484417\nhttps://dimonvideo.ru/uploader/485143\nhttps://dimonvideo.ru/uploader/486070"},"R_Discogs":{"link":"^discogs\\.com/(?:\\w\\w/)?artist/[^\\/]+","res":":\nvar r = [];\n($._.match(/\"full\": \"[^\"]+/g) || r).forEach(function(i) {r.push([i.replace('\"full\": \"','')]);});\nif (r.length==0) {\n  ($._.match(/<\\/span><img src=\"[^\"]+/g) || r).forEach(function(i) {r.push([i.replace('<\\/span><img src=\"','')]);});\n}\nreturn r;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1160#16\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3080#17\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2420#16\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2900#21\n\n!!!\nСрабатывает на именах в блоке \"Над релизом работали\", на названиях групп в других местах и на \"все изображения\".\n==\nIt works on the names in the \"Worked on the release\" block or on the names of groups in other places and on \"all images\".\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.discogs.com/ko/Various-Exotic-Rendezvous/release/14402447\nhttps://www.discogs.com/Story-Of-The-Year-Page-Avenue/master/382764\nhttps://www.discogs.com/Scooter-And-The-Beat-Goes-On/master/3018"},"R_Discogs_2":{"link":"^discogs\\.com/(?:\\w\\w/)?(release|master)/(\\d+)[^\\/?]+(?:(?:/|\\?)image(?:=(\\d+))?(?:.+))?","url":": 'https://www.discogs.com/internal/release-page/api/graphql?operationName='+ ($[3] || $[1]=='release' ? 'ReleaseAllImages' : 'MasterReleaseAllImages') +'&variables={\"discogsId\":' + ($[3] ? $[3] : $[2]) + ',\"count\":500}&extensions={\"persistedQuery\":{\"version\":1,\"sha256Hash\":\"'+ ($[3] || $[1]=='release' ? '13e41f41a02b02d0a7e855a71e1a02478fd2fb0a2d104b54931d649e1d7c6ecd' : '4faa70a6b17ca38aa060fd37ecb4ba5646706154d970c3b2ea9198c18be79a73') +'\"}}';","res":":\nlet res=[];\nconst json=JSON.parse($._);\nif (json.data.masterRelease) {\n  json.data.masterRelease.keyRelease.images.edges.forEach(function(i) {\n    res.push([i.node.fullsize.sourceUrl]);\n  });\n  return res;\n}\nelse if (json.data.release) {\n  json.data.release.images.edges.forEach(function(i) {\n    res.push([i.node.fullsize.sourceUrl]);\n  });\n  return res;\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1160#18\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3080#17\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2420#16\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2900#21\n\n!!!\n^discogs\\.com/(?:\\w\\w/)?(release|master)/(\\d+)[^\\/]+(?:/|\\?)image(?:=(\\d+))?(?:.+)\nСрабатывает на обложках и в блоке \"Релизы\".\n==\nIt works on the covers and in the \"Releases\" block.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.discogs.com/artist/356282-Story-Of-The-Year"},"R_Discogs_3":{"link":"^discogs\\.com/.+/release/[\\d-\\w]+(?:#([\\da-zA-z=]+))*$","url":": $[1] ? atob($[1]): $[0];","res":":\nif ($[1]) {\n  var c = $._;\n  var i = c.indexOf('<ul class=\"thumbnails_');\n  if(i<0) { return null; }\n  var t = c.indexOf('</ul>', i);\n  if(t<0) { return null; }\n  var res = [];\n  var re = /<img src=\"([^\"]+)\"/gi\n  var a = re.exec( c.substring(i,t) );\n  while(a)   {\n    res.push([a[1]]);\n    a = re.exec( c.substring(i,t) );\n  }\n  return res;\n}\nelse {\n  var re = /class=\".+\" href=\"([^\"]+)\"><div class=\".+\"><picture>/gi;\n  var a = re.exec( $._);\n  if (a==null) return null;\n  const url_selector = $[0].split(\"/\").slice(3).join(\"/\");\n  const a_elem = document.querySelector(`a[href*=\"${url_selector}\"]`);\n  a_elem.href += `#${btoa(\"https://www.discogs.com\"+a[1])}`\n  a_elem.style.cssText = \"border-bottom: 3px solid #ebff00; !important\";\n  return;\n}","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1160#16\nBaton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2420#16\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2900#21\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3080#17\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3120#12\n\n!!!\nСрабатывает в блоке \"Рекомендации\". В списке внизу после наведения на миниатюру - она будет подчёркнута жёлтой линией, после этого надо снова навести мышку на эту ссылку и тогда загрузится мини-галерея релиза.\n==\nIt works in the \"Recommendations\" block. In the list below, after hovering over the thumbnail, it will be underlined with a yellow line, after that you need to hover the mouse over this link again and then the mini-gallery of the release will be loaded.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.discogs.com/ru/master/625256-Story-Of-The-Year-The-Black-Swan\nhttps://www.discogs.com/ru/master/382764-Story-Of-The-Year-Page-Avenue"},"R_DNS-shop.ru":{"link":"^(?:www\\.)?dns-shop\\.ru\\/product\\/[a-f0-9]{16}\\/.+\\/$","res":":\nvar re=/data-product-card=\"([^\"]+)\"/gi\nvar az=$._\nvar url=re.exec(az)[1];\nif (url==null) { return null; }\nx = new XMLHttpRequest();\nx.open('GET', 'https://www.dns-shop.ru/catalog/product/get-media-content/?id=' + url,false)\nx.send();\nif (x.readyState != 4) return;\nif (x.status != 200) return;\nvar rawJson=x.responseText;\nvar res=[];\nvar re1=/\"origSrc\":{\"orig\":\"([^\"]+)\"/gi\nvar a = re1.exec(rawJson);\nwhile(a) {\n   res.push([a[1]]);\n   a = re1.exec(rawJson);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#2\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2900#4\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2520#12\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=820#5"},"R_DNS_club":{"img":"^c\\.dns-shop\\.ru/thumb/st\\d/fit/\\d+/\\d+/\\w+/(\\w+\\.\\w+)(\\.\\w+)?$","to":"club.dns-shop.ru/api/v1/image/getOriginal/$1/","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=220#4\n\nПРИМЕРЫ:\nhttps://club.dns-shop.ru/digest/64394-v-windows-11-obnarujili-novyii-dizain-dispetchera-zadach-naiti/"},"R_DogfartNetwork_galleries":{"link":".*dogfartnetwork\\.com/tour/scenes/.+/.+/pics/\\d+\\.jpg\\?p=\\d+","res":"img src=\"(.*)\" alt=\"\"","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1\n\nEXAMPLES:\nhttps://www.dogfartnetwork.com/tour/sites/Gloryhole-Initiations/ryder_rey/\nhttps://www.dogfartnetwork.com/tour/sites/BlacksOnBlondes/lola_fae/"},"R_DogfartNetwork_trailers":{"link":"dogfartnetwork\\.com/tour/sites/.+?/.+?/\\?nats=.*","res":"data-trailer=\"yes\">\\r\\n.*<a href=\"([^\"]+)","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1\n\nEXAMPLES:\nhttps://www.dogfartnetwork.com/tour/sites/\nhttps://www.dogfartnetwork.com/tour/scenes/\nhttps://www.dogfartnetwork.com/tour/categories/big_tits/"},"R_Domclick.ru":{"link":"(www\\.)?domclick\\.ru/card/\\w+__\\w+__\\d+","res":":\nvar source = $._.match(/<script>window\\.__data=.+?(\"photos\":.+?\\])/)[1];\nvar jso=JSON.parse('{'+source+'}');\nvar res=[];\njso.photos.forEach(function(item) {\n  res.push(['https://img.dmclk.ru/s2000x2000q100'+item]);\n});\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#8\n\n!!!\nКурсор наводить на название/тип (например \"1-комн квартира\") объекта в поисковой выдаче. На странице самого объекта работает только для \"Похожие объявления рядом\".\n\nПРИМЕР:\nhttps://domclick.ru/arenda/kvartiry/odnokomnatnaja"},"R_Domofond.ru":{"link":"domofond\\.ru/[\\w-]+","res":":\nlet json=JSON.parse($._.match(/window\\.__INITIAL_DATA__ = (.+?)<\\/script>/)[1]);\nlet res = [];\nfor (imgA of json.itemState.item.galleries[0].images) {\n  res.push([imgA[imgA.length-1].url]);\n}\nreturn res;\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1460#17\n\nПРИМЕРЫ:\nhttp://www.domofond.ru/prodazha-kvartiry-nizhegorodskaya_oblast-r26"},"R_Doujins.com":{"link":"doujins\\.com\\/.+\\/.+-\\d+.*","res":":\nvar i = $._.indexOf('class=\"swiper-zoom-container\"');\nif(t<0) { return null; }\nvar t = $._.indexOf('class=\"swiper-button-next\"', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /data-src=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push([a[1].replace('amp;', '')]);\n a = re.exec( data );\n}\nreturn res;","img":"static.doujins\\.com\\/t2?-(\\w+)\\..+","to":":\nlet url=document.querySelector('.swiper-slide[data-hash=\"'+$[1]+'\"] img').getAttribute('data-src');\nreturn url;\n","note":"Baton34V\n(PM - 09/10/22)\nOLD\nhttps://www.reddit.com/r/imagus/comments/xv9tah/comment/ir1ohog\n\n!!!\nНеобходима установка расширения uBlock Origin (uBO) и правила для него / You need to install the uBlock Origin (uBO) extension and the rule for it:\ndoujins.com##.thumbnail-cover\n\nПРИМЕРЫ / EXAMPLES:\nhttps://doujins.com/artists/Katou+Jun\nhttps://doujins.com/tags/Cheating?page=5\nhttps://doujins.com/searches?words=naruto&page=3\nhttps://doujins.com/doujins-original-series/sinistra-a-narrow-eyed-gentle-big-breasted-mama-54410"},"R_Drive2.ru":{"link":"drive2\\.ru\\/\\w/\\d+/","res":":\nvar i = $._.indexOf('<div class=\"c-post__pic\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"c-post-meta o-group o-group--justify\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<a href=\"([^\"]+)\" class=\"c-lightbox-anchor c-pic-zoom\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3320#8\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.drive2.ru/experience/renault/g3151/"},"R_Drom.ru":{"link":"\\w+\\.drom\\.ru/.+/.+/\\d+\\.html","res":":\nlet i = $._.indexOf('<div data-ftid=\"bull-page_bull-gallery');\nif(i<0) { return null; }\nlet t = $._.indexOf('tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<a href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=160#17\n\nПРИМЕРЫ:\nhttps://auto.drom.ru/mercedes-benz/"},"R_Drom.ru_reviews":{"link":"drom\\.ru/reviews/.+/.+/\\d+/","res":":\nlet i = $._.indexOf('data-thumb-images');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div data-preview-images', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=160#17\n\nПРИМЕРЫ:\nhttps://www.drom.ru/reviews/"},"R_DX.com":{"link":"dx\\.com/p/\\S+-(\\d+)","url":"https://www.dx.com/home/product/getSpuBaseInfo?spu=$1","res":":\nvar imgArray=JSON.parse($._).ProductImg;\nvar res=[];\nimgArray.forEach((item)=> {\n  item.forEach((imgUrl)=> {\n    console.log('https://img.dxcdn.com' + imgUrl);\n    res.push(['https://img.dxcdn.com' + imgUrl]);\n  });\n});\nreturn res;\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.dx.com/s/Xiaomi"},"R_Dubz.co":{"link":"dubz.co/v/.+","res":"video src=\"([^\"]+)","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#7\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3160#19\n\nПРИМЕРЫ / EXAMPLES:\nhttps://old.reddit.com/domain/dubz.co/\nhttps://www.reddit.com/domain/clip.dubz.co/"},"R_DuckDuckGo":{"img":"^(external-content\\.duckduckgo\\.com/iu/\\?u=.+)","loop":2,"to":":\nfunction inject(code) {\n  const s = document.createElement('script');\n  s.textContent = code;\n  s.onload = function() { this.remove(); };\n  (document.head || document.documentElement).appendChild(s);\n}\n\nconst thumb_url = (new URL('https://' + $[0])).searchParams.get('u');\nconst thumb_id = (new URL(thumb_url)).searchParams.get('id');\nconst tc = this.TRG.className;\n\nif (!(tc.includes('tile--img__img') || tc.includes('module--images__thumbnails__image'))) return thumb_url;\n\ninject('sessionStorage.setItem(\"DDGData\", JSON.stringify(window.DDG.Data.answers._definitions[1].model.items));');\n\nconst ddg_images = JSON.parse(sessionStorage.getItem('DDGData'));\n\nfor (const item of ddg_images) {\n  if (item.thumbnail.includes(thumb_id)) return item.image;\n}","note":"64h\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1060#11\n\nПРИМЕРЫ / EXAMPLES:\nhttps://duckduckgo.com/?q=cat+pics\nhttps://duckduckgo.com/?q=cat+pics&ia=images&iax=images"},"R_e621|e926.net":{"link":"^e(621|926)\\.net/pools/\\d+","res":":\nlet i = $._.indexOf('<div id=\"posts-container\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div class=\"paginator\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /data-file-url=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","img":"(static\\d\\.e(?:621|926)\\.net/data/)preview/(\\w+/\\w+/\\w+\\.)\\w+","to":"$1$2#png jpg webm gif#","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=680#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#5\n\n!!!\nВ некоторых странах может понадобиться прокси.\n==\nIn some countries, you may need a proxy.\n\nEXAMPLES:\nhttps://e621.net/pools/gallery\nhttps://e621.net/pools/14205\nhttps://e621.net/posts?tags=keke_%28artist%29\nhttps://e621.net/posts?tags=kyrakupetsky"},"R_eApteka.ru":{"link":"eapteka\\.ru/([^/]+/)?goods/id\\d+/","res":":\nvar i = $._.indexOf('<div class=\"gallery__main-slick s-carousel\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"', i+20);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<a href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1340#20\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#15\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#13\n\nПРИМЕРЫ\nhttps://www.eapteka.ru/goods/vitaminy_i_bad/\nhttps://www.eapteka.ru/sochi/search/?q=эхинацея"},"R_eBay":{"link":"^(?:(?:(?:be\\w\\w|viewitem\\.eim|cgi)\\.)?ebay\\.(?:a[pt]|[bd]e|c[ahnz]|co(?:m(?:\\.(?:au|hk|my|sg|tw))?|\\.(?:th|uk))|es|f[ir]|gr|[hr]u|i[ent]|n[lo]|p[hl]|vn)/(?:itm/)?[^/?]*[?/](?:item=)?|chodientu\\.vn/ebay-item-)(\\d{8,19}).*","res":":\nconst rx =\n  /img src=\"([^\"]+)\" style=\"max\\-width:64px;max\\-height:64px\"\\s+index=\"\\d+\"/g;\nconst matches = [...$._.matchAll(rx)];\nif (matches.length)\n  return matches.map(item => [item[1].replace(/s\\-l\\d+\\./, 's-l9999.'), '']);\n\nconst scriptSrc = $._.match(/mediaList\":(\\[.*?)<\\/script>/)?.[1];\nif (!scriptSrc) return;\n\n// Find where the mediaList array ends.\nlet counter = 0,\n  end;\nfor (let i = 0; i < scriptSrc.length; i++) {\n  if (scriptSrc[i] === '[') counter++;\n  if (scriptSrc[i] === ']') counter--;\n  if (counter === 0) {\n    end = i + 1;\n    break;\n  }\n}\n\ntry {\n  return JSON.parse(scriptSrc.slice(0, end)).map(m => [\n    m?.image?.originalImg?.URL.replace(/s\\-l\\d+\\./, 's-l9999.'),\n    m?.image?.originalImg?.title.trim(),\n  ]);\n} catch (e) {\n  console.log(`eBay Sieve didn't work. Error: ${e}`);\n  return;\n}\n","img":"^((?:ssl)?i\\d*\\.ebayimg\\.com/)(?:(?:thumbs/)?(images/[a-z]/[^/]+/s-l)[^.]+|((?:t/[^/]+/)?\\d+/[^_]+(?:~~\\d*)?)_(?!32)\\d+\\.)","to":":\nreturn $[1]+($[2] ? $[2]+'1600' : $[3]+'_32.')","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1200#11\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1160#12\nhttps://www.reddit.com/r/imagus/comments/fjtjio/where_can_i_get_the_default_url_string_for_the/\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.ebay.co.uk/b/Fishfinders-GPS/29723/bn_10198555?LH_Auction=1&rt=nc\nhttps://www.ebay.co.uk/b/Samsung-Laptops-Netbooks/175672/bn_6385453\nhttps://www.ebay.co.uk/p/28044271993?iid=165595634146\nhttps://www.ebay.com/sch/i.html?_from=R40&_trksid=p2499334.m570.l1313&_nkw=sports+cars&_sacat=6001\nhttps://www.ebay.com/itm/AMD-Ryzen-Threadripper-3990X-Processor-4-3-GHz-64-Core-Socket-sTRX4/223937363515?epid=4036368896&hash=item3423b4fe3b:g:4qkAAOSwzCFeYRaa"},"R_ehentai.to|nhentai.to":{"link":"ehentai\\.to|nhentai\\.to/g/\\d+/$","res":":\nvar i = $._.indexOf('id=\"thumbnail-container\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('<script src=\"', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /data-src=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nvar data=$._.substring(i,t);\nwhile(a)   {\n  res.push([a[1].replace('t.','.')]);\n  a = re.exec(data);\n}\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nreturn res;","img":"(cdn\\.nload.xyz/galleries/\\d+/\\d+)t(\\.\\w+)","to":"$1#.png .jpg .gif#","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=740#5\n\n!!!\nehentai.to\nполное увеличение только в результатах поиска\n==\nfull zoom only in search results"},"R_eknives.ru":{"link":"^eknives\\.ru/[\\w-]+/\\d+\\.html","res":":\nvar i = $._.indexOf('<div class=\"pps_hide\"');\nif(i<0) {return null; }\nvar t = $._.indexOf('</div>', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /<a href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#18\n\nПРИМЕРЫ:\nhttps://www.eknives.ru/brandMrblade/"},"R_Eldorado.ru":{"link":"(?:www\\.)?eldorado\\.ru\\/cat\\/detail\\/.+","res":":\nvar i = $._.indexOf('<div class=\"slider-native slider-preview js-slider-with-preview-gallery\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"closer\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /src=\"(https?:\\/\\/static\\.eldorado\\.ru\\/photos.+?)\\/resize\\/.*\\/\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3840#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2380#5\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.eldorado.ru/c/televizory/f/qled-technologiya/\nhttps://www.eldorado.ru/search/catalog.php?q=оперативная%20память\nhttps://www.eldorado.ru/c/operativnaya-pamyat/?view=tile\nhttps://www.eldorado.ru/c/sistemy-okhlazhdeniya/"},"R_enterdesk.com":{"img":"^(up\\.enterdesk\\.com\\/edpic).+((?:\\/\\w\\w){3}\\/\\w{32}\\.jpg)$","to":"$1$2","note":"by Rodny + Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#5"},"R_eol.jsc.nasa.gov":{"img":"(.*eol\\.jsc\\.nasa\\.gov/.*)/small/(.*\\.jpg)","ci":2,"to":"$1/large/$2","note":"by hababr\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3840#12\n\nПРИМЕРЫ / EXAMPLES:\nhttps://eol.jsc.nasa.gov/SearchPhotos/ShowQueryResults-Lightcycle.pl?results=Latest_ISS_Imagery"},"R_Epicentrk.ua":{"link":"epicentrk\\.ua/(?:ua/)?shop/.+\\.html","res":":\nconst rx = /\"SRC\":\\{\"\\d+\":\"(https?.+?jpe?g)/g;\nconst m = [...$._.matchAll(rx)].map(e => [e[1], \"\"]);\nif (!m.length) return;\nreturn m;","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#10\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2600#10\n\nПРИМЕРЫ / EXAMPLES:\nhttps://epicentrk.ua/ua/shop/velosipedy/\nhttps://epicentrk.ua/ua/shop/krossovki-i-kedy-muzhskie/"},"R_Eporner.com":{"link":"^eporner\\.com/(?:hd-porn|video).*","res":":\nconst max_resolution = 1080;\n\nconst re = new RegExp(\n  '<a href=\"(?<url>/dload.*?)\" >Download.*?\\\\((?<res>\\\\d+)',\n  'g'\n);\nconst streams = [...$._.matchAll(re)]\n  .map(a => ({\n    res: a.groups.res,\n    url: `https://www.eporner.com${a.groups.url}`,\n  }))\n  .sort((a, b) => b.res - a.res)\n  .filter(a => a.res <= max_resolution);\n\nif (streams.length) return streams[0].url;\nreturn;\n","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#8\nOLD:\nby papadocTOMP\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/eporner.com/"},"R_EroMe.com":{"link":"^erome\\.com/[ai]/\\w+","res":":\nconst title = $._.match(/<h1>(.+)<\\/h1>/)?.[1] || '';\nconst vidRe = `(?:<source src=\"([^\"]+)\" type='video\\/mp4)`;\nconst imgRe = `(?:lasyload\" data-src=\"([^\"]+))\" src=\"data:image`;\nconst re = new RegExp(`${vidRe}|${imgRe}`, 'g');\n\nconst matches = [...$._.matchAll(re)].map(m => m?.[1] || m?.[2]);\nif (!matches.length) return;\n\nlet result = Array.from(new Set(matches));\nresult = result.map((item, idx) => [\n  item,\n  `${title} - ${idx + 1} of ${result.length}`,\n]);\nreturn result;\n","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#5\n\n!!!\nДля показа видео необходимо правило для SMH (см.ЧаВо, п.11).\n==\nTo show the video, you need a rule for SMH (see FAQ, p.11).\n\nEXAMPLES:\nhttps://www.erome.com/Bootyallday3\nhttps://www.erome.com/search?q=michelle\nhttps://www.erome.com/explore/new?page=5"},"R_EroProfile.com":{"link":"^(?:m\\.)?(eroprofile\\.com/)[mp](/(?:photo|video)s/view/.+)","url":"//www.$1m$2","res":"(?:source src|\"photoPlayer\" src)=\"((?:https?:)?//cdn\\.(?:pictures|videos)[^\"]+)","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/eroprofile.com/"},"R_EtoRetro.ru":{"link":"((www\\.)?etoretro\\.ru\\/pic\\d+\\.htm\\?sort_field=\\w+&sort=(DESC|ASC)(&time_range=\\w+)?&position=\\d+)","ci":1,"res":":\nconst rx = /src=\"(data\\/media\\/.*?\\.jpe?g)\"/g;\nconst m = [...$._.matchAll(rx)].map(e => [e[1], \"\"]);\nif (!m.length) return;\nreturn m;","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#10\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1020#21\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.etoretro.ru/city1304.htm#z-z%7CDESC%7C1%7Cimage_date%7Call"},"R_f1cd.ru":{"img":"^(f1cd\\.ru/d/\\d+/\\d+/\\d+/\\d+/)(?:m|logo)_(\\d+\\.(?:jpe?g|png|gif|bmp))$","to":"$1$2\n$1m2_$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.f1cd.ru/input/reviews/a4tech_kd-600l/\nhttp://www.f1cd.ru/show/79979/\nhttp://www.f1cd.ru/storage/reviews/zalman_zm-ve350/"},"R_Facebook_video|fb.watch":{"link":"(facebook\\.com\\/.*\\/(?:videos\\/|\\?v=).*|fb\\.watch\\/[\\w-]+)","res":"meta property=\"og:video\" content=\"([^\"]*)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#10\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2300#18\n\n!!!\nКурсор наводить на название / Hover over title\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/fb.watch/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#7"},"R_FantLab.ru":{"img":"^(fantlab\\.ru\\/images\\/editions\\/)(?:\\w+)(\\/.*)","to":"$1orig$2\n$1big$2","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1680#8\n\nПРИМЕРЫ / EXAMPLES:\nhttps://fantlab.ru/work1274\nhttps://fantlab.ru/edition117699"},"R_Farpost.ru":{"link":"^farpost\\.ru/\\w+/\\w+/.+-\\d+\\.html","res":":\nlet i = $._.indexOf('<div class=\"bulletinImages\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div id=\"', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /src=\"([^\"]+)_bulletin\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]+'_default']);\n   a = re.exec(data);\n}\nreturn res;","img":"^(static\\.baza\\.farpost\\.ru/v/\\d+)_(block|hugeBlock|bulletin|thumbnail\\d+)$","to":"$1_default","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=160#17\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#5"},"R_FastPic":{"link":"^fastpic\\.(ru|org)/(?:full)?view/(\\d+)/(\\d{4}/\\d+)(/.?[\\da-f]{30}([\\da-f]{2})[^?#]+).*","url":"fastpic.$1/fullview/$2/$3$4","res":"loading_img = '([^']+)'","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3280#15\n\nПРИМЕРЫ / EXAMPLES:\nhttps://rutracker.org/forum/viewtopic.php?t=6087782\nhttps://rutracker.org/forum/viewtopic.php?t=6087790\nhttps://rutracker.org/forum/viewtopic.php?t=6087791"},"R_FastPic_2":{"url":"fastpic.$2/fullview/$1/$3$4","res":"loading_img = '([^']+)'","img":"^i(\\d+)\\.fastpic\\.(ru|org)/(?:thumb|big)/(\\d{4}/\\d+)/[\\da-f]{2}(/.?[\\da-f]{30}([\\da-f]{2})[^?]+).*","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3280#15"},"R_FastPic_go.php2":{"link":"fastpic\\.(ru|org)%2F(?:full)?view%2F(\\d+)%2F(\\d{4}%2F\\d+)(%2F.?[\\da-f]{30}([\\da-f]{2})\\.\\w+\\.html)","url":"fastpic.$1/fullview/$2/$3$4","res":"loading_img = '([^']+)","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=260#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3280#15\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2160#12\n\n\n!!!\nFor underver.se\n\nПРИМЕРЫ / EXAMPLES:\nhttps://v38.underver.se/viewtopic.php?t=171462\nhttps://rutracker.org/forum/viewtopic.php?t=6087782"},"R_Favim.com":{"link":"^favim\\.com/image/\\d+/$","res":"<link rel=\"preload\" href=\"([^\"]+)\"","note":"by Rodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#8\n\nhttps://favim.com/blanket/"},"R_Ferra.ru":{"img":"^(ferra\\.ru/)869x3000/(images/\\d+/\\d+\\.(?:jpe?g|gif|png))$","to":"$1$2","note":"by Rodny\n\n!!!\nUserCSS is needed: \n{a.img-link .zoom {display: none !important}}\n\n!!!\nНа данный момент фильтр не работает/нуждается в апгрейде."},"R_FetLife.com":{"link":"^fetlife\\.com/users/\\d+/pictures/\\d+","res":"rel=\"preload\" /><link as=\"image\" (?:href|imagesrcset)=\"([^ \"]+)[\" ]\n","note":"by Baton34V\n(20-10-21, PM)\n\nПРИМЕРЫ / EXAMPLES:\nhttps://fetlife.com/search?q=BLOND\nhttps://fetlife.com/users/261021?sp=1"},"R_FEX.net":{"link":"^(.*fs\\d{2}\\.fex\\.net/preview/\\d{10}/(?:.+))","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1360#17\n\nПРИМЕРЫ\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_files.fm":{"link":"^(\\w{2}\\.)?files\\.fm/\\w/\\w+","res":":\nlet mt=$._.match(/<script type=\"text\\/javascript\">\\s+(var strUploadUserNameLink[\\s\\S]+?var arrFileAttributes = \\[[^\\]]+];)/)[1];\neval(mt);\nlet res=[];\nfor (let i=0; i<arrHashes.length; i++) {\n  if (arrFileTypes[i] == 'video') {\n    let vs= 'https://' + arrFileHost[i]  + '/thumb_video/' + arrHashes[i] + '' + arrHttpCacheKeys[i] + '.'+arrExtensions[i];\n    res.push([vs, arrDisplayNames[i]]);\n  }\n  else if (arrFileTypes[i] == 'image') {\n    let is= 'https://'+ arrFileHost[i]  +'/thumb_show.php?i=' + arrHashes[i] + '&view';\n    res.push([is, arrDisplayNames[i]]);\n  }\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=80#15\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#4\n\n!!!\nДля корректной работы внешних ссылок с видео необходима подмена реферера. См. ЧаВо п.12\n+\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nFor the correct work of external links with video, replacement of the referrer is required. See FAQ, p.12.\n+\nAt the moment, the rule is not working/needs an upgrade.\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3880#16\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=80#14"},"R_FishingSib.ru":{"link":"(?:www\\.)?fishingsib\\.ru/forum/attachments/\\d+/","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2160#17\n\nПРИМЕРЫ:\nhttps://www.fishingsib.ru/tidings/view/148346/"},"R_Fix-Price.com":{"link":"fix-price\\.com/catalog/[\\w-]+/[\\w-]+","res":":\nvar i = $._.indexOf('images:[{');\nif(i<0) { return null; }\nvar t = $._.indexOf('}]}],', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /src:\"([^\"]+)\"/gi\nvar data =$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([JSON.parse('\"' + a[1] + '\"')]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#7\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#3\n\n\n!!!\nКурсор наводить на название товара."},"R_Flickr":{"link":"^(?:secure\\.)?flickr\\.com/photos/[^/]+/(\\d+)/?(?:in/.+|lightbox/?|sizes.+|\\?.+|#/photos/.+)?$","url":"https://api.flickr.com/services/rest/?photo_id=$1&method=flickr.photos.getSizes&format=json&nojsoncallback=1&api_key=9bb671af308f509d0c82146cbc936b3c","res":":\nlet res=[];\nlet sizeAr=JSON.parse($._).sizes.size;\nlet last=sizeAr.pop();\nif (last.media=='video') {\n\tlet best_quality=0;\n\tlet best_videoUrl='';\n\tdo {\n\t\tif (parseInt(last.height) > best_quality) {\n\t\t\tbest_quality=parseInt(last.height);\n\t\t\tbest_videoUrl=last.source;\n\t\t}\n\t\tlast=sizeAr.pop();\n\t} while (last.media=='video');\n\tres.push([best_videoUrl+'#mp4']);\n}\nelse {\n\tres.push([last.source]);\n}\nreturn res;\n","img":"^(?:(?:farm|c)\\d+\\.|live\\.)?static\\.?flickr\\.com/(?:\\d+/){1,2}(\\d+)_[\\da-f]+(?:_[sqtmn])?\\.jpg$","note":"by Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=140#9\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/flickr.com/\nhttps://www.flickr.com/photos/chris_rankin/\nhttps://www.flickr.com/search/?text=GREEN%20RIBBON\nhttps://www.flickr.com/photos/tags/sun"},"R_Flickr_albums":{"link":"^flickr\\.com/photos/(?:[^/]+/albums/(\\d+)$|(\\d+)/([a-f0-9]+)/(\\d+)(?:/([\\w@]+)/([\\w:]+))?/$)","url":": $[2] ? 'https://api.flickr.com/services/rest?extras=url_h%2Curl_k%2Curl_o%2Curl_3k%2Curl_4k%2Curl_5k%2Curl_6k%2Cpage=0&photoset_id='+$[2]+'&format=json&method=flickr.photosets.getPhotos&api_key='+$[3]+'&per_page='+$[4]+($[5] ? '&viewerNSID='+$[5]+'&csrf='+$[6] : '')+'&nojsoncallback=1' : $[0]","res":":\nif($[2]) {\n  let res=[];\n  let jsn=JSON.parse($._);\n  for (img of jsn.photoset.photo) {\n    res.push([img.url_6k || img.url_5k || img.url_4k || img.url_3k || img.url_o || img.url_k || img.url_h, img.title]);\n  }\n  return res;\n}\nlet api=$._.match(/root.YUI_config.flickr.api.site_key = \"([^\"]+)\";/)[1];\nconsole.log(api);\nlet length=$._.match(/<span class=\\\"photo-counts\\\">(\\d+) photos?<\\/span>/)[1];\nconsole.log(length);\nlet vnsid2=$._.match(/class=\"gn-title you\"\\s+href=\"\\/photos\\/([^\\/]+)\\/\"\\s/);\nlet vnsid=vnsid2 ? vnsid2[1] : null;\nlet csrf2=$._.match(/root.auth = {\"signedIn\":true,\"csrf\":\"([^\"]+)/);\nlet csrf=csrf2? csrf2[1] : null;\nreturn api&&{loop:'https://www.flickr.com/photos/' + $[1] + '/' + api + '/' + length +'/'+(csrf ? vnsid+'/'+csrf+'/' : \"\")};\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=340#17\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=340#11\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=340#3\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=300#10\n\nEXAMPLES:\nhttps://www.flickr.com/photos/carolsgardenofphotos/albums\nhttps://www.flickr.com/photos/donthomaso84/albums"},"R_Flipkart.com":{"link":"^flipkart\\.com/.+?pid.+","res":":\nlet i = $._.search('<ul class=\"[^\"]+\" style=\"-webkit-transform');\nif(i<0) {return null; }\nlet t = $._.indexOf('</ul>', i);\nif(t<0) {return null; }\nlet res = [];\nlet re = /src=\"([^?]+)\\?q=\\d+\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1].replace('128/128','2000/2000')]);\n   a = re.exec(data);\n}\nreturn res;\n","img":"^(rukminim\\d\\.flixcart\\.com/[^/]+/)\\d+/\\d+([^?]+).*","to":"#$12000/2000$2\n$11024/1024$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#4\n\n!!!\nВ РФ нужен прокси. Курсор наводить на наименование товара.\n==\nHover the cursor over the product name.\n\nEXAMPLES:\nhttps://www.flipkart.com/search?q=mobiles&as=on&as-show=on"},"R_foobar2000.ru":{"link":"^foobar2000\\.ru/forum/download/file\\.php\\?id=\\d+&filename=([^?]+\\.(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|ico|xbm|pict|j(?:if|fif?)))&mode=view","ci":1,"note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=720#12\n\nПРИМЕРЫ / EXAMPLES:\nhttp://foobar2000.ru/forum/viewtopic.php?p=24980#p24980"},"R_Forest-Home.ru":{"link":"^forest-home\\.ru/product/[\\w-]+/","res":":\nvar i = $._.indexOf('<figure class=\"product');\nif(i<0) {return null; }\nvar t = $._.indexOf('</figure>', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /<a class=\"product-image-\\d+\" href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\ni = $._.indexOf('<ul class=\"comments-branch reviews-branch\">');\nif(i<0) {return res; }\nt = $._.indexOf('</ul>', i);\nif(t<0) {return res; }\ndata=$._.substring(i,t);\nre = /src=\"([^\"]+)\"/gi\na = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#18\n\nhttps://forest-home.ru/category/nozhi/"},"R_forfun.com|gifer.com":{"img":"(im-\\d\\d\\.forfun\\.com/|i\\.gifer\\.com/)(?:fetch/w\\d+-ch\\d+-preview|origin)(/\\w+/[^_]+?)(_w\\d+)?(\\.\\w+)","to":"$1origin$2$4","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=680#10\n\nПРИМЕРЫ / EXAMPLES:\nhttps://forfun.com/ru/t/креативно\nhttps://forfun.com/ru/t/животные\nhttps://www.reddit.com/domain/gifer.com\nhttps://gifer.com/en/gifs/forest"},"R_foto.HZ.by":{"link":"^foto.hz\\.by/show-image\\.php\\?id=[0-9a-z]+$","res":"value=\"\\[URL=http://foto.hz\\.by\\] \\[IMG\\]([^\\[]+)\\[/IMG\\]\\[/URL\\]\">","note":"by Rodny\n\nПРИМЕРЫ:\nhttp://foto.hz.by/show-image.php?id=9fddd458cd177cf88ec3ef9acf383ccd\nhttp://foto.hz.by/show-image.php?id=f84cb54f6b9a5713040961eabf779572"},"R_FotoKto.ru":{"img":"^(s\\d+\\.fotokto\\.ru/(?:concurs/)?photo/)(?:large|preview)(/\\d+/\\d+\\.(?:jpe?g|png|gif))$","to":"$1full$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://fotokto.ru/photo/new\nhttp://fotokto.ru/photo/concurs\nhttp://fotokto.ru/photo/concurs?id=107"},"R_FotoLink.su":{"link":"^fotolink\\.su/v\\.php\\?id=(\\w+)$","img":"^fotolink\\.su/pic_s/(\\w+)\\.(?:jpe?g|png|gif|bmp)$","to":"fotolink.su/pic_m/$1.#png jpg jpeg gif bmp#","note":"by Rodny\n\n!!!\nIt's middle size of images. Larger images with \"/pic_b/\" have some protection...\n#res: <a href=\"(http://www.fotolink.su/pic_b/[^\"]+)\"\n# or\n#to: fotolink.su/pic_b/$1.#png jpg jpeg gif bmp#"},"R_Fotosklad.ru":{"link":"^fotosklad\\.ru/catalog/[\\w-]+\\.html","res":":\nlet i = $._.indexOf('<ul class=\"product-card__big\">');\nif(i<0) {return null; }\nlet t = $._.indexOf('</ul>', i);\nif(t<0) {return null; }\nlet res = [];\nlet re = /data-src=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","img":"^((?:cdn\\.)?fotosklad\\.ru\\/upload\\/iblock\\/\\w+\\/\\w+)_thumb_\\w+(\\.(?:jpe?g|png))$","ci":2,"to":"$1$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1460#17\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1680#8\n\n\n\nПРИМЕРЫ\nhttps://www.fotosklad.ru/catalog/noutbuki/\nhttps://www.fotosklad.ru/catalog/kompaktnye-fotoapparaty/"},"R_forum.IXBT":{"link":"^(forum\\.ixbt\\.com/post\\.cgi\\?id=attach[0-9:]+\\.(?:jpe?g|gif|png))$","note":"by Rodny\n\nПРИМЕРЫ:\nhttp://forum.ixbt.com/topic.cgi?id=47:11704:3819#3819"},"R_forums.overclockers.ru":{"link":"^(forums\\.overclockers\\.ru/(?:download|gallery)/(?:file|image)\\.php\\?(?:album_id=\\d+&)*(?:id=\\d+.+mode=view|image_id=\\d+))","img":"^(forums\\.overclockers\\.ru/download/file\\.php\\?id=\\d+)","to":"$1","note":"by Rodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=240#3\n\nПРИМЕРЫ / EXAMPLES:\nhttps://forums.overclockers.ru/viewtopic.php?p=13676877#p13676877\nhttps://forums.overclockers.ru/viewtopic.php?p=14091976#p14091976\nhttps://forums.overclockers.ru/viewtopic.php?p=14169428&sid=85b6151a19c27d0e319103f46cac94bd#p14169428"},"R_forumimage.ru":{"link":"^(forumimage\\.ru/show/)\\d+$","res":"<img src=\"(http://forumimage\\.ru/uploads/\\d+/\\d+.jpg)\"","img":"^(forumimage\\.ru/)thumbs(/\\d+/\\d+\\.jpg)$","to":"$1uploads$2","note":"by Rodny\n\nПРИМЕРЫ:\nhttps://www.reddit.com/domain/forumimage.ru/"},"R_fpic.in(FastPic_short)":{"link":"^fpic\\.in/\\w+","res":"<img src=\"([^\"]+)\" class=\"image img-fluid\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3240#9\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3240#5"},"R_freeimage.host":{"link":"^freeimage\\.host/\\w/.+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","img":"(iili\\.io\\/\\w+)\\.th(\\.\\w+)","to":"$1$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3240#9\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#16\n\nПРИМЕРЫ / EXAMPLES:\nhttps://rutracker.org/forum/viewtopic.php?p=78592247#78592247\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3240#5"},"R_FunnyJunk.com":{"img":"(loginportal\\.funnyjunk\\.com/)(?:thumbnails_\\d+x\\d+|large)/((?:pictures|movies|hdgifs|gifs)/\\w+/\\w+/\\w+\\.)\\w+","to":"$1$2#mp4 gif jpg#","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=680#6\n\nEXAMPLES:\nhttps://funnyjunk.com/channel/wholesome\nhttps://www.reddit.com/domain/funnyjunk.com/"},"R_FunnyJunk_video":{"img":"(loginportal\\.funnyjunk\\.com/(hdgifs|movies)/[\\w+]+\\.mp4)","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=680#6\n\nEXAMPLES:\nhttps://funnyjunk.com/movies/"},"R_Gamma_Entertainment":{"link":"^([^/]+)/en/video/[^/]+/(?:[^/]+/)?(\\d+)","res":":\nconst max_resolution = 2160;\n\nconst m = /applicationID\":\"([^\"]+)\",\"apiKey\":\"([^\"]+)/g.exec($._);\nif (!m) return;\nconst [appId, apiKey] = [m[1], m[2]];\nconst sceneId = $[2];\n\nconst xml = new XMLHttpRequest();\nconst url = `https://tsmkfa364q-dsn.algolia.net/1/indexes/*/queries?x-algolia-agent=Algolia%20for%20vanilla%20JavaScript%203.27.1%3BJS%20Helper%202.26.0&x-algolia-application-id=${appId}&x-algolia-api-key=${apiKey}`\nxml.open('POST', url, false);\nxml.send(\n  `{\"requests\": [{\"indexName\": \"all_scenes\", \"params\": \"facetFilters=[[\\\\\"clip_id:${sceneId}\\\\\"]]\"}]}`\n);\nif (xml.status !== 200) return;\n\nlet streams = {};\ntry { streams = JSON.parse(xml.responseText)?.results?.[0]?.hits?.[0]?.trailers;} catch (e) { return; }\n\nconst trailers = Object.keys(streams)\n  .map(s => ({ res: parseInt(s.replace(\"4k\", '2160'), 10), url: streams[s] }))\n  .filter(a => a.res <= max_resolution)\n  .sort((a, b) => a.res - b.res);\n\nif (!trailers.length) return;\nreturn trailers[trailers.length-1].url;","img":".*gammacdn\\.com.+","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#19\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3620#12\n\n!!!\nДля работы фильтра требуется правило для SMH (см.ЧаВО, п.11)\n==\nFor the sieve to work, a rule for SMH is required (see FAQ, p.11)\n\nПРИМЕРЫ / EXAMPLES\nhttps://www.darkx.com/en/videos\nhttps://www.evilangel.com/en/videos\nhttps://www.girlsway.com/en/videos\nhttps://www.hardx.com/en/videos\nhttps://www.puretaboo.com/en/videos\nhttps://www.roccosiffredi.com/en/videos"},"R_Gallery.ru":{"link":"^(gallery\\.ru/watch\\?a=\\S+)$","res":":\nvar i = $._.indexOf('<div id=\"mygallery\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<img src=\"(https?:\\/\\/data\\d+\\.gallery\\.ru\\/albums\\/gallery\\/\\w+-\\w+-\\w+-)\\d+(?:-\\w+)?\\.jpg\"/gi\nvar dat=$._.substring(i,t);\nvar a = re.exec(dat);\nwhile(a)   {\n   res.push([a[1] + '.jpg']);\n   a = re.exec(dat);\n}\nreturn res;\n","img":"^(data\\d+\\.(?:i\\.)?gallery\\.ru/albums/gallery/\\d+-[\\da-f]+-\\d+-)[^.-]+","to":"#$1\n$11024","note":"Baton34V (17-08-2021)\n\nПРИМЕРЫ / EXAMPLES:\nhttp://gallery.ru/?panel=list&user_type=3\nhttp://gallery.ru/watch?a=tvS-bkiV"},"R_Gamekult.com":{"img":"^(\\w+\\.cloudfront\\.net/optim/images/photos/\\d+/\\d+/\\d+/\\d+/[\\w-]+)__\\w+(\\.jpg)","to":"$1$2","note":"by Rodny+Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#11\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.gamekult.com/actu/zoom-portal-2-A0000089965.html\nhttp://www.gamekult.com/actu/neverdead-en-douze-images-A0000098884.html"},"R_Fandom.com":{"img":"(https://static\\.wikia\\.nocookie\\.net/.+latest)(?:/scale-to-width-down/\\d{1,4})?(\\?cb=\\d{14})","to":"$1$2","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1360#4\n\nПРИМЕРЫ / EXAMPLES:\nhttps://swtor.fandom.com/wiki/Smuggler\nhttps://fallout.fandom.com/ru/wiki/Убежище_118#Галерея"},"R_Gameru.net":{"img":"images\\.gameru\\.net/thumb/(\\w+\\.\\w+)","to":"images.gameru.net/image/direct/$1","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3200#13\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=49250&start=20#1"},"R_Geekpic.net":{"link":"geekpic\\.net/pm-\\w+\\.html","res":"<a href=\"([^\"]+)\" class=\"download-img\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=660#10\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=11411&start=1480#3"},"R_GetaPic.me":{"link":"getapic\\.me/\\w+/\\w+","res":"<li><span>Ссылка на картику:</span><br>\\s+<input onclick=\"select_field\\(this\\);\" value=\"([^\"]+)\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2980#21\n\nПРИМЕРЫ / EXAMPLES:\nhttps://forum.ixbt.com/topic.cgi?id=4:129250\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3000#2\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50659&start=1360#21\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3100#9"},"R_Gifbin.com":{"link":"^(gifbin\\.com/)(?:[ft]/|(reverse/))?(\\d+)$","url":"$1$2$3","res":":\nvar t,u=$._.match(/src=\"https?:\\/\\/(www\\.)?gifbin\\.com\\/bin\\/[^\"]+/g)\nif(!u)return 0\nt=$._.match(/=\"og:title\"\\s+content=\"([^\"]+)/);\nreturn [[u.slice(0,3).map(function(u){ return u.slice(5) }), t&&t[1]]]","img":"^(gifbin\\.com/bin/(?:\\d+/)?)tn_([^?]+\\.).*","to":"http://www.$1$2#webm mp4 gif#","note":"Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1433#1\n\nEXAMPLES\nhttps://gifbin.com/tag/kids/\nhttps://gifbin.com/tag/cartoons/"},"R_Gifyu.com":{"link":"gifyu\\.com/image/\\w{4}","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2600#6\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50519&start=900#21"},"R_global-files.net|my-files.ru":{"img":"(global-files.net|my-files.ru|my-files.su/Get/\\w+/\\w+\\.(?:jpe?g|gif|png|bmp))(/\\w+\\.(?:jpe?g|gif|png|bmp))","to":"$1","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=880#5\n\nПРИМЕРЫ:\nhttps://forum.ru-board.com/topic.cgi?forum=62&topic=31083&start=800#18"},"R_GloryholeSwallow.com":{"link":"gloryholeswallow\\.com/tour/trailers/.*","res":":\nconst m = /video playsinline src=\"([^\"]+)/.exec($._)\nif (m) return m[1];\nreturn \"//i.imgur.com/ejZcAGv.png\";","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1163&limit=1&m=1#1\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1\n\nEXAMPLES:\nhttps://gloryholeswallow.com/tour/\nhttps://gloryholeswallow.com/tour/updates/page_4.html"},"R_Gmail.com":{"link":"^(mail\\.google\\.com/.*\\?)ui=2&ik=(.*)&view=att&th=(.*)&attid=0\\.1&disp=inline&zw","to":"$1attid=0.1&disp=emb&view=att&th=$3","note":"by Rodny\n\n!!!\nGmail attached images. Different mail servers on Google Apps platform are also supported."},"R_GOG.com":{"link":"^gog\\.com/\\w\\w/game/\\w+$","res":":\nlet i = $._.indexOf('<div class=\"js-items-wrapper mobile-slider__items-wrapper\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('</picture></div></div></div>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /src=\"([^_]+)_[^.]+(\\.\\w+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n  res.push([a[1]+a[2]]);\n   a = re.exec(data);\n}\nreturn res;","img":"(images\\.gog-statics\\.com\\/\\w+)_product_card_v\\d_thumbnail_\\d+(\\.jpg)","to":"$1$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#21\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2040#5\n\nПРИМЕРЫ:\nhttps://www.gog.com/games?page=1&sort=popularity&category=action\nhttps://www.gog.com/ru/games/strategy"},"R_goo.gl":{"link":"^(image|photo)s\\.app\\.goo\\.gl/\\w+","res":":\nconst caption = $._.match(/<img.+?alt=\"(.*?)\"/)?.[1] || $._.match(/<title>(.+?)<\\/title>/)?.[1] || '';\nconst urls = [...$._.matchAll(/<img class=.+?(http?[^=]+)[^<]+?<div/g)];\n\nif (urls.length > 0) return urls.map(x => [x[1] + '=s0', caption]);\n\nreturn [$._.match(/AF_dataServiceRequests.=.+?http.+?,\"(http.+?)\"/)[1], caption];","note":"64h\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1040#14\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2460#18\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#7\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1000#21"},"R_Google_Drive":{"link":"drive\\.google\\.com/uc\\?id=\\w+","res":"<img src=\"([^\"]+)\" alt","note":"Baton 34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3240#14\n\n\n!!!\nУ ссылок с Google Drive Imagus не способен определить тип контента, поэтому в случаях, когда ссылка не содержит медиа, он все равно будет показывать \"крутящееся колесо\". Не обращаем внимания, это просто особенность ссылок с Google Drive. Как правило, то что это картинка, должно быть понятно из контекста.\n\nFor links from Google Drive, Imagus is not able to determine the type of content, so in cases where the link does not contain media, it will still show a \"spinning wheel\". Pay no attention, this is just a feature of links from Google Drive. As a rule, the fact that this is a picture should be clear from the context. \n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3240#8\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3240#16"},"R_Google_Images_legacy":{"img":"^images-partners-tbn\\.google\\.com/images\\?q=tbn:[^:]+:+(.+)","dc":2,"to":"$1","note":"64h\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1020#2\n\nПРИМЕРЫ / EXAMPLES:\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1020#2\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1000#19"},"R_Google_noglogo":{"img":"^google\\.[\\.a-z]+/images/nav_logo\\d+(_hr)?\\.png$","to":":\nreturn window.location.host.indexOf('.google.')>0?'':$[0]","note":"by Deathamns + Rodny (fix)\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/r/imagus/comments/3v57ez/disable_imagus_for_a_specific_image/"},"R_GoogleContent":{"img":"^((?:(?:(?:lh|gp|yt)\\d+|blogger)\\.g(?:oogleuserconten|gph)|\\d\\.bp\\.blogspo)t\\.com/)(?:([_-](?:[\\w\\-]{11}/){3}[\\w\\-]{11,}/)([^/]+)(/[^?#=]+)?|([^=]+)).*","to":":\nvar c=$[3]&&$[3].match(/-?(?:Ic\\d\\d|mo)/); c=c&&('-'+c[0])||'';\nreturn '#' + $[1] + ($[5] ? $[5] + '=' : $[2]) + (c?'s1600'+c:'s0') + ($[4]||($[5]?'':'/')) + '\\n' +\n $[1] + ($[5] ? $[5] + '=' : $[2]) + 's1024' + c + ($[4]||($[5]?'':'/'))","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360#19"},"R_Hearst(Cosmo|Delish|DigitalSpy|Elle|Esquire|HarpersBazaar|MensHealth)":{"img":"^hips\\.hearstapps\\.com/([^\\.]+\\.h-cdn\\.co|hmg-prod|digitalspyuk|vader-prod|vidthumb)[^/]*(/[^\\?]+).*","to":":\nif ($[1].includes('h-cdn.co')) $[1] = '//' + $[1];\nif ($[1] == 'hmg-prod') $[1] = '//hmg-prod.s3.amazonaws.com';\nif ($[1] == 'digitalspyuk') $[1] = '//digitalspyuk.cdnds.net';\nif ($[1] == 'vader-prod') $[1] = '//vader-prod.s3.amazonaws.com';\nif ($[1] == 'vidthumb') $[1] = 'http://hearst-gopher.thumbs.s3.amazonaws.com'; // hearst-gopher has a bad https certificate as of 2022-09-21\n\nreturn $[1] + $[2].replace(/\\/\\d+x\\d+\\//, '/');","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1160#3\n\n!!!\ncosmopolitan.com\ncountryliving.com\ndelish.com\ndigitalspy.com\nelle.com\nesquire.com\nharpersbazaar.com\nmenshealth.com\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.delish.com/restaurants/a58436/who-is-guy-fieri/\nhttps://www.countryliving.com/home-design/house-tours/g3456/small-oklahoma-house/\nhttps://www.harpersbazaar.com/fashion/trends/a41247745/spring-2023-fashion-trends/\nhttps://www.elle.com/culture/celebrities/a41296977/shakira-elle-digital-cover-october-2022/\nhttps://www.cosmopolitan.com/style-beauty/fashion/news/g5852/early-2000s-celeb-trends/\nhttps://www.digitalspy.com/tv/ustv/a41261585/upload-season-3-jeanine-mason/\nhttps://www.esquire.com/style/grooming/g34964318/best-mens-skincare-gift-sets/\nhttps://www.menshealth.com/entertainment/a37755218/the-sandman-netflix-trailer-cast-release-date-news/"},"R_Hentai0.com":{"link":"^hentai0\\.com/movie/.+-\\d+$","res":":\nlet videoSource = /:video_source=\"([^\"]+)/gm.exec($._)[1];\nfunction htmlDecode(input) {\n  var doc = new DOMParser().parseFromString(input, \"text/html\");\n  return doc.documentElement.textContent;\n}\nlet finalUrls = [];\nlet urls = JSON.parse(htmlDecode(videoSource));\nfor(let el of urls){\n   finalUrls.push([el, /(\\d+p\\.mp4)/gm.exec(el)[1]]);\n}\nreturn finalUrls.reverse();","note":"Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1431#1\n\n!!!\nНекоторые видео не грузятся, т.к. нужен премиум аккаунт. Может потребоваться перезагрузка страницы.\n==\nSome videos are not loaded, because you need a premium account. You may need to reload the page.\n\nПРИМЕРЫ / EXAMPLES\nhttps://hentai0.com/\nhttps://hentai0.com/popular\nhttps://hentai0.com/tag/elf-16\nhttps://hentai0.com/search?keyword=MAID"},"R_Hentai-Moon.com":{"link":"^hentai-moon\\.com/videos/[0-9]+/.*?/","res":":\nlet title = /<title>([^<]+)/gm.exec($._)[1];\nfunction deobfuscate(r,t){let e=(r=r.split(\"/\").splice(2))[5],n=\"\",l=\"\";l=n=e.substring(0,32);let o=\"\";for(f=\"\",g=1;g<t.length;g++)f+=parseInt(t[g])?parseInt(t[g]):1;for(s=parseInt(f.length/2),$=parseInt(f.substring(0,s+1)),(g=(_=parseInt(f.substring(s)))-$)<0&&(g=-g),f=g,(g=$-_)<0&&(g=-g),f+=g,f*=2,f=\"\"+f,i=10,u=\"\",g=0;g<s+1;g++)for(h=1;h<=4;h++)(a=parseInt(t[g+h])+parseInt(f[g]))>=i&&(a-=i),u+=a;o=u;for(var s=l,$=l.length-1;$>=0;$--){for(var _=$,u=$;u<o.length;u++)_+=parseInt(o[u]);for(;_>=l.length;)_-=l.length;for(var a=\"\",b=0;b<l.length;b++)a+=b==$?l[_]:b==_?l[$]:l[b];l=a}return r[5]=e.replace(n,l),r.join(\"/\")}\nlet videovars = /var flashvars = ({[\\n].+});/gm.exec($._);\neval(\"videovars = \"+videovars[1]);\nlet urls = [];\nfor(el in videovars){\n   if(el.match(/^video.*?url\\d?$/)){\n      urls.push([deobfuscate(videovars[el], videovars.license_code)+'#mp4', videovars[el+'_text'] ? videovars[el+'_text'] : title]);\n   }\n}\nreturn urls;","note":"Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1429#1\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#8"},"R_Hentai-Moon_screen":{"link":"^hentai-moon\\.com/get_file/0/[a-f\\d]+/\\d+/\\d+/screenshots/\\d+\\.jpg/","note":"by Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#10\n\nПРИМЕРЫ / EXAMPLES:\nhttps://hentai-moon.com/videos/3602/debt-sisters-ep-1/\nhttps://hentai-moon.com/videos/2095/kuroinu-kedakaki-seijo-wa-hakudaku-ni-somaru-ep-1/"},"R_Hentaisea_video":{"url":"https://hentaisea.com/jwplayer/?source=https%3A%2F%2Fhentaisea.com%2Fmp4%2Ftube%2F$1.mp4&type=mp4","res":"file\":\"([^\"]+)","img":"^hentaisea\\.com/wp-content/uploads/tube-thumbs/(.*?)\\.jpg","note":"Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1470&limit=1&m=1#1\n\n!!!\nВ некоторых странах (например в РФ) может понадобиться прокси.\n==\nIn some countries (for example, in the Russian Federation), a proxy may be needed."},"R_Hentaisea_watch":{"link":"^hentaisea\\.com/watch/.*?/$","res":":\nlet parser = new DOMParser().parseFromString($._, \"text/html\");\nlet episodes = parser.querySelectorAll('.imagen a');\nif(!episodes) return null;\nlet title = parser.querySelector('.data h1').textContent;\nfunction xmlhttp(type, url, data){\n\tlet x = new XMLHttpRequest;\n\t//x.timeout = 3000;\n\tif(type == \"get\"){\n\t\tx.open('GET', url, false);\n\t\tx.send();\n\t}\n\telse if(type == \"post\"){\n\t\tx.open('POST', url, false);\n\t\tx.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\tx.send(data);\n\t}\n\treturn x.responseText;\n}\n\nfunction getVideoUrl(episodeUrl){\n\tlet url = \"https://hentaisea.com/wp-admin/admin-ajax.php\";\n\tlet html = xmlhttp('get', episodeUrl);\n\tlet videoParser = new DOMParser().parseFromString(html, \"text/html\");\n\tlet id = /(\\d+)/.exec(videoParser.querySelector('link[rel=shortlink]').href)[1];\n\tlet data = `action=doo_player_ajax&post=${id}&nume=1&type=tv`;\n\thtml = xmlhttp('post', url, data);\n\turl = /src='([^']+)/.exec(html)[1];\n\thtml = xmlhttp('get', url);\n\tlet videoUrl = /file\":\"([^\"]+)/.exec(html)[1];\n\treturn videoUrl\n}\n\nfunction getAllEpiseodes(){\n\tlet urls = [];\n\tlet i = 1;\n\tlet videoName = \"\";\n\tfor(episode of episodes){\n\t\tlet url = episode.href;\n\t\tlet result = getVideoUrl(url);\n\t\tvideoName = episodes.length > 1 ? `${title} - episode ${i}` : title;\n\t\turls.push([result+'#mp4', videoName]);\n\t\ti++;\n\t}\n\treturn urls;\n}\nlet urls = getAllEpiseodes();\nreturn urls;","note":"Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1470&limit=1&m=1#1\n\n!!!\nВ некоторых странах (например в РФ) может понадобиться прокси.\n==\nIn some countries (for example, in the Russian Federation), a proxy may be needed.\n\nПРИМЕРЫ / EXAMPLES\nhttps://hentaisea.com/trending/?get=tube\nhttps://hentaisea.com/genre/uncensored/"},"R_Hitomi.la":{"link":"^hitomi\\.la/.+/.+-(\\d+)\\.html","res":":\nvar galleryId=$[1];\nfunction getSc(url){\n  const x = new XMLHttpRequest();\n  x.open('GET', url, false);\n  x.send();\n  return x.responseText;\n}\neval(getSc('https://ltn.hitomi.la/galleries/'+galleryId+'.js'));\neval(getSc('https://ltn.hitomi.la/common.js').match(/(function subdomain_from_galleryid[\\S\\s]+)function show_loading/i)[1]);\nvar res=[];\nfor (file of galleryinfo.files) {\n  var link=url_from_url_from_hash(galleryId, file);\n  res.push([link]);\n}\nreturn res;","img":"^(\\w)tn(\\.hitomi\\.la/avif)smalltn(/\\w/\\w+/\\w+\\.\\w+)","to":"$1a$2$3","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3840#20\n\n!!!\nДля некоторых стран может понадобиться прокси. На хромиум-браузерах увеличение на странице альбома может не работать.\n==\nFor some countries, a proxy may be required. On chromium-browsers, zooming on the album page may not work.\n+\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\n\nПРИМЕРЫ / EXAMPLES\nhttps://hitomi.la/artist/akutabin-all.html\nhttps://hitomi.la/series/arcana%20heart-all.html\nhttps://hitomi.la/tag/male%3Aexposed%20clothing-all.html"},"R_Holodilnik.ru":{"link":"holodilnik\\.ru/(.+/){5}$","res":":\nvar i = $._.indexOf('<div class=\"card-product-img__labels\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"swiper-initialized card-product-img__preview\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /\" data-src=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#15\n\n!!!\nКурсор наводить на название товара.\n\nПРИМЕРЫ:\nhttps://www.holodilnik.ru/built-in/built-in_refrigerators_and_freezing_chambers"},"R_Hotline.ua":{"link":"^hotline\\.ua/[\\w-]+/","res":":\nlet data=$._.match(/type=\"application\\/ld\\+json\">({\"@context\":\"https:\\/\\/schema\\.org\\/\",\"@type\":\"Product\"[^<]+)<\\/script>/i);\nlet res=[];\nfor (image of JSON.parse(data[1]).image) {\n  res.push([image]);\n}\nreturn res;\n","img":"^(hotline\\.ua/{1,2}img/tx/\\d+/\\d+)_s\\d+(\\.jpg)$","to":"$15$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=500#7\n\n!!!\nВ РФ может понадобиться прокси.\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://hotline.ua/dom/ofisnye-kresla/\nhttps://hotline.ua/computer/noutbuki-netbuki/"},"R_Huaban.com":{"link":"huaban\\.com/boards/(\\d+)","url":"https://api.huaban.com/boards/$1/pins?limit=100","res":":\nlet jsn=JSON.parse($._);\nlet res=[];\nfor (pin of jsn.pins) {\n  let url='https:\\/\\/gd-'+pin.file.bucket+'.huaban.com\\/'+pin.file.key;\n  let title=pin.raw_text;\n  res.push([url,title]);\n}\nreturn res;","img":"(gd-hbimg\\.huaban\\.com/\\w+-\\w+)_/?(\\w\\w)/?\\d+/format/\\w+","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#5\n\nEXAMPLES:\nhttps://huaban.com/boards/38251372\nhttps://huaban.com/user/e0ved985mlo\nhttps://huaban.com/explore/chanpinbeijing"},"R_Hubblesite.org":{"link":"hubblesite\\.org/contents/media/images/\\d{4}/\\d+/\\S+","res":"<a href=\"([^\"]+\\.(?:png|jpe?g))\">(?:[\\w ]+Res)?","img":"^(imgsrc\\.hubblesite\\.org/hu/db/images/hs-\\d{4}-\\d{2}-[a-z]-)(?:(?:mini_|wallpaper_)?thumb|web(?:_print)?|(?:small|x?large)_web)","to":"#$1full_jpg\n#$1print\n$1large_web_jpg","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\n!!!\n<meta property=\"og:image\" content=\"([^\"]+)\">\n\nПРИМЕРЫ / EXAMPLES:\nhttps://hubblesite.org/resource-gallery/images"},"R_iFixit.com":{"img":"(guide-images\\.cdn\\.ifixit\\.com\\/igi/[^/]+)\\.(medium|thumbnail|standard)","to":"#$1\n$1.huge","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#17\n\nПРИМЕРЫ / EXAMPLES:\nhttps://ru.ifixit.com/Teardown/iPhone+4+Teardown/3130\nhttps://www.ifixit.com/Teardown/Samsung+Galaxy+S7+Teardown/56686"},"R_Igromania.ru":{"link":"javascript:view\\(\\d+,\\d+,'(\\/\\/cdn\\.igromania\\.ru\\/mnt\\/articles(?:\\/\\w){6}\\/\\w+\\/html\\/img\\/\\w+_zoom\\.\\w+)'\\)","to":"$1","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.igromania.ru/articles/120140/Rukovodstvo_i_prohozhdenie_po_Mass_Effect_2.htm"},"R_Igromania.ru_2":{"img":"(cdn\\.igromania\\.ru\\/mnt\\/articles(?:\\/\\w){6}\\/\\w+\\/html\\/more\\/\\w+_)\\d+\\w+(\\.\\w+)","to":"$11920xH$2\n$11200xH$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1680#8\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.igromania.ru/article/31259/Obzor_Resident_Evil_3_Remake_Sovsem_drugaya_igra.html"},"R_image.cx":{"link":"^image\\.cx/g/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=40#15"},"R_image.hosting|ipev.ru|kvotka.ru":{"link":"^image\\.hosting|ipev\\.ru|kvotka\\.ru/image/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#19\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1360#11"},"R_ImageBam.com":{"link":"^(imagebam\\.com/)(image|view)/(\\w+).*","url":": $[3] ? 'https://www.'+$[1]+$[2]+'/'+$[3] : 'https://www.'+$[1]+'image/'+$[2]","res":"img src=\"([^\"]+)\" alt=\"[^\"]+\" class=\"main-image","img":"^thumbnails\\d*\\.(imagebam\\.com/)\\d+/([\\da-f]+).*","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3120#17\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3020#13\n\n!!!\nВ некоторых странах (например, в РФ) может понадобиться прокси.\n==\nIn some countries (for example, in the Russian Federation), a proxy may be needed.\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://vipergirls.to/threads/5101059-Sabrina-Bloom-Magical-x50-5760px-(3-Mar-2020)\nhttps://vipergirls.to/threads/5164282-Alissa-B-Delicate-(18-12-2004)-1960x3008\nhttps://vipergirls.to/threads/5154935-Alissa-Girls-from-England-(13-7-2004)-1960x3008\nhttp://forum.ru-board.com/topic.cgi?forum=1&topic=8691&start=200#6\nhttp://forum.ru-board.com/topic.cgi?forum=1&topic=8691&start=200#11\nhttp://forum.ru-board.com/topic.cgi?forum=62&topic=31451&start=1300#5"},"R_ImageBan.ru|ibn.im":{"useimg":1,"link":"(^imageban\\.ru/show/\\d{4}/|ibn\\.im\\/\\w{7})","res":"src=\"(https?://i\\d+\\.imageban\\.ru/out/[^\"]+)","img":"^(i\\d+\\.imageban\\.ru)/thumbs/(\\d{4})\\.(\\d\\d)\\.(\\d\\d)/","to":"$1/out/$2/$3/$4/","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1720#21\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=62&topic=31203&start=540#15\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2320#14\n\nПРИМЕРЫ:\nhttps://rutracker.org/forum/viewtopic.php?t=3762986\nhttps://rutracker.org/forum/viewtopic.php?t=6140828"},"R_ImageCurl.com":{"link":"^imagecurl\\.com/viewer\\.php\\?file=(\\d+\\.(?:jpe?g|png|gif))","to":"imagecurl.com/images/$1","note":"by Rodny\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://blog.qooza.hk/ywyw025?page=67\nhttps://cdn.imagecurl.com/images/00084552172065379810.jpg"},"R_ImageFap_video":{"link":"^imagefap\\.com/video\\.php\\?vid=\\d+","res":":\nlet link=$._.match(/var VideoPlayer = \\{[\\s\\S]+?url: ?'([^']+)'/)[1];\nconst x = new XMLHttpRequest();\nx.open('GET',link,false);\nx.send();\nlet xml=x.responseXML;\nlet res = [];\nlet videoFileSources = xml.getElementsByTagName('quality')[0];\nif (videoFileSources) {\n  videoFileSources = videoFileSources.getElementsByTagName('item');\n  console.log(videoFileSources[videoFileSources.length-1]);\n  res.push(videoFileSources[videoFileSources.length-1].getElementsByTagName('videoLink')[0].childNodes[0].nodeValue);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3920#13\n\n!!!\nДля работы фильтра требуется правило для SMH (см.ЧаВО, п.11).\n+\nВ некоторых странах (например, в РФ) может понадобитьcя прокси.\n==\nFor the sieve to work, a rule for SMH is required (see FAQ, p.11).\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.imagefap.com/browse-video.php"},"R_ImageShack_1":{"link":"^(imageshack\\.com/\\w/\\w+)","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3740#8\n\n!!!\nДля показа галерей необходимо правило для SMH (см.ЧаВо, п.11).\n==\nTo show the galleries, you need a rule for SMH (see FAQ, p.11).\n\nПРИМЕРЫ / EXAMPLES:\nhttps://imageshack.com/featured\nhttps://www.reddit.com/domain/imageshack.com/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#21"},"R_ImageShack_2":{"img":"^imagizer\\.imageshack\\.com/(?:img(\\d+)/\\d+|v2/\\w+/(?:\\w/)?(\\d+))(/\\w+\\.jpg)","to":"imagizer.imageshack.us/v2/download/$1$2$3","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3740#8\n\n!!!\nДля показа галерей необходимо правило для SMH (см.ЧаВо, п.11).\n==\nTo show the galleries, you need a rule for SMH (see FAQ, p.11).\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://imageshack.com/featured\nhttps://www.reddit.com/domain/imageshack.com/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#21"},"R_ImageTitan.com":{"link":"^(.*\\.imagetitan\\.com/)img\\.php\\?image=.+\\.(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?))","res":"img id=\\\"image\\\".+src=\\\"(.+\\.(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))\\\"","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1360#17\n\n!!!\nНа хромоклонах для показа картинок с данного хоcтинга на сайтах с HTTPS необходимо разрешить на этих сайтах \"небезопасный контент\" / On Chromium-browsers, in order to display images from this hosting on sites with HTTPS, it is necessary to allow \"unsafe content\" on these sites:\nhttp://imgur.com/uRtzj8H\nhttps://postimg.cc/0MLMsgMg\n\nПРИМЕРЫ / EXAMPLES\nhttps://www.reddit.com/domain/imagetitan.com/new\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_ImageTwist.com":{"link":"^(?:imagenpic|imagetwist)\\.com/([^/]+/[^/]+\\.(?:jpe?g|gif|png))$","url":"imagetwist.com/$1","res":":\n// debugger;\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\n\nlet url = ($._.match(/img src=\"(https?:\\/\\/(?:img|i)\\d+\\.imagetwist\\.com\\/[^\"]+)\" class=\"pic img img-responsive\"/) || [])[1];\nreturn [url];","note":"Baton34V + hababr (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3620#2\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2340#16\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1320#20\n\n!!!\nВ РФ нужен прокси.\n+\nДля корректной работы необходимо правило для SMH (см.ЧаВо, п.11).\n==\nTo work correctly, you need a rule for SMH (see FAQ, p.11).\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.planetsuzy.org/showpost.php?p=20533351&postcount=295\nhttp://www.planetsuzy.org/showpost.php?p=11986513&postcount=148"},"R_imageup.ru":{"link":"^(imageup\\.ru/img(?:.+))\\.html$","to":"$1","note":"by Rodny\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#19"},"R_imageup.ru_2":{"link":"^imageup\\.ru/\\d+","res":"<tr><td align=center><img src=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#19"},"R_ImageUpper.com":{"link":"^imageupper\\.com/[gi]+/\\?(galID=)?\\w+","res":":\nlet i = $._.indexOf('<TD CLASS=\"base\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('</TABLE>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<IMG[^/]+SRC=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1].replace('_t','')]);\n   a = re.exec(data);\n}\nreturn res;\n","img":"^(s\\d\\d\\.imageupper\\.com/\\d)_t(/\\d/\\w+\\.jpg)","to":"$1$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#14\n\n!!!\nНа хромоклонах для показа картинок с данного хоcтинга на сайтах с HTTPS необходимо разрешить на этих сайтах \"небезопасный контент\" / On Chromium-browsers, in order to display images from this hosting on sites with HTTPS, it is necessary to allow \"unsafe content\" on these sites:\nhttp://imgur.com/uRtzj8H\nhttps://postimg.cc/0MLMsgMg\n\nEXAMPLES\nhttps://www.reddit.com/domain/imageupper.com/new\nhttp://imageupper.com/g/?galID=A110001003F15053306051634043&n=1\nhttp://imageupper.com/g/?galID=S020001001B14502347341793454&n=1\n+\nhttp://imageupper.com/gi/?galID=S0200010011B14502347341793454&n=1&m=19\nhttp://imageupper.com/gi/?galID=A1100010031F15053306051634043&n=19&m=50"},"R_ImageVenue.com":{"link":"imagevenue\\.com\\/\\w{8}","res":"<img src=\"(https?:\\/\\/cdn-images\\.imagevenue\\.com\\/\\w{2}\\/\\w{2}\\/\\w{2}\\/\\w+_o\\.\\w+)\" alt=","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1900#16\n\nПРИМЕРЫ / EXAMPLES:\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1900#13\nhttps://www.reddit.com/domain/imagevenue.com/"},"R_imagevenue.com_2":{"link":"^(img\\d+\\.imagevenue\\.com/)img\\.php\\?(?:[^&]+&)*?image=([^&]+).*","url":"$1img.php?image=$2","res":"img src=[\"']([^\"']+)[\"'] alt=","img":"^(img\\d+\\.imagevenue\\.com/)[^/]+/th_(.+)","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2100#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://pornolab.net/forum/viewtopic.php?t=129738\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1900#13\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2100#19"},"R_IMDb":{"useimg":1,"link":"^(?:m\\.)?imdb\\.com/title/tt\\d+(?:/\\?\\S*|/)?$","loop":1,"res":":\nconst svg = {\n  make: (v, d) => 'data:image/svg+xml,' + encodeURIComponent(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"360\" height=\"480\" viewBox=\"${v}\" style=\"background-color: #2a2a2a;\" fill=\"#404040\">${svg[d]}</svg>`),\n  gallery: '<path d=\"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-10.6-3.47l1.63 2.18 2.58-3.22a.5.5 0 0 1 .78 0l2.96 3.7c.26.33.03.81-.39.81H9a.5.5 0 0 1-.4-.8l2-2.67c.2-.26.6-.26.8 0zM2 7v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z\"/>',\n  game: '<path d=\"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-11 7H8v2c0 .55-.45 1-1 1s-1-.45-1-1v-2H4c-.55 0-1-.45-1-1s.45-1 1-1h2V9c0-.55.45-1 1-1s1 .45 1 1v2h2c.55 0 1 .45 1 1s-.45 1-1 1zm5.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>',\n  movie: '<path d=\"M18 4v1h-2V4c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v1H6V4c0-.55-.45-1-1-1s-1 .45-1 1v16c0 .55.45 1 1 1s1-.45 1-1v-1h2v1c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-1h2v1c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1s-1 .45-1 1zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z\"/>',\n  music: '<path d=\"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h16c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM8.05 15.54A2.995 2.995 0 0 1 11 12c.35 0 .69.07 1 .18V8c0-1.1.9-2 2-2h2c.55 0 1 .45 1 1s-.45 1-1 1h-2v7.03a3.001 3.001 0 0 1-3.55 2.92c-1.21-.21-2.2-1.2-2.4-2.41z\"/>',\n  podcast: '<path d=\"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15a.998.998 0 0 0-.98-.85c-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08a6.993 6.993 0 0 0 5.91-5.78c.1-.6-.39-1.14-1-1.14z\"/>',\n  tv: '<path d=\"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v1c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-1h5c1.1 0 1.99-.9 1.99-2L23 5a2 2 0 0 0-2-2zm-1 14H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h16c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1z\"/>'\n}\n\nfunction blank_poster(sidebar) {\n  const tt = s => aboveTheFoldData.titleType.text.startsWith(s)\n  const type = tt('TV') ? 'tv' : tt('Video Game') ? 'game' : tt('Podcast') ? 'podcast' : tt('Music Video') ? 'music' : 'movie'\n  return [ svg.make('-3 0 30 24', type), sidebar ]\n}\n\nfunction gallery_poster(num) {\n  const url = `https://www.imdb.com/title/${mainColumnData.id}/mediaindex/`\n  const text = `The other ${num > 1 ? `${num} images are` : `${num} image is`} available<br>in the IMDb gallery`\n  return [ svg.make('-3 2 30 24', 'gallery'), `<imagus-extension type=\"banner\" text=\"${text}\" url=\"${url}\"></imagus-extension>` ]\n}\n\nfunction get_images() {\n  const sidebar = sidebar_content ? `<imagus-extension type=\"sidebar\">${sidebar_content}</imagus-extension>` : ''\n  const poster = n => n ? [ n.url, sidebar + n.caption.plainText ] : blank_poster(sidebar)\n  const images = n => n.edges.map(i => i.node.id !== aboveTheFoldData.primaryImage?.id ? [ i.node.url, i.node.caption.plainText ] : undefined).filter(Boolean)\n  const result = [ poster(aboveTheFoldData.primaryImage), ...images(mainColumnData.titleMainImages) ]\n  if (mainColumnData.titleMainImages.total > result.length)\n    result.push(gallery_poster(mainColumnData.titleMainImages.total - result.length + result[0][0].startsWith('data:')))\n  if (result.length === 1 && result[0][0].startsWith('data:'))\n    result[0][0] = '//' + result[0][0]\n  return result\n}\n\nfunction get_runtime() {\n  const rt_min = aboveTheFoldData.runtime?.seconds / 60\n  return rt_min ? rt_min > 60 ? `${Math.floor(rt_min / 60)} hr ${rt_min % 60} min (${rt_min} min)` : `${rt_min} min` : ''\n}\n\nfunction get_rating(top_rated_limit) {\n  const value = aboveTheFoldData.ratingsSummary.aggregateRating\n  const count = aboveTheFoldData.ratingsSummary.voteCount?.toLocaleString()\n  const top_rated = n => n?.rank <= top_rated_limit ? `Top Rated ${aboveTheFoldData.titleType.text.replace(/^Movie$/, 'Movies')}: #${n.rank.toLocaleString()}` : ''\n  return value ? [ `<b>\\u2B50</b> ${Number(value).toFixed(1)} (${count})`, top_rated(mainColumnData.ratingsSummary.topRanking) ].filter(Boolean).join(' | ') : ''\n}\n\nfunction get_releas_date() {\n  const rd = mainColumnData.releaseDate\n  if (rd && rd.year && rd.month && rd.day)\n    return new Date(rd.year, rd.month - 1, rd.day).toLocaleDateString(navigator.language, { year: 'numeric', month: 'short', day: '2-digit' }) + (rd.country ? ` (${rd.country.id})` : '')\n}\n\nfunction get_principal_credits() {\n  const attributes = n => n ? ` <span style=\"color: silver;\">(${n.map(a => a.text).join(', ')})</span>` : ''\n  const name = n => n.name.nameText.text + attributes(n.attributes)\n  const category = n => `<b>${n.category.text}:</b> ${n.credits.map(name).join(', ')}`\n  return aboveTheFoldData.principalCredits?.filter(cr => cr.credits.length).map(category).filter(line => !line.startsWith('<b>Star')).join('\\n')\n}\n\nfunction get_top_cast(limit) {\n  const attributes = n => n ? ` <span style=\"color: silver;\">(${n.map(a => a.text).join(', ')})</span>` : ''\n  const characters = n => n ? ` (${n.map(c => c.name).join(', ')})` : ''\n  const cast_line = n => n.node.name.nameText.text + characters(n.node.characters) + attributes(n.node.attributes)\n  return mainColumnData.cast?.edges.slice(0, limit).map(cast_line).join('\\n')\n}\n\nfunction get_awards() {\n  const wins = mainColumnData.wins\n  const noms = mainColumnData.nominations\n  const sum = mainColumnData.prestigiousAwardSummary\n  let all = ''\n  let prestigious = ''\n  if (sum?.wins > 0) prestigious += `Won ${sum.wins} ${sum.award.text}${sum.wins > 1 ? 's' : ''}`\n  if (sum?.nominations > 0 && !sum?.wins) prestigious += `Nominated for ${sum.nominations} ${sum.award.text}${sum.nominations > 1 ? 's' : ''}`\n  if (wins.total > 0) all += `${wins.total}&nbsp;win${wins.total > 1 ? 's' : ''}${noms.total ? ' & ' : ''}`\n  if (noms.total > 0) all += `${noms.total}&nbsp;nomination${noms.total > 1 ? 's' : ''}`\n  return prestigious ? `${prestigious} (${all} total)` : all\n}\n\nfunction get_money() {\n  const amount_to_string = n => n?.amount ? n.amount.toLocaleString('en-US', { style: 'currency', currency: n.currency, minimumFractionDigits: 0 }) : ''\n  return [\n    [ 'Production Budget', amount_to_string(mainColumnData.productionBudget?.budget) ],\n    [ 'Domestic Box Office', amount_to_string(mainColumnData.lifetimeGross?.total) ],\n    [ 'International Box Office', amount_to_string({ amount: mainColumnData.worldwideGross?.total.amount - mainColumnData.lifetimeGross?.total.amount, currency: 'USD' }) ],\n    [ 'Worldwide Box Office', amount_to_string(mainColumnData.worldwideGross?.total) ]\n  ].flatMap(item => item[1] ? item.join(': ') : []).join('\\n')\n}\n\n// this.TRG is null when the mouse pointer moved away from the TRG element before loading has been completed\nif (this.TRG === null) return\n\nconst pageProps = JSON.parse($._.match(/NEXT_DATA[^{]+([^<]+)/)[1]).props.pageProps\nconst aboveTheFoldData = pageProps.aboveTheFoldData\nconst mainColumnData = pageProps.mainColumnData\nconst title = aboveTheFoldData.originalTitleText.text\n// const year = aboveTheFoldData.releaseYear.year.toString()\nconst year = $._.match(/=\"og:title\" content=\"[^\"]+\\(([^\\)]+)....IMDb\"/)?.[1]\nconst header = year ? `${title} (${year})` : title\nconst countries = mainColumnData.countriesOfOrigin?.countries.map(country => country.text).join(', ')\nconst plot = aboveTheFoldData.plot?.plotText?.plainText\nconst genres = aboveTheFoldData.genres?.genres.map(genre => genre.text).join(', ')\n\nconst sidebar_content = [\n  `<span style=\"font-size: 120%; font-weight: bold;\">${header}</span>`,\n  countries,\n  [ get_runtime(), get_releas_date() ].filter(Boolean).join(' | '),\n  genres,\n  get_rating(1000),\n  [ '\\n<b>Plot</b>', plot ],\n  [ '', get_principal_credits() ],\n  [ '\\n<b>Top cast</b>', get_top_cast(12) ],\n  [ '\\n<b>Awards</b>', get_awards() ],\n  [ '\\n<b>Financials</b>', get_money() ]\n].filter(i => i?.[1]).flat().join('\\n')\n\nthis.TRG.IMGS_ext_data = get_images()\nreturn 'imagus://extension'","img":"^((?:(?:images\\.|(?:images-[a-z]{2}\\.ssl-|(?![gz]-)[^.?]+\\.)images-)amazon|ia\\.media-imdb|m\\.media-amazon)\\.com/images/[^/]/[^.]+(?:(?!\\.[A-Za-z]{3,4}$)\\.[^A-Z_.]+)*)(?:$|(?!_(?:CB|V)\\d{4,}_\\.)[^?]*\\.([^?]*).*)","to":":\nvar x=$[2]||'#jpg png#'\nreturn '#' + $[1] + '.' + x +'\\n'+$[1] + '._SY1024_SX1024_.'+x","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1484&limit=1&m=2#1\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1484&limit=1&m=2#1\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1379&limit=1&m=1#1\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1200#2\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=80#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#8\n\n!!!\nВ т.ч. поддержка внешних ссылок с IMDb с информационной панелью (sidebar).\n==\nIncl. support for external links with IMDb with information panel (sidebar).\n\nПРИМЕРЫ / EXAMPLES\nhttps://www.imdb.com/name/nm0027572/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3880#16"},"R_IMDb_mediaindex":{"link":"^(?:m\\.)?imdb\\.com/(name|title)/(\\w+)/mediaindex.*?(page=\\d+|refine=\\w+|$).*","url":"https://m.imdb.com/_ajax/$1/$2/mediaindex?$3","res":":\nreturn JSON.parse($._).data.map(i => [i.src.replace(/\\._.*/, ''), i.alt])","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#16\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=80#10\n\nПРИМЕРЫ / EXAMPLES\n\"99+ photos\" + \"Photos 119\"\nhttps://www.imdb.com/name/nm0027572/"},"R_imgaa.com":{"link":"^imgaa\\.com/image/\\w{22}","res":"<img class=\"image\" src=\"([^\"]+)\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1440#20\n\nПРИМЕРЫ / EXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1440#16"},"R_Imginn.com":{"link":"^imginn\\.com/p/[\\w-]+/","res":":\nlet res = [];\nlet i = $._.indexOf('<div class=\"swiper-wrapper\">');\nif(i>-1) {\n  let t = $._.indexOf('<div class=\"downloads\">', i);\n  if(t>-1) {\n    let re = /<div class=\"swiper-slide\" data-src=\"([^\"]+)\"/gi\n    let data=$._.substring(i,t);\n    let a = re.exec(data);\n    while(a) {\n      res.push([a[1].replace(/#38;/g,'')]);\n      a = re.exec(data);\n    }\n  }\n}\nelse {\n  let img=$._.match(/<div class=\"downloads\">\\s+<a rel=\"noreferrer\" href=\"([^\"]+)\"/);\n  res.push([img ? img[1].replace(/#38;/g,'') : null]);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=140#11\n\n!!!\nДля корректной работы необходимо правило для SMH (см.ЧаВо, п.12).\n==\nTo work correctly, you need a rule for SMH (see FAQ, p.12).\n+\nДля некоторых медиа может потребоваться повторное наведение курсора.\n==\nFor some media, re-hovering may be required.\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=140#10"},"R_imglink.ru":{"link":"^imglink\\.ru/show-image.php\\?id=(\\w+)$","res":"<img src='(https?://imglink\\.ru/pictures/[^']+)' alt='","img":"^imglink\\.ru/thumbnails/(.+)$","to":"imglink.ru/pictures/$1","note":"by Rodny + by Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2720#15\n\n! RES parameter is using by default, rule works on links without thumbnails. \"img\" and \"to\" are not required.\nCheck \"use img\" to work with thumbnail only.\n\nПРИМЕРЫ\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50689&start=40#1\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50689&start=40#2"},"R_ImgPile.com|Lensdump.com|ow.ly":{"link":"^imgpile\\.com|lensdump\\.com|ow\\.ly/i/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=20#14"},"R_img.ht|imghut.com|imgrpost.com|itmages.su":{"link":"^img\\.ht|imghut\\.com|imgrpost\\.com|itmages\\.su/image/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#19"},"R_imgsh.net":{"img":"(imgsh\\.net/)\\w+(/\\w+\\.\\w+)","to":"$1i$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#21\n\nПРИМЕРЫ / EXAMPLES:\nhttps://forum.mozilla-russia.org/viewtopic.php?pid=799710#p799710"},"R_ImgSpice.com":{"link":"^imgspice\\.com/\\w+/[\\w_\\(\\)]+\\.\\w+\\.html$","res":":\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nlet url = ($._.match(/<img id=\"imgpreview\" src=\"([^\"]+)\"/) || [])[1];\nreturn [url];\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3740#4\nOLD:\nby Baton34V, hababr\n30-09-21 - PM\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#13\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#11\nhttps://novinhas.forum.cool/viewtopic.php?id=159\nhttps://www.kitty-kats.net/threads/hannah-kinney-it-just-works-42-images-1920px.2477897"},"R_iMGSRC.ru":{"link":"^imgsrc\\.ru/([^/]+)/(\\d+)\\.html.*","url":"//imgsrc.ru/$1$3/$2$4.html","res":":\nconst rx = /source srcset='([^']+)' type='image\\/jpeg/g;\nconst m = [...$._.matchAll(rx)].map(el => el[1]);\nif (!m) return;\nreturn m[m.length - 1];","img":"^s(?:\\d+|tatic)\\.eu\\.icdn\\.ru/(?:images/reco/\\d+/([^?]+)_(\\d+)|\\w/([^/]+)/\\d+/[^?]+_(\\d+)...).*","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=120#3\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3800#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2580#21\n\nПРИМЕРЫ / EXAMPLES:\nhttps://imgsrc.ru/9174337478/69365420.html\nhttps://imgsrc.ru/akhodov/69280263.html?pwd=&per_page=36\nhttps://imgsrc.ru/alex_1910/61880321.html#bp"},"R_Imgur":{"link":"^(?:[im]\\.())?(imgur\\.com|filmot\\.(?:com|org))/+(?!gallery|s(?:tats|ignin|earch)|tools|topic|random|logout|account|inbox|about|contact|privacy|memegen|collab)(?:g/[^/]+/)?([^\\W_]{5}(?:[^\\W_]{2})?)[sbtmlh]?(?![,&])(?:[?/#].*)?$","img":"^(?:[im]\\.([^.]+\\.)?)?(imgur\\.com|filmot\\.(?:com|org))/+([^\\W_]{5}(?:[^\\W_]{2})?)(?:[sbtmlh]|_[^.]+)?\\.(jpe?g|png|gifv?|mp4|webm).*","to":":\nvar l = ($[2][0]=='i' ? '//' : '')+'i.'+($[1]||'')+$[2]+'/'+$[3];\nvar res='';\nif ($[4]) {\n  res= l+'.'+$[4].replace('gifv','mp4');\n}\nelse {\n  res= l + '.mp4\\n'+ l + '.gif\\n' + l + 'h.jpg';\n}\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#10\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3200#6\n\n!!!\nДля галерей (несколько изображений или видео): рекомендуется наводить курсор на блок с названием галереи.\n==\nFor galleries (multiple images or videos): it is recommended to hover the cursor over the block with the gallery name.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://imgur.com/t/video\nhttps://www.reddit.com/domain/imgur.com/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#3\nhttps://4chanarchives.com/board/vg/thread/148650589"},"R_imgway.cz":{"link":"^(?:.*)(imgway\\.cz/s/\\w{0,5})","url":"https://$1","res":"img src=\\\"(.+/v/.+\\.(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))\\\" style","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#10\n\nEXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_imhentai.xxx":{"link":"^imhentai\\.xxx/gallery/\\d+/$","res":":\nlet i = $._.indexOf('<div class=\"gallery_th\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<h2 class=\"related_galleries\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /data-src=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n  res.push([a[1].replace('t.','.')]);\n   a = re.exec(data);\n}\nreturn res;","img":"^(m\\d?\\.imhentai\\.xxx/\\d+/\\w+/\\d+)t(\\.\\w+)","to":"$1#.png .jpg .gif#\n\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#13\n\n!!!\nПоддержка GIF-анимации в результатах поиска и поиска по тегам из-за особенностей сайта пока невозможна.\n==\nSupport for GIF-animation in search results and search by tags due to site specifics is not yet possible.\n+\nВ РФ может понадобиться прокси."},"R_inoSMI.ru":{"link":"inosmi\\.ru\\/\\d{8}\\/[\\w-]+-\\d+\\.html","res":"data-photoview-src=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=360#4\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=260#9\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2320#7\n\nПРИМЕРЫ / EXAMPLES:\nhttps://inosmi.ru/today/"},"R_Instagram_priv_api":{"link":"^instagr(?:am\\.com|\\.am)/(?:p|reel)/([\\w-]+).*","url":"data:,$1","res":":\nconst alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'\nconst media_pk = [...$[1]].reduce((a, v, i) => a + BigInt(alphabet.length ** ($[1].length - i - 1) * alphabet.indexOf(v)), 0n)\nconst x = new XMLHttpRequest()\nx.open('GET', `https://i.instagram.com/api/v1/media/${media_pk}/info/`, false)\nx.setRequestHeader('X-IG-App-ID', '936619743392459')\nif (!/firefox/i.test(navigator.userAgent)) {\n  x.withCredentials = true\n}\nx.send()\nif (x.status !== 200) {\n  return [ 'data:image/svg+xml,' + encodeURIComponent(`\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"120\" width=\"360\" style=\"background-color: #2a2a2a;\">\n      <foreignObject height=\"100%\" width=\"100%\">\n        <div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"display: table; height: 100%; width: 100%;\">\n          <span style=\"color: tomato; display: table-cell; font: 18px sans-serif; vertical-align: middle; text-align: center; white-space: pre-wrap;\">\n            Something went wrong\\nHTTP status ${x.status}: ${x.statusText}\n          </span>\n        </div>\n      </foreignObject>\n    </svg>`.replace(/\\n\\s+/g, '')), ' ' ]\n}\nconst item = JSON.parse(x.responseText).items[0]\nconst capt = [\n  `@${item.user.username}${item.user.full_name ? ` (${item.user.full_name})` : ''}`,\n  new Date(item.taken_at * 1000).toLocaleString(navigator.language, { dateStyle: 'medium', timeStyle: 'medium' }),\n  item.caption?.text\n].filter(Boolean).join(' | ')\nconst res = (i) => [ i.video_versions?.[0].url || i.image_versions2.candidates[0].url, capt ]\nreturn item.carousel_media?.map((e) => res(e)) || res(item)","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1520#20\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=960#10\nhttps://www.reddit.com/r/imagus/comments/v1xqr3/comment/iaxfu6w\nhttps://www.reddit.com/r/imagus/comments/sc9kr0/comment/hu583vk\nhttps://www.reddit.com/r/imagus/comments/q2xxqj/comment/hg44cqe\n\n!!!\nДля показа внешних ссылок и фреймов необходимо правило для SMH (см.ЧаВо, п.12).\n+\nНа домашней странице в \"ленте\" фильтр также работает - для этого следует навести курсор на количество лайков, либо на дату. \n+\nВ случае ошибки - фильтр выдает сообщение с кодом ошибки.\n+\nАльтернативный просмотр Инстаграм: IMGINN.COM.\n+\nЕсли с данным фильтром возникнут проблемы, можно его отключить и включить один из альтернативных фильтров (R_Instagram_pub_api_a1 / O_Instagram_pub_api_gql).\n==\nTo display external links and frames, you need a rule for SMH (see FAQ, p.12).\n+\nOn the home page in the \"feed\" the rule works if you hover over the number of likes or the date.\n+\nIn case of an error, the filter issues a message with an error code.\n+\nAlternative viewer: IMGINN.COM.\n+\nIf there are problems with this rule, you can disable it and enable one of the alternative rules (R_Instagram_pub_api_a1 / O_Instagram_pub_api_gql).\n\nПРИМЕРЫ / EXAMPLES (внешние ссылки / external links):\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=200#19"},"R_Instagram_pub_api_a1":{"off":1,"link":"^(?:(?:i\\.)?instagr(?:\\.am|am\\.com))\\/(?:\\w+\\/)?(tv\\/|p\\/|reel\\/){1,2}([^\\/?#]+).*","ci":1,"url":"https://www.instagram.com/$1$2/?__a=1&__d=dis","res":":\nvar i=JSON.parse($._).items[0];\nvar f=i.user.full_name;\nvar u=i.user.username;\nvar t=new Date(i.taken_at*1e3).toLocaleString('en-GB');\nvar c=i.caption ? i.caption.text : '';\nc = `@${u} (${f}) | ${t} | ${c}`;\nif (i.carousel_media)\nreturn i.carousel_media.map(x => x.video_versions ? [x.video_versions[0].url, c] : \n [x.image_versions2.candidates[0].url, c])\nelse if (i.video_versions) return [i.video_versions[0].url, c];\nreturn [i.image_versions2.candidates[0].url, c]","note":"illogikally\nOLD:\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=960#10\nhttps://www.reddit.com/r/imagus/comments/v1xqr3/comment/iaxfu6w\nhttps://www.reddit.com/r/imagus/comments/sc9kr0/comment/hu583vk\nhttps://www.reddit.com/r/imagus/comments/q2xxqj/comment/hg44cqe\n\n!!!\nДля показа внешних ссылок и фреймов необходимо правило для SMH (см.ЧаВо, п.12).\n+\nНа домашней странице в \"ленте\" фильтр также работает - для этого следует навести курсор на количество лайков, либо на дату. \n+\nАльтернативный просмотр Инстаграм: IMGINN.COM.\n==\nTo display external links and frames, you need a rule for SMH (see FAQ, p.12).\n+\nOn the home page in the \"feed\" the rule works if you hover over the number of likes or the date.\n+\nAlternative viewer: IMGINN.COM.\n\nПРИМЕРЫ / EXAMPLES (внешние ссылки / external links):\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=200#19"},"R_iPic.su":{"link":".*(ipic\\.su/(?:img/)?(?:.+)(?:\\.jpe?g|png|gif)?)","to":"$1","note":"by Rodny + by Baton 34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2460#4\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=820#19\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2460#3\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1420#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50984&start=1680#7"},"R_IRecommend.ru":{"link":"^irecommend\\.ru/content/.+","res":":\nconst product_image = $._.match(/\\/sites\\/default\\/files\\/product-images\\/[^?\"]+/)[0]\nconst user_images = $._.match(/(?<=href=\")\\/sites\\/default\\/files\\/imagecache\\/copyright1[^?\"]+/g)\nreturn user_images?.map((e) => [ 'https://irecommend.ru' + e.replace('/imagecache/copyright1', ''), '']) || 'https://irecommend.ru' + product_image","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1560#20\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2020#21\n\n!!!\nКурсор наводить на описание/комментарий к товару"},"R_iwantclips.com":{"link":"iwantclips.com/store/item/\\d+","res":"source src=\"([^\"]+)\" type=\"video/mp4\"","img":".*?\\.iwantclips.com/uploads/contents/videos/.*?","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1\n\n!!!\nВ РФ может понадобиться прокси."},"R_IXBT_photo":{"img":"^(ixbt\\.photo\\/photo\\/[0-9]+\\/[0-9a-zA-Z]+\\/[0-9]+)(\\.(?:jpe?g|gif|png))$","to":"$1w$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=580#16\n\nПРИМЕРЫ:\nhttp://ixbt.photo/?id=user:309928\nhttp://ixbt.photo/?id=album:48286"},"R_j-p-g.net":{"link":"^(j-p-g\\.net/)if(/\\d{4}/\\d{2}/\\d{2}/\\d+\\.(?:jpe?g|png|gif|bmp))\\.html$","img":"^(j-p-g\\.net/)it(/\\d{4}/\\d{2}/\\d{2}/\\d+\\.(?:jpe?g|png|gif|bmp))$","to":"$1if$2","note":"by Rodny\n\n!!!\nВ РФ может понадобиться прокси.\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2580#20"},"R_jimcdn.com":{"img":"(image\\.jimcdn\\.com/app/cms/image/transf/dimension=)\\d+x\\d+(:format=\\w+/path/\\w+/image/\\w+/version/\\w+/\\w+\\.\\w+)","to":"$12048x2048$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=340#7\n\nEXAMPLES:\nhttps://www.janismeyer.de/referenzen/"},"R_Joxi.ru":{"link":"^(joxi\\.ru/[^/]+)$","to":"$1/download\n$1.#jpg png gif#","note":"by Rodny\n\nПРИМЕРЫ:\nhttps://answers.microsoft.com/en-us/windows/forum/all/серый/18f4fea2-cff2-4333-aa84-6396b001d59d"},"R_JulesJordan.com_galleries":{"img":"^(thumbs\\.julesjordan\\.com/trial/content/.+)thumbs(.+)","to":"$1photos$2","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#10\n\nEXAMPLES:\nhttps://www.julesjordan.com/trial/scenes/Anna-Claire-Clouds-Big-Butt-Cumshot-Facial_highres.html"},"R_JulesJordan.com_trailers":{"link":"^julesjordan\\.com/trial/scenes/.+vids","res":":\nregex = new RegExp(/id:\"\\d+\",path:\"([^\"]+)\",.+movie_height:\"(\\d+)/g);\nstreams = [...$._.matchAll(regex)];\nif (!streams.length) return null;\nlet output = \"\",\n  highest = 0;\nstreams.forEach(el => {\n  let height = parseInt(el[2]);\n  if (height > highest) {\n    highest = height;\n    output = el[1];\n  }\n});\nreturn output;\n","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1"},"R_JumpShare.com|jmp.sh":{"link":"^(jmp\\.sh|jumpshare.com)\\/\\w\\/\\w+$","res":"data-original-image-src=\"([^\"]+)\"","note":"by Rodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#13\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/jmp.sh/"},"R_JustJared.com":{"img":"^(cdn\\.justjared(?:jr)?\\.com/wp-content/uploads/(?:\\d+/\\d+/)?[^/]+/)(?:headlines|thumbs/)(.+)","to":"$1$2","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#16\n\nEXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#15"},"R_KG-Portal.ru":{"img":"^(media\\.kg-portal\\.ru/(?:images|movies|production|tv).+_\\d+)(s|t)\\.jpg$","to":"$1.jpg","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://kg-portal.ru/movies/zerodarkthirty/gallery/images/\nhttp://kg-portal.ru/movies/greatgatsby/gallery/posters/\nhttp://kg-portal.ru/movies/startrek2/gallery/production/\nhttp://kg-portal.ru/comments/39365\nhttp://kg-portal.ru/comments/39349"},"R_Kink.com":{"link":"^kink.com/shoot/\\d+","res":"\"trailer-src\" data-url=\"([^\"]+)","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1"},"R_Kino-Teatr.ru":{"link":"^(kino-teatr\\.ru/)kino/(movie|acter)(?:.+/)(\\d+)/(?:foto|poster)/(?:\\w+/)?(\\d+)/$","to":"$1$2/#kadr poster album#/$3/$4.jpg","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.kino-teatr.ru/kino/movie/euro/7887/foto/120483/\nhttp://www.kino-teatr.ru/kino/movie/ros/83776/foto/i3/184159/\nhttp://www.kino-teatr.ru/kino/movie/euro/7887/foto/\nhttp://www.kino-teatr.ru/kino/movie/hollywood/26843/poster/\nhttp://www.kino-teatr.ru/kino/movie/hollywood/26843/titr/"},"R_Kino-Teatr.ru_thumb":{"img":"^(kino-teatr\\.ru/.+/)(?:pv|sm)_(\\d+\\.jpg)$","to":"$1$2","note":"by Rodny\n\nNOTICE: \n\"kino-teatr.ru_actor\" must be BEFORE \"kino-teatr.ru_thumb\"\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.kino-teatr.ru/kino/movie/ros/83776/foto/i3/184159/\nhttp://www.kino-teatr.ru/kino/movie/euro/7887/foto/\nhttp://www.kino-teatr.ru/kino/movie/hollywood/26843/poster/\nhttp://www.kino-teatr.ru/kino/movie/hollywood/26843/titr/"},"R_Kinomania.ru":{"img":"(fs\\.kinomania\\.ru)\\/image(\\/file\\/(?:film|person)_(?:poster|photo|frame)\\/\\w+\\/\\w{2}\\/\\w{32}\\.)\\d+\\.\\d+\\.(jpe?g|png|gif)","to":"$1$2$3","note":"by Rodny + Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#12\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.kinomania.ru/film/742061/frames/\nhttp://www.kinomania.ru/people/194/frames/\nhttp://www.kinomania.ru/posters/"},"R_Kinomania.ru_wallpapers":{"img":"(fs\\.kinomania\\.ru\\/image\\/file\\/(?:person|film)_wallpaper\\/\\w+\\/\\w{2}\\/\\w{32}\\.)\\d+\\.\\d+\\.(jpe?g|png|gif)","to":"$11920.1200.$2\n$11920.1080.$2\n$11680.1050.$2\n$11600.1200.$2\n$11440.900.$2\n$11366.768.$2\n$11280.1024.$2\n$11280.960.$2\n$11280.800.$2\n$11024.768.$2\n$1960.600.$2\n$1800.600.$2","note":"by Rodny + Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#5\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.kinomania.ru/wallpapers/actresses\nhttps://www.kinomania.ru/wallpapers/actors/\nhttps://www.kinomania.ru/wallpapers/films/\nhttp://www.kinomania.ru/people/194/wallpapers/\nrem link:^(kinomania\\.ru)/people/\\d+/wallpapers/(\\d+)/wallpaper_\\d+x\\d+/$"},"R_Kinopoisk_block":{"url":"http://www.kinopoisk.ru/picture/$1/","res":"id=\"image\" src=\"([^\"]+)\"","img":"^(?:st|www)\\.kinopoisk\\.ru/images/(?:kadr|poster|wallpaper)/sm_(\\d+)(\\.(?:jpe?g|png|gif|bmp))$","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nRight block with Photos & Posters & Wallpapers"},"R_Kinopoisk_galeries":{"link":"^kinopoisk\\.ru/film/(\\d+)/(?:shooting|stills|posters|wall|covers|fanart|promo|screenshots|concept)/$","res":":\nlet res=[];\nlet jsn1=JSON.parse($._.match(/<script id=\"__NEXT_DATA__\" type=\"application\\/json\".+?({.+?)<\\/script>/)[1]).props.apolloState.data;\nfor (let jsn2 in jsn1) {\n  if (jsn1[jsn2].id && jsn1[jsn2].id==$[1]) {\n    let jsn=jsn1[jsn2];\n    for (let nod in jsn) {\n      if (jsn[nod].hasOwnProperty('items')) {\n        for (let item of jsn[nod].items) {\n          res.push([item.image.avatarsUrl+'/orig']);\n        }\n      }\n    }\n  }\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#10\n\n!!!\nПункт \"Изображения\" на странице актера/фильма/сериала"},"R_Kinopoisk_people":{"useimg":1,"link":"^kinopoisk\\.ru\\/(?:name|level\\/\\d+\\/people)\\/(\\d+)/photos/?","res":":\nlet i = $._.indexOf('<table class=\"js-rum-hero');\nif(i<0) { return null; }\nlet t = $._.indexOf('</td></tr>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<img  src=\"([^\"]+\\/)\\d+x\\d+\"/gi\nlet data=$._.substring(i,t)\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]+'orig']);\n   a = re.exec(data);\n}\nreturn res;","img":"^(avatars\\.mds\\.yandex\\.net/get-kinopoisk-image/\\d+/[\\w-]+/)\\d+x\\d+","to":"$1orig","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#14\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#10\nby Rodny + Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1840#10"},"R_Kinopoisk_people_2":{"link":"^kinopoisk\\.ru\\/(?:name|level\\/\\d+\\/people)\\/(\\d+)/(?:sr/\\d/)?$","to":"https://st.kp.yandex.net/images/actor_iphone/iphone360_$1.jpg","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#14\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#10\nby Rodny + Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1840#10\n\n!!!\n(актерский состав + поисковая выдача + фото в профиле)\nhttps://www.kinopoisk.ru/name/11506/\nhttps://www.kinopoisk.ru/index.php?kp_query=Венсан+Кассель\nhttps://www.kinopoisk.ru/index.php?kp_query=киану+ривз"},"R_Kinopoisk_poster":{"link":"^kinopoisk\\.ru/film/(\\d+)/(\\S+)?","img":"^st\\.kinopoisk\\.ru/images/film/(\\d+)(\\.(?:jpe?g|png|gif|bmp))$","to":"http://st.kinopoisk.ru/images/film_big/$1.jpg","note":"by Rodny + by Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3400#15\n\nПРИМЕРЫ / EXAMPLES:\nPoster preview\nhttp://www.kinopoisk.ru/premiere/ru/\nhttp://www.kinopoisk.ru/film/427076/\nhttp://www.kinopoisk.ru/film/278522/\n+\nhttps://www.kinopoisk.ru/s/type/film/list/1/find/Форсаж/\nhttps://www.kinopoisk.ru/s/type/film/list/1/find/контакт/\nhttps://www.kinopoisk.ru/index.php?kp_query=война"},"R_Kinorium.com":{"img":"((?:\\w\\w-)?images\\.kinorium.com/(?:movie|persona)/)\\d+(/\\d+\\.\\w+)","to":"$11080$2\n$1600$2\n$1300$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3400#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1640#13\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3400#11\n\nПРИМЕРЫ / EXAMPLES:\nhttps://ru.kinorium.com/116780/\nhttps://ru.kinorium.com/movies/home/"},"R_Kinorium_poster":{"img":"(images\\.kinorium\\.com\\/movie\\/(?:shot|poster|backstage|promo)\\/\\d+\\/)h\\d+(_\\d+\\.\\w+)","to":"$1w1500$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1640#13\n\nПРИМЕРЫ / EXAMPLES:\nhttps://ru.kinorium.com/1670490/gallery/poster/"},"R_KizlyarExtreme.ru":{"link":"^kizlyarextreme\\.ru/[\\w-]+/[\\w-]+","res":":\nvar i = $._.indexOf('<div class=\"gallery-thumbs-wrapper mobile-wrapper hidden shown-sm\">');\nif(i<0) {return null; }\nvar t = $._.indexOf('<style>', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\nconsole.log(a[1]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#7\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#3"},"R_Kolesa.kz":{"link":"^kolesa\\.kz/\\w+/show/\\d+","res":":\nvar i = $._.indexOf('<ul class=\"gallery__thumbs-list js__gallery-thumbs\">');\nif(i<0) { return null;}\nvar t = $._.indexOf('</ul>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /data-href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nif (res.length<1) {\n return $._.match(/<meta property=\"og:image\" content=\"([^\"]+)\"/)[1];\n}\nreturn res;\n","img":"^(cf-kl\\.kcdn\\.online/\\w+/\\w+/[\\w-]+/\\d+-)\\d+x\\d+(\\.\\w+)$","to":"$1full$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1340#20\n\nПРИМЕРЫ\nhttps://kolesa.kz/cars/almaty/\nhttps://kolesa.kz/uslugi/kostanai/\nhttps://kolesa.kz/zapchasti/prodazha/honda/"},"R_Kufar.by":{"link":"^(\\w+\\.)?kufar\\.by/(item|vi)/\\d+$","res":":\nlet i = $._.indexOf('tabindex=\"0\"><div class=\"swiper-container\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('</div></div></div></div>', i);\nif(t<0) { return null; }\nlet data=$._.substring(i,t);\nlet res = [];\nlet re = /src=\"([^\"]+)\"/gi\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","img":"^(yams\\.kufar\\.by/api/v1/kufar-ads/images/\\d{2}/\\d+\\.(?:jpe?g|png|gif|bmp)\\?rule=|content\\.kufar\\.by/)(line_thumbs(?:_2x)?|mobile_thumbs)(/\\d{2}/\\d+\\.(?:jpe?g|png|gif|bmp))?","to":"$1gallery$3","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#13\nOLD:\nby Rodny\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1700#12"},"R_Lamnia.com":{"link":"^lamnia\\.com/\\w+/\\w/\\d+/[\\w%-]+/[\\w%-]+","res":":\nvar i = $._.indexOf('class=\"lamnia-slider');\nif(i<0) {return null; }\nvar t = $._.indexOf('</a></div>', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /src=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1].replace('140x140','800x800')]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#18\n\nПРИМЕРЫ:\nhttps://www.lamnia.com/ru/br/16/ножи-и-складные-ножи-b&#246;ker"},"R_Lenta.com":{"link":"lenta\\.com/product/[\\w-]+/","res":":\nlet i = $._.indexOf('<div class=\"sku-images-slider sku-page__slider-inner\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div class=\"sku-page__info\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<img\\s+src=\"([^\\?]+)(\\?preset=\\w+)\"/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","img":"(lenta\\.gcdn\\.co/globalassets/\\d/-/[^\\?]+)\\?preset=.+","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#8\n\nДля просмотра галереи целиться чуть в сторону от изображения.\nhttps://lenta.com/catalog/myaso-ptica-kolbasa/\nhttps://lenta.com/catalog/myaso-ptica-kolbasa/?page=2"},"R_LeroyMerlin.ru":{"link":"leroymerlin\\.ru/product/[\\w-]+/","res":":\nvar i = $._.indexOf('media-carousel class=\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('</media-carousel>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /1024px\\)\\\" srcset=\\\"([^\\\"]+)\\\"/gi\nvar data=$._.substring(i,t)\nvar a = re.exec(data);\nwhile(a) {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1460#21\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=540#19\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3040#9"},"R_LibertyCity.ru":{"img":"^(libertycity\\.ru/uploads/download/[^/]+/)thumbs(/.+\\.(?:jpe?g|gif|png))$","to":"$1fulls$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.libertycity.ru/all-files/\nhttp://www.libertycity.ru/files/cat163.html"},"R_LibertyCity.ru_gallery":{"img":"^(libertycity\\.ru/uploads/gallery/)thumb(/.+\\.(?:jpe?g|gif|png))$","to":"$1main$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.libertycity.ru/gallery/"},"R_lifeisphoto.ru":{"img":"^(photos\\.lifeisphoto\\.ru/\\d+/)[012](/\\d+\\.(?:jpe?g|gif|png))$","to":"$1#3 2 0#$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.lifeisphoto.ru/gallery.aspx\nhttp://www.lifeisphoto.ru/theme.aspx?id=20\nhttp://www.lifeisphoto.ru/page.aspx?id=75365"},"R_lki.ru":{"img":"^((?:\\w+\\.)?lki\\.ru/Txt\\d+/\\d+/[^/]+/)Small/([^/]+\\.(?:jpe?g|png|gif|bmp))$","to":"$1Main/$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.lki.ru/text.php?id=5755"},"R_loc.gov_pictures":{"img":"^(tile\\.)?(loc\\.gov/storage-services/service/pnp/)(.*?)_\\d+.*(?:jpe?g|png)","to":"$1$2$3r.#jpg jpeg png#","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#13\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.loc.gov/pictures/search/?st=grid&co=acd\nhttps://www.loc.gov/pictures/search/?q=1860-1870&co=gld\nhttps://www.loc.gov/exhibits/herblock/classic-cartoons-by-a-master.html\nhttps://www.loc.gov/pictures/related/?va=exact&co=app&st=gallery&q=Alfred+Whital+Stern+Collection+of+Lincolniana+(Library+of+Congress)+DLC&fi=author&sg=true&op=EQUAL"},"R_lookimg.com|poopr.org|tryimg.com":{"link":"^lookimg\\.com|poopr\\.org|tryimg\\.com/image/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=40#11"},"R_LostFilm.tv_photos":{"img":"^(static\\.lostfilm\\.(tv|run|uno|top)/Gallery/\\w/\\w/\\w/)(?:m|t)_(\\w+\\.(?:jpe?g|png|gif))$","to":"$1$3","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3500#5\nOLD\nby Rodny + by MDMEx (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2640#4\n\nПРИМЕРЫ:\nhttps://www.lostfilm.tv/series/Squid_Game/photos"},"R_LostFilm.tv_posters":{"img":"^(static\\.lostfilm\\.(tv|run|uno|top)\\/Images\\/\\d{3}\\/Posters\\/)t_(\\w+\\.(?:jpe?g|png|gif))$","to":"$1$3","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3500#5\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=740#21"},"R_lpi.usra.edu":{"img":"^(lpi\\.usra\\.edu/resources/[^/]+/[^/]+/)(thumbs?|browse)/(.+)(\\.jpe?g)$","to":":\nconst filler = ($[2] === \"thumb\") ? \"browse\" : \"images\";\nreturn `${$[1]}${filler}/${$[3]}${$[4]}`","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#15\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.lpi.usra.edu/resources/cla/book/\nhttps://www.lpi.usra.edu/resources/lunarorbiter/\nhttps://www.lpi.usra.edu/resources/ranger/catalog/7/A/\nhttps://www.lpi.usra.edu/resources/apollo/catalog/metric/revolution/?AS15R27\nhttps://www.lpi.usra.edu/resources/apollopanoramas/"},"R_ManyVids.com":{"link":"^manyvids\\.com/Video/\\d+/","res":":\nconst arr = []\nconst title_re = /twitter:title\" content=\"([^\"]+)/g.exec($._)\nconst cover = /data-video-screenshot=\"([^\"]+)/g.exec($._);\nconst video = /data-video-filepath=\"([^\"]+)/g.exec($._);\n\nconst title = title_re ? title_re[1] : \"\";\nif (cover) arr.push([cover[1], title]);\nif (video) arr.push([video[1], title]);\nreturn arr;","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#4"},"R_Megafon.ru":{"link":"\\w+\\.shop\\.megafon\\.ru/[\\w-]+/\\d+$","res":":\nvar i = $._.indexOf('<div class=\"b-gallery__images\">')\nif(!i) { return null; }\nvar t = $._.indexOf('<div class=\"b-gallery__bottom\">', i);\nif(!t) { return null; }\nvar res = []\nvar re = /data-lazy=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec( $._.substring(i,t) );\n}\nreturn res;","note":"Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1020#16\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2380#5\n\n!!!\nКурсор наводить на название товара.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://shop.megafon.ru/planshet\nhttps://shop.megafon.ru/mobile\nhttps://shop.megafon.ru/mobile?si_sbmt=1&si_actions=&si_av=1&si_archVal=0&si_courier=1&si_salon=1&si_specs_2=2894"},"R_memegenerator.net":{"link":"^(?:(?:ru|es)\\.)?memegenerator\\.net/(instance)/(\\d+)(\\d{3}).*","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","img":"^cdn\\.meme(?:\\.am|generator\\.net)/(?:cache/)?(instance)s/(?:folder\\d+/)?\\d+x\\d*/(\\d+)(\\d{3}).*","to":"https://cdn.meme.am/cache/$1s/folder$3/$2$3.jpg","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\nПРИМЕРЫ / EXAMPLES:\nhttps://memegenerator.net/Willy-Wonka\nhttps://memegenerator.net/y-u-no/images/hot\nhttps://memegenerator.net/Disaster-Girl"},"R_Meshok.net":{"link":"^meshok\\.net/item/[\\w%-]+","res":":\nvar i = $._.indexOf('var items = [{');\nif(i<0) {return null; }\nvar t = $._.indexOf('}];', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /\\ssrc: '([^']+)'/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#7\n\nПРИМЕРЫ:\nhttps://meshok.net/listing?good=1011\nhttps://meshok.net/listing?good=12370\nhttps://meshok.net/listing?good=2817"},"R_Metro-cc.ru":{"link":"^online\\.metro-cc\\.ru/products/[\\w-]+","res":":\nlet i = $._.indexOf('images:[');\nif(i<0) { return null; }\nlet t = $._.indexOf(']', i);\nif(t<0) { return null; }\nlet jsn=JSON.parse('{\"images\":'+$._.substring(i+7,t+1)+'}');\nlet res = [];\nfor (img of jsn.images) {\n  res.push([img]);\n}\nreturn res;","note":"Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1020#16\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#2\n\nПРИМЕРЫ:\nhttps://online.metro-cc.ru/category/chaj-kofe-kakao/chay\nhttps://online.metro-cc.ru/category/rybnye/moreprodukty"},"R_Mobygames.com":{"link":"(?:www\\.)?mobygames\\.com\\/game\\/[^,]+?,\\d+\\/","res":"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2400#7\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.mobygames.com/game/flatout/screenshots"},"R_moddb.com":{"link":"(?:www\\.)?moddb\\.com\\/mods\\/.+\\/videos\\/.+","res":":\nvar i = $._.indexOf('<video id=\"mediaplayer\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"normalbox\" id=\"comments\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<source src=\"([^\"]+)\" type=\"video\\/mp4\" label=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1], a[2]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;\n","img":"(media\\.moddb\\.com\\/)cache\\/(images\\/\\w+\\/\\d+\\/\\d+\\/\\d+\\/)crop_\\w+\\/(.+)","to":"$1$2$3","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2420#12\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.moddb.com/games/diablo-2-lod/mods\nhttps://www.moddb.com/mods/battle-of-legends1"},"R_motherless.com":{"link":"^(lm\\d\\.)?motherless\\.com/\\w{1,7}","res":"__fileurl = '([^']+)","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=220#13\n\n\n!!!\nВ РФ может понадобиться прокси.\n+\nКурсор рекомендуется наводить на название ролика, либо наводить на видео дважды.\n==\nСursor is recommended to hover over the name of the video, or hover over the video twice."},"R_MVideo.ru":{"link":"^mvideo\\.ru\\/products\\/.+-(\\d+)$","url":"https://www.mvideo.ru/bff/product-details?productId=$1","res":":\nvar res=[];\nJSON.parse($._).body.images.forEach(function(item){\n  res.push(['https://img.mvideo.ru/'+item]);\n});\nreturn res;\n","img":"(img\\.mvideo\\.ru/rimpic/)\\d+/(.+)","to":"$1$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=380#20\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#11\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#8\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#8\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2380#5\n\n!!!\nКурсор наводить на название товара.\n\nПРИМЕРЫ:\nhttps://www.mvideo.ru/televizory-i-cifrovoe-tv-1/televizory-65/f/category=4k-uhd-televizory-1682/tolko-v-nalichii=da\nhttps://www.mvideo.ru/holodilniki-i-morozilniki-2687/holodilniki-i-morozilnye-kamery-159/f/tolko-v-nalichii=da/collection_top=nedorogie"},"R_My-Files.su":{"link":"my-files\\.su/\\w+","res":"<a class=\"btn btn-success breakword\" itemprop=\"url\" href=\"([^\"]+)\">\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1440#7\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#10\n\nПРИМЕРЫ / EXAMPLES\nhttps://my-files.su/catalog/Images\nhttps://my-files.su/catalog/Videos\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_MyPhoto.eu":{"link":"^(.*myphoto\\.eu/\\w+/photo)/(\\d{6}/.+\\.(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))","url":"$1/big/$2","res":"url\\((/photos/.+(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))\\) no-repeat","to":"https://myphoto\\.eu/$1","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#10\n\nEXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_Myvi.ru":{"link":"^myvi\\.ru/(watch/[\\w-]+$|player/embed/html/([\\w-]+))","res":":\nif ($[2]) {\n  let i = $._.indexOf('createPlayer(\"v=');\n  if(i<0) { return null; }\n  let t = $._.indexOf('tp=video', i);\n  if(t<0) { return null; }\n  return url=decodeURIComponent($._.substring(i+16,t-6));\n}\nelse {\n  let nexturl=$._.match('<meta property=\"og:video\" content=\"([^\"]+)\"')[1];\n  return nexturl && {loop: nexturl};\n}","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=440#21\n\n!!!\nФильтр работает только в FireFox.\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=440#8"},"R_Myvi.top":{"link":"^(myvi\\.(?:top|tv))/(\\w+)\\?v=(\\w+)","url":"https://api.myvi.tv/api/1.0/channel/$2/detail?featured_size=10&host=www.$1&video_id=$3","res":":\njsn=JSON.parse($._);\nreturn jsn.featured[0].player.mediaConfig.source[0].file;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=440#21\n\n!!!\nФильтр работает только в FireFox.\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=440#8"},"R_Myvi.top_embed":{"link":"^myvi\\.(?:top|tv)/embed/\\w+","res":":\nlet i = $._.indexOf('PlayerLoader.CreatePlayer(\"v=');\nif(i<0) { return null; }\nlet t = $._.indexOf('tp=video', i);\nif(t<0) { return null; }\nlet url=decodeURIComponent($._.substring(i+29,t-6));\nreturn url;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=440#21\n\n!!!\nФильтр работает только в FireFox.\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&bm=1&topic=50874&start=440#lt"},"R_NatGeo":{"link":"^nationalgeographic\\.com/\\w+/article/[\\w-]+","res":":\nvar jsn=JSON.parse($._.match(/window\\['__natgeo__'\\]=(.+);<\\/script>/i)[1]);\nvar edgs=jsn.page.content.article.frms[0].mods;\nvar res=[];\nedgs.forEach(customFilter);\n \nfunction customFilter(item){\n if(item.hasOwnProperty('image'))\n res.push([item.image.src]);\n for (var i=0; i<Object.keys(item).length; i++){\n if (typeof item[Object.keys(item)[i]] == \"object\"){\n customFilter(item[Object.keys(item)[i]]);\n }\n }\n}\nreturn res;","note":"by Baton34V\n03-11-21 (PM)\n\n!!!\nНа некоторых статьях показывает \"жёлтый\" вращающийся индикатор, т.к. картинки отображаемой в списке статей нет в самой статье.\n==\nOn some articles, it shows a \"yellow\" rotating indicator. the picture displayed in the list of articles is not in the article itself.\n\nEXAMPLES:\nhttps://www.nationalgeographic.com/animals\nhttps://www.nationalgeographic.com/travel\nhttps://www.nationalgeographic.com/environment"},"R_Naver.com":{"link":"^(?:m\\.)?tv\\.(naver\\.com/)v/(?:(\\d+)(?:$|[/?#])|([\\dA-F]+)/(\\w+)).*","url":": $[3] ? 'https://global.apis.'+$[1]+'rmcnmv/rmcnmv/vod_play_videoInfo.json?key='+$[4]+'&videoId='+$[3] : $[0]","res":":\nif($[2]) {\n var x=typeof $._=='string'&&$._.match(/\"videoId\"\\s*:\\s*\"([^\"]+)\",\\s+\"inKey\"\\s*:\\s*\"([^\"]+)/)\n return x&&{loop:'https://tv.'+$[1]+'v/'+x[1]+'/'+x[2]}\n}\n$._=JSON.parse($._)\nreturn [$._.videos.list[3].source, $._.meta.subject+' by '+ $._.meta.user.id]","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=260#5\n\nEXAMPLES:\nhttps://www.naver.com/\nhttps://www.reddit.com/domain/tv.naver.com/"},"R_newegg.com":{"link":"^newegg\\.com/[\\w-]+/[\\w-]+","res":":\nlet i = $._.indexOf('<div class=\"product-view-container\">');\nif(i<0) {return null; }\nlet t = $._.indexOf('<div class=\"product-hover-area\"></div>', i);\nif(t<0) {return null; }\nlet res = [];\nlet re = /src=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","img":"^((?:images|c)\\d+\\.newegg(?:images)?\\.com(?:\\.cn)?/)(?:(is/image/newegg/[^?]+)\\?\\$.*|((?:NeweggImage/)?ProductImage)(?:CompressAll\\d*)?|(neweggpic\\d/neg/P)(?!800)\\d+)","to":":\nreturn $[1] + ($[2] ? $[2] + '?$S1280$': ($[4] ? $[4] + '800' : $[3] + 'CompressAll1280'));","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#4\n\nEXAMPLES:\nhttps://www.newegg.com/Gas-Oil-Tanks/SubCategory/ID-3115?Tid=1700328\nhttps://www.newegg.com/todays-deals?cm_sp=Head_Navigation-_-Under_Search_Bar-_-Today%27s+Best+Deals&icid=720202\nhttps://www.newegg.com/p/pl?N=100167585%20600555891&cm_sp=TV-Video_2-_-LeftNav-_-OLED-TV"},"R_nhentai.net":{"link":"nhentai\\.net/g/\\d+/$","res":":\nvar i = $._.indexOf('id=\"thumbnail-container\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('</a></div></div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /data-src=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n  res.push([a[1].replace(/t\\d?.nhentai/,'i.nhentai').replace('t.','.')]);\n   a = re.exec( $._.substring(i,t) );\n}\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nreturn res;","img":"t\\d?(\\.nhentai\\.net/galleries/\\d+/\\d+)t(\\.\\w+)","to":"i$1#.png .jpg .gif#","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#15\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#13\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3680#18\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3000#18\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2700#4\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3000#5\n\n!!!\nВ РФ может понадобиться прокси.\n\nПРИМЕРЫ / EXAMPLES (external links):\nhttps://nhentai.net/tag/animated\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3000#6"},"R_NaughtyAmerica.com":{"link":"naughtyamerica.com/scene/.+","res":":\nconst m = /source src=\"([^\"]+)\" type=\"video/.exec($._)\nif (m) return m[1];\nreturn \"//i.imgur.com/ejZcAGv.png\";","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1163&limit=1&m=1#1\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3616#1\n\nEXAMPLES:\nhttps://www.naughtyamerica.com/new-porn-videos"},"R_nix.ru":{"useimg":1,"link":"^nix\\.ru/autocatalog/[\\w-]+/[\\w-]+\\.html$","res":":\nlet i = $._.indexOf('<span id=\"gallery-images\"');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div id=\"goods_info\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<span data-href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n  res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","img":"^((?:\\w+\\.)?nix\\.[^/]+/autocatalog/(?:\\w+/)+(?:\\d+)_(?:\\d+)_draft)_(small|micro|large)(\\.jpg)$","to":"#$1$3\n$1_large$3","note":"by Rodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#4"},"R_NoelShack.com":{"link":"^(?:.*)noelshack\\.com/(\\d{4})-(\\d{1,2})-(\\d{1,2})-(.+(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))","to":"http://image.noelshack.com/fichiers/$1/$2/$3/$4","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#10\n\nEXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_Nozhikov.ru":{"link":"(?:www\\.)?nozhikov\\.ru\\/product\\/[\\w-]+","res":":\nvar i = $._.indexOf('<div class=\"swiper-wrapper\">')\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"thumbs-pagination\"><\\/div>', i);\nif(t<0) { return null; }\nvar res = []\nvar re = /href=\"(https?:\\/\\/img\\.nozhikov\\.ru\\/images\\/products\\/\\d\\/\\d+\\/\\d+\\/[\\w-\\.]+\\.(?:jpe?g|png|bmp))\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec( $._.substring(i,t) );\n}\nreturn res","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1180#17"},"R_NozhiMAN.ru":{"link":"^nozhiman\\.ru/[\\w-]+/[\\w-]+(/[\\w-]+)?","res":":\nvar i = $._.indexOf('<div id=\"image-additional-carousel\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('</ul>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /data-image=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#3"},"R_Obi.ru":{"link":"obi\\.ru/products/[\\w-]+-\\d+$","res":":\nvar i = $._.indexOf('<meta itemProp=\"image\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></div></div></div></div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<img alt=\"\" src=\"https:\\/\\/obi\\.ru\\/media\\/catalog\\/product\\/cache\\/\\w+(\\/\\w\\/\\w\\/\\w+\\.\\w+)\" itemProp/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push(['https://obi.ru/media/catalog/product/cache/ca7c96d5c3622347f964688277e4299c' + a[1]]);\n a = re.exec(data);\n}\nreturn res;\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1340#20\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3040#9\n\n!!!\nКурсор наводить на название товара.\n\n\nПРИМЕРЫ:\nhttps://obi.ru/tehnika/snegouborschiki\nhttps://obi.ru/sad-i-dosug/sadovaja-mebel/nabory-sadovoj-mebeli"},"R_OK.ru_album":{"link":"(ok\\.ru\\/\\w+\\/album\\/\\d+\\/(\\d+))","url":"$1","res":":\nconst rx1 = new RegExp(`img src=\"([^\"]+)\" class=\"image-layer_img image__4rmea\" loading=\"eager\" data-photo-id=\"${$[2]}`, \"g\");\nconst still = rx1.exec($._);\nif (still) return(still[1]);\n\nconst rx2 = new RegExp(`data-photoId=\"${$[2]}\" data-gifSrc=\"([^\"]+)`, \"\");\nconst gif = rx2.exec($._);\nif (gif) return(gif[1]);\n\nreturn;","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2220#17\n\nПРИМЕРЫ / EXAMPLES:\nhttps://ok.ru/kinofilmu/album/52319206834266?st._aid=Groups_Photo_Album_List_openAlbum&st._aid=GroupAlbumsList_Albums_OverTitle"},"R_OLDI.ru":{"link":"^oldi\\.ru/catalog/element/\\d+/$","res":":\nlet i = $._.indexOf('<div id=\"morephotosroot\"');\nif(i<0) { return null; }\nlet t = $._.indexOf(\"<table class='prod-menu'>\", i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /data-href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n  res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#4\n\nПРИМЕРЫ:\nhttps://www.oldi.ru/catalog/6863/\nhttps://www.oldi.ru/catalog/7984/\nhttps://www.oldi.ru/catalog/6569/?source=redirect"},"R_OLX":{"useimg":1,"link":"^(([^\\.]+\\.)?[^\\.]+\\.)?olx\\.\\w\\w\\/\\w?(\\/\\w+)?/(obyavlenie|oferta)\\/[^\\/]+\\.html(?:\\?.+)?","res":":\nvar i = $._.indexOf('<div class=\"swiper-container\">');\nif(i<0) { \n  i = $._.indexOf('<ul class=\"clr printphotoselect\">');\n}\nif(i<0) {return null; }\nvar t = $._.indexOf('<div class=\"swiper-pagination\">', i);\nif(t<0) { \n  t = $._.indexOf('</fieldset>', i);\n}\nif(t<0) { return null; }\nvar res = []\nvar re = /img (?:data-)?src=\"(.+?\\/image)[^\"]+\"/gmi\nvar a = re.exec($._.substring(i,t));\nif(!a) { return null; }\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec($._.substring(i,t));\n}\nreturn res;","img":"^(olx(?:ua|by)-ring\\d+\\.akamaized\\.net/images_[^/]+/\\d+_\\d+)_\\d+x\\d+_([^/]+\\.(jpe?g|png|gif))$","to":"$1_1000x700_$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1000#17\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2960#8\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2840#3\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2060#16\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=820#15\n\nПРИМЕРЫ / EXAMPLES:\nhttps://fanatik.olx.ua/\nhttps://www.olx.ua/list/?q=THX+AAA\nhttps://www.olx.ua/transport/pritsepy-doma-na-kolesah/kharkov/\nhttps://www.olx.ua/list/q-трубогиб/"},"R_OLX_pm":{"link":"^(?:slando\\.ua|olx\\.by|olx\\.ua)/attachment/attachments_.+\\.(jpe?g|png|gif)/$","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nImages in personal messages"},"R_om.cn":{"link":"^om\\.cn/md/\\w+\\.html","res":":\nlet i = $._.indexOf('<div class=\"swiper-wrapper\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div class=\"thumbnail\"', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<img src=\"([^?\"]+)\\?[^\"]+\" title=\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nreturn res;","note":"Baton34V\n(в ПМ)\n\nEXAMPLES:\nhttps://www.om.cn/models/model-17-170-0-1-0-0-0-2-0-0-0-1-0-0-0-0-0.html"},"R_OnlineTrade.ru":{"link":"^(www\\.)?onlinetrade\\.ru\\/catalogue\\/[a-z0-9_-]+\\/.+\\.html$","res":":\nvar i = $._.indexOf('productPage__displayedItem__images')\nif(i<0) {return null; }\nvar t = $._.indexOf('<div class=\"clear\"', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /<a href=\"https:\\/\\/static\\.onlinetrade\\.ru\\/img\\/items\\/\\w([^\"]+)\"/gi\ndata=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a){\n    res.push(['https://static.onlinetrade.ru/img/items/b'+a[1]]);\n    a = re.exec(data);\n}\ni = $._.indexOf('<div class=\"productPage__topReview__gallery')\nif(i<0) {return res; }\nt = $._.indexOf('<div class=\"swiper-pagination\">', i);\nif(t<0) {return res; }\nre = /<a href=\"([^\"]+)\"/gi\ndata=$._.substring(i,t);\na = re.exec(data);\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#7\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3260#6\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=840#20\n\n!!!\nЕсть подгрузка фото товара от пользователей (там где они есть)\n\nПРИМЕРЫ:\nhttps://www.onlinetrade.ru/catalogue/smartfony-c13/\nhttps://www.onlinetrade.ru/catalogue/operativnaya_pamyat-c341/\nhttps://www.onlinetrade.ru/catalogue/vodonagrevateli_nakopitelnye_elektricheskie-c306/ariston/"},"R_otomoto.pl":{"link":"^otomoto\\.pl/oferta/[\\w-]+\\.html","res":":\nvar i = $._.indexOf('<div class=\"om-offer-photos om-offer-photos-slick\">');\nif(i<0) {return null; }\nvar t = $._.indexOf('<div class=\"offer-photos-thumbs', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /data-lazy=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1000#17"},"R_Otzovik.com":{"img":"(i\\d?\\.otzovik\\.com\\/\\d+\\/\\d\\d\\/\\d\\d\\/\\d+\\/img\\/\\w+?)(?:_t)?(\\.(?:jpe?g|png))","to":"$1_b$2\n$1$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2020#21\n\nПРИМЕРЫ:\nhttps://otzovik.com/reviews/elektronnaya_kniga_pocketbook_iq_701/gallery/"},"R_OSzone.net":{"link":"^(soft\\.oszone\\.net)/(?:screenshots|program)/(\\d+)/","img":"^(soft\\.oszone\\.net)/images/thumb/screenshot/\\?soft=(\\d+)$","to":"$1/images/screenshot/?soft=$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://soft.oszone.net/subcat/53/\nhttp://soft.oszone.net/program/11113/Display_Tuner/"},"R_Ozon.ru":{"link":"(?:www\\.)?ozon\\.ru/(?:product/[\\w-]+|context/detail/id/\\d+)/.*","res":":\n// debugger;\nconst r = []\ntry {\n    const title = (/<title.*?>(.+?)<\\/title>/.exec($._) || [])[1];\n\n    // product images\n    const regexp = new RegExp('<div data-index=\"\\\\d+\"[\\\\s\\\\S]+?<img loading=\"lazy\" src=\"(.+?)\"', 'gi');\n    let m;\n    while ((m = regexp.exec($._)) !== null) {\n        let url = m[1];\n        url = url.replace(/\\/\\w+50\\//, '/');\n        r.push([url, title]);\n    }\n\n    // fallback image\n    if (!r.length) {\n        const url = ($._.match(/<meta.+data-hid=\"property::og:image\" property=\"og:image\" content=\"(.+?)\"/) || [])[1];\n        if (url) r.push([url, title]);\n    }\n    // reviews images\n    const path = ($.base.match(/https?:\\/\\/(www\\.)?ozon.ru(\\/.+?)(\\?|$)/) || [])[2];\n    const x = new XMLHttpRequest;\n    x.open('POST', 'https://www.ozon.ru/api/composer-api.bx/widget/json/v2', false);\n    x.send(JSON.stringify({\n        \"asyncData\": btoa(JSON.stringify({\n            \"url\": path,\n            \"ci\": {\n                \"id\": 1,\n                \"name\": \"listReviewsDesktop\",\n                \"vertical\": \"rpProduct\",\n                \"version\": 1,\n                \"params\":\n                [\n                    { \"name\": \"paginationType\", \"text\": \"loadMoreButton\" },\n                    { \"name\": \"sortingType\", \"text\": \"created_at_desc\" },\n                    { \"name\": \"paramPageSize\", \"int\": 100 },\n                    { \"name\": \"paramVariantModeEnabled\" },\n                    { \"name\": \"videoAllowed\", \"bool\": true }\n                ]\n            }\n        })),\n        \"extraBody\": {},\n        \"url\": path + \"?tab=reviews&reviewsFilters=eyJ3aXRoUGhvdG9zIjp0cnVlfQ&sort=created_at_desc\",\n        \"componentName\": \"listReviewsDesktop\"\n    }));\n\n    JSON.parse(x.responseText).state.reviews.forEach(f => {\n        const c = f.content;\n        c.photos.forEach(p => {\n            const text = [c.score + '&#11088;'];\n            if (c.comment) text.push(c.comment);\n            if (c.positive) text.push('&#128077;&#127995; ' + c.positive);\n            if (c.negative) text.push('&#128078;&#127995; ' + c.negative);\n            r.push([p.url, text.join(' | ')]);\n        });\n    });\n} catch (e) {}\nreturn r;","img":"(cdn\\d\\.ozone\\.ru/s3/(rp-photo-\\d|multimedia-\\w)/)wc\\d+/(.+\\.jpe?g)","to":"$1$3","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#11\nOLD\nby hababr\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3600#11\nby Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2920#20\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2900#3\n\n!!!\nВ поисковой выдаче подгружает не только фото товара, но и фото сделанные покупателями + отзывы.\n+\nКурсор рекомендуется наводить на описание товара."},"R_Parovoz.com":{"link":"parovoz\\.com\\/newgallery\\/pg_view.php\\?ID=\\d+","res":"<img src='([^\"]+)' border='1'>","img":"(parovoz\\.com\\/gallery)\\/icons(\\/[A-Z0-9]+\\/.*)-s(\\.jpg)","to":"$1$2$3","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#19\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1020#9\n\nПРИМЕРЫ / EXAMPLES:\nhttps://parovoz.com/newgallery/pg_view.php?ID=0\nhttps://parovoz.com/newgallery/index.php?CATEG=-1\nhttps://www.parovoz.com/newgallery/index.php?CATEG=-1\nhttps://parovoz.com/newgallery/pg_blog.php?FROM=25&LNG=&REGION=RU22\n+\n(ссылки на фото в комментариях (черные стрелки) / links to photos in the comments (black arrows))\nhttps://parovoz.com/newgallery/pg_blog.php?FROM=650&LNG=&REGION=RU22"},"R_Pasteboard.co":{"link":"pasteboard\\.co\\/\\w+\\.(?:jpe?g|a?png|gif|tiff)","res":"data-src=\"([^\"]+)\"","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2120#8"},"R_PasteNow.ru":{"link":"^(pastenow\\.ru\\/)(\\w+)","to":"i.paste.pics/$2.png","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=720#15\n\nПРИМЕРЫ:\nhttps://pastenow.ru/HWQJ3\nhttps://pastenow.ru/HWQJT"},"R_PBase.com":{"link":"^(pbase\\.com/)(?:[^/]+/)?image(/\\d+).*","res":"imgurl=\"([^\"]+)\" imgx=\"\\d+\" imgy=\"\\d+\" imgsize=\"original\"","img":"^m\\d\\.i\\.(pbase\\.com/).+(/\\d+).*","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#13\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\nПРИМЕРЫ / EXAMPLES:\nhttps://pbase.com/joshcruzphotos/my_country"},"R_pcportal.org.ru":{"link":"^pcportal\\.org\\.ru/go\\?(https?:[^?#]+\\.(?:jpe?g|a?png|gif|bmp|svgz?)).*","ci":1,"dc":1,"loop":1,"to":"$1","note":"by Rodny\n\n!!!\nНужно залогиниться, чтобы заработало."},"R_Perekrestok.ru":{"link":"^perekrestok\\.ru/cat/\\d+/\\w/[\\w-]+-\\d+$","res":":\nlet i = $._.indexOf('\"images\":[{');\nif(i<0) { return null; }\nlet t = $._.indexOf(']', i);\nif(t<0) { return null; }\nlet jsn=JSON.parse('{'+$._.substring(i,t+1)+'}');\nlet res = [];\nfor (img of jsn.images) {\n  res.push([img.cropUrlTemplate.replace('%s','400x400-fit')]);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#6"},"R_PhoneArena.com":{"img":"^(i-cdn\\.phonearena\\.com/images/articles/\\d+-)(?:gallery|image)(/[^/]+\\.(?:jpe?g|gif|png))$","to":"$1image$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.phonearena.com/news/Best-Android-browsers-2015-edition-speed-features-and-design_id67848#media-179533"},"R_Photo.I.ua":{"link":"photo\\.i\\.ua\\/(?:user|channel)\\/(?:\\d+\\/)*","res":"<meta property=\"og\\:image\"\\s+content=\"([^\"]+)\"","note":"by Rodny + by Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#12\n\n!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\n\nПРИМЕРЫ:\nhttps://photo.i.ua/user/829348/\nhttps://photo.i.ua/user/829348/259729/\nhttps://photo.i.ua/user/829348/99304/"},"R_pic.oscdn.net|club.osinka.ru":{"img":"^(pic\\.oscdn\\.net/pic/\\d+/)t$","to":"$1l","note":"by Rodny\n\n!!!\nдля https://club.osinka.ru/\n\nНа данный момент фильтр не работает/нуждается в апгрейде."},"R_Pic4a.ru":{"link":"^pic4a\\.ru\\/[\\w-]{4}\\/?$","res":"<a class=\"a_img\"  href=\"(https?:\\/\\/pic4a\\.ru\\/\\w+\\/[\\w-]+\\.\\w+)\">","img":"^(pic4a\\.ru\\/\\d+\\/[\\w-]+)_scale_150x150\\.(jpe?g|png|bmp|gif)$","to":"$1# .jpg .png .bmp .jpeg .gif#","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1080#20\n\nПРИМЕРЫ:\nhttps://forum.ru-board.com/topic.cgi?forum=62&topic=31146&start=1340#6"},"R_Picabox.ru":{"link":"picabox\\.ru/pic/\\d+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#13\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#11"},"R_PicCash.net":{"link":"(^piccash\\.net/\\d+/\\d+/$)","url":"$1/1","res":":\nvar res=[];\nvar m1=$._.match(/id=\"pcash-click-zoom-pic\"><img src=\"(\\/allpics\\/\\d+\\/\\d+-\\d+\\/img_)thumb(\\/\\d+)-thumb(\\.\\w+)\">/);\n  console.log('1');\n  console.log(m1);\nif (m1!=null) {res.push(['https://piccash.net'+m1[1]+'full'+m1[2]+m1[3]]);}\nelse {\n  console.log('2');\n  m1=$._.match(/<div class=\"pcash-pic-full\">\\s*<img src=\"([^\"]+)\">/);\n  console.log(m1);\n  res.push(['https://piccash.net'+m1[1]]);\n}\nreturn res;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=260#7\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3800#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#8\n\nПРИМЕРЫ / EXAMPLES:\nhttps://piccash.net/photos"},"R_PictureShack.ru":{"link":"^(pictureshack\\.ru/)(view_)([^/]+\\.)(jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?))\\.html$","ci":1,"to":"$1images/$3$4","note":"by Rodny\n\n!!!\nЗагрузка картинок не работает (на 01-2022).\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.pictureshack.ru/gallery0.htm\nhttps://www.reddit.com/domain/pictureshack.ru/"},"R_Pikabu.ru":{"useimg":1,"link":"^(pikabu\\.ru/)(?:story|view)/(.+)$","res":"<img [^>]+ data-large-image=\"(http://c?s(?:\\d+)?\\.pikabu\\.ru/post_img[^\"]+)\"","img":"^(c?s(?:\\d+)?\\.pikabu\\.ru/post_img/)(\\d{4}/\\d{2}/\\d{2}/\\d+/[0-9_]+)(\\.(?:jpe?g|png|gif|bmp|webp))","to":"$1$2.gif\n$1big/$2.jpg\n$1big/$2$3\n$1$2$3","note":"by Rodny\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1700#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://pikabu.ru/story/menyaem_vzglyad_na_sozdanie_postov_3815560"},"R_Pikabu_comments":{"img":"^(c?s(?:\\d+)?\\.pikabu\\.ru/images/)previews_gif_comm(/.+\\.gif)$","to":"$1big_size_comm$2\n$1big_size_comm_an$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttps://pikabu.ru/story/kutila_9309829#comments\nhttps://pikabu.ru/story/nu_zhe_podpryigni__2184010#comments"},"R_Pingvinus.ru":{"img":"^(pingvinus\\.ru/cr_images/userpicture)/s/(.+)","to":"$1/n/$2","note":"by Egorart\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1900#8\n\n!!!\nДля \"скриншот от пользователя\"."},"R_PlayGround.ru":{"link":"^playground\\.ru/\\w+/\\w+/\\w+-\\d+$","res":"<meta property=\"og:image\" content=\"([^\\?]+)\\?","img":"^(i\\.playground\\.ru/i/(?:pix|screenshot)/\\d+/[\\w_]+\\.\\w+)\\?\\d+x\\d+$","to":"$1","note":"by Rodny + Baton34V(fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#13\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.playground.ru/gallery/star_wars_the_old_republic/\nhttps://www.playground.ru/elden_ring/humor\nhttps://pix.playground.ru/resident_evil_revelations_2/"},"R_Porevo.info":{"link":"porevo\\.info\\/view\\.php\\?item=\\d{7}","res":"style=\"background-image: url\\((https?:\\/\\/(?:\\w\\.)?porevo\\.info\\/pics\\.php\\?q=[\\w%]+)\\)","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#20\n\n!!!\nПоддержки видео нет на данный момент / need video support."},"R_Porn3dx.com":{"link":"^porn3dx\\.com/post/\\d+/[\\w-]+","res":":\nlet i = $._.indexOf('<div class=\"content-wrapper\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div class=\"actions-container\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /data-full-url=\"([^\"]+)\"/gi\nlet data = $._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nПМ (05-03-22)\n\n!!!\nVideo in m3u8 format, Imagus does not support it."},"R_PornBox.com":{"link":"^pornbox\\.com/application/watch-page/(\\d+)","url":"pornbox.com/contents/$1","res":":\nmax_resolution = 1080;\n\nlet medias\ntry { medias = JSON.parse($._)?.medias || []; } catch (e) { return; }\nconst mediaId = medias.find(a => a.title === \"Trailer\")?.media_id;\nif (!mediaId) return;\n\nconst req = new XMLHttpRequest();\nreq.open('GET', `https://pornbox.com/media/${mediaId}/stream`, false);\nreq.send();\nif (req.status !== 200) return;\n\nlet streams;\ntry { streams = JSON.parse(req.responseText).qualities; } catch (e) { return; }\n\nconst res_map = { '1080p': 1080, hd: 720, vga: 480, web: 240 };\nconst trailers = streams\n  .map(a => ({ res: res_map[a.quality], url: a.src }))\n  .filter(a => a.res <= max_resolution)\n  .sort((a, b) => a.res - b.res);\n\nreturn trailers.pop()?.url || null;\n","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3780#21\n\n!!!\nНе работает на WaterFox Classic / Does not work on WaterFox Classic.\n+\nChange max_resolution to your max preferred resolution.\ne.g.\n1080 will result in 1080p video\n900 will result in 720p video"},"R_PornHub_images":{"link":"^(?:[a-z]{2}\\.)?pornhub\\.com/photo/\\d+","res":"=\"twitter:image:src\" content=\"([^\"]+)\n=\"caption_text\"[^>]+=\"([^\"]+)","note":"RetroRocket (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1600#8\nOLD\nhttps://www.reddit.com/r/imagus/comments/c9zlcm/rules_request/\n\n!!!\nВ некоторых странах (например, в РФ) может понадобиться прокси."},"R_PornHub_video":{"link":"^(?:[a-z]{2}\\.)?pornhub\\.com/view_video\\.php\\?viewkey=\\w+","res":":\nvar max_quality=720;\nvar source = $._.match(/\\['videoUrl'\\] = media_4;(.+?;)flashvars_/)[1]+';';\neval(source);\nconst x = new XMLHttpRequest;\nx.open('GET', media_5, false);\nx.send();\nvar best_quality = 0;\nvar best_videoUrl = '';\nJSON.parse(x.responseText).forEach(function(item) {\n  var current_videoUrl = item.videoUrl;\n  if (current_videoUrl!='') {\n    var current_quality = item.quality;\n    current_quality = parseInt(current_quality,10);\n    if (current_quality!='') {\n      if (current_quality>best_quality && current_quality<=max_quality) {\n        best_quality = current_quality;\n        best_videoUrl = current_videoUrl;\n      }\n    }\n  }\n});\nreturn best_videoUrl ;","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3800#8\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3780#2\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#6\n\n!!!\nВ max_quality можно выбрать максимальное качество видео (360,480,720,1080,2160).\n==\nIn max_quality, you can select the maximum video quality (360,480,720,1080,2160).\n+\nВ некоторых странах (например, в РФ) может понадобиться прокси. Причем сайт сильно зависит от качества прокси, на некачественных прокси может выдавать ошибки (\"серый круг\")."},"R_pornworld.com_trailers":{"link":"^pornworld.com/watch/\\d+/.+","res":":\nconst max_resolution = 1080;\n\nconst re = /source src=\"(?<url>.+?mp4.*?)\" size=\\\"(?<res>\\d+)\"/g\nconst mp4s = Array.from($._.matchAll(re))\n  .map(a => ({ res: Number(a.groups.res), url: a.groups.url }))\n  .filter(a => a.res <= max_resolution)\n  .sort((a, b) => a.res - b.res);\n\nreturn mp4s.pop()?.url || null;\n","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3780#21\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#15\n\n\nChange max_resolution to your max preferred resolution.\ne.g.\n1080 will result in 1080p video\n900 will result in 720p video"},"R_Positronica.ru":{"link":"positronica\\.ru\\/catalog\\/product\\/.*\\/","res":":\nvar i = $._.indexOf('<div class=\"carousel-inner\">')\nif(!i) { return null; }\nvar t = $._.indexOf('<a class=\"carousel-control left\"', i);\nif(!t) { return null; }\nvar res = []\nvar re = /data-src=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec( $._.substring(i,t) );\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2380#5\n\nПРИМЕРЫ / EXAMPLES:\nhttps://positronica.ru/catalog/krupnaya_kuhonnaya_tekhnika/"},"R_postimages.org|postimage.org|postimg.cc|postlmg.cc":{"link":"^postimg\\.cc/\\w+$","res":"<a href=\"([^\"]+)\" id=\"download\"\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=880#8\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/postimg.cc/"},"R_postimg_redirect":{"link":"i\\.(postimg\\.cc/\\w+)/[\\w-]+\\.\\w+","loop":1,"to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=880#13\n\n!!!\nРедирект для фильтра R_postimages.org|postimage.org|postimg.cc\nhttps://www.reddit.com/domain/postimg.cc/"},"R_Powerlogo.ru":{"link":"^powerlogo\\.ru/show-image\\.php\\?id=[0-9a-z]+$","res":"value=\"\\[URL=http://powerlogo\\.ru\\] \\[IMG\\]([^\\[]+)\\[/IMG\\]\\[/URL\\]\">","note":"by Rodny\n\n!!!\nsimilar: powerlogo.ru | foto.hz.by\n\nПРИМЕРЫ / EXAMPLES:\nhttps://powerlogo.ru/vandavizhn-5-seriya-novye-foto-podrobnosti.html"},"R_pr0gramm.com":{"link":"^pr0gramm\\.com/.+/(\\d+)$","url":"https://pr0gramm.com/api/items/get?id=$1&flags=7","res":":\nlet jsn=JSON.parse($._);\nlet url='pr0gramm.com/'+jsn.items[0].image;\nconsole.log(url);\nif (url.slice(-3)=='mp4')\n{\n  return 'https://vid.' + url;\n}\nelse {\n  return 'https://img.' + url;\n}","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=940#18\n\nEXAMPLES:\nhttps://pr0gramm.com/new/!%20meme\nhttps://pr0gramm.com/new/!%20-'tiktok'\nhttps://pr0gramm.com/user/Land/uploads"},"R_prnt.sc":{"link":"^prnt(?:\\.sc|scr\\.com)\\/[\\w-]+(\\/|\\..*)?$","res":":\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nlet url = ($._.match(/=\"og:image\" content=\"([^\"]+)/)|| [])[1];\nreturn [url];","img":"^img\\.prntscr\\.com/img\\?url=([^&]+).*","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=400#8\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#8\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1060#7\n\n\n!!!\nВ РФ может понадобиться прокси / In some countries a proxy is needed.\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/prnt.sc/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50301&start=440#4\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50209&start=1080#6"},"R_Prokofe.ru":{"link":"^prokofe\\.ru/plugins/eHighSlide/foto\\.php\\?img=(https?://prokofe\\.ru/files/public/[^/]+\\.(?:jpe?g|png|gif))&h=\\d+&w=\\d+","to":"$1","note":"by Rodny + by Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#12\n\nПРИМЕРЫ / EXAMPLES:\nhttp://prokofe.ru/plugins/forum/forum_viewtopic.php?153016"},"R_PromoDJ.com":{"link":"^promodj\\.com/foto/\\d+/(\\d+)$","res":":\nvar i = $._.indexOf('var fotos =')\nif(i<0) { return null; }\nvar t = $._.indexOf('function BootFotoViewer', i);\nif(t<0) { return null; }\nvar res = []\nvar re = new RegExp(\"fotoID: \"+$[1]+\",[\\\\S\\\\s]+?originalURL: '(https?:\\/\\/cdn\\\\.promodj\\\\.com\\/afs\\/[^']+)',\",\"mg\");\nvar a = re.exec( $._.substring(i,t) );\nif (a) {res.push([a[1]]);}\nreturn res","note":"by Rodny + by Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#12\n\nПРИМЕРЫ / EXAMPLES:\nhttp://promodj.com/foto/1135763#list\nhttp://promodj.com/foto/1135763#middlelist"},"R_PronPic.org":{"img":"(pronpic\\.org\\/pic\\/\\d+\\/\\d\\d\\/\\d\\d\\/)th_(\\d+\\.\\w+)","to":"$1$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2080#9\n\nПРИМЕРЫ / EXAMPLES:\nhttp://trupornolabs.org/torrent/264005"},"R_qpic.ws":{"link":"qpic\\.ws/image/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/qpic.ws\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=20#14"},"R_QuestZone.ru":{"link":"^(questzone\\.ru/)showpic\\.php\\?(\\w+/\\w+/.+\\.(?:jpe?g|png|gif))$","img":"^(questzone\\.ru/solutions/pics/)small/(.+\\.(?:jpe?g|png|gif))$","to":"$1$2","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://questzone.ru/solutions/deponiaj_1.php\nhttp://questzone.ru/solutions/eyeofaraj_1.php"},"R_Rambler":{"link":"^images\\.rambler\\.ru\\/.+image_url=([^&]+).*","dc":1,"to":"$1","note":"64h\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1060#13"},"R_Rasfokus.ru":{"img":"(rasfokus\\.ru\\/images\\/photos\\/)(?:small|mini|topday)(\\/\\w+\\.\\w+)","to":"$1medium$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2000#8"},"R_Rasfokus.ru_blog":{"img":"(rasfokus\\.ru\\/upload\\/blogs\\/)(?:small|mini|topday)\\/(\\w+\\.\\w+)","to":"$1$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2000#10\n\nПРИМЕРЫ:\nhttp://rasfokus.ru/blogs/blog-lidi-kazyrovoi/vystavka-2011-goda-v-kameronovoi-galere.html"},"R_Rataku.com":{"link":"rataku\\.com/\\w/\\d+\\.\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#13\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#11"},"R_RBT.ru":{"link":"(\\W+\\.)?rbt\\.ru/cat/[\\w-]+/[\\w-]+/[\\w-]+/","res":":\nlet i = $._.indexOf('<div class=\"item-card__carousel-inner');\nif(i<0) {return null; }\nlet t = $._.indexOf('</ul>', i);\nif(t<0) {return null; }\nlet res = [];\nlet re = /data-img-gal=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","img":"cdn\\.rbt\\.ru/images/gen/item_image/image/\\d+/\\d+/\\w+\\.jpg","to":":\nreturn this.node.parentNode.parentNode.getAttribute('data-img-gal');\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1460#10\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1460#7"},"R_Recordit.co":{"link":"^recordit\\.co\\/\\w{10}","res":"<source src=\"([^\\\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2220#5\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/recordit.co/"},"R_Reddit_gallery":{"off":1,"link":"^preview\\.redd.it\\/[^?]+\\?.*","url":": function(){};","res":":\nlet res=[];\nlet thisNodeParent=this.node.parentNode.parentNode.parentNode.parentNode.parentNode;\nlet ul=thisNodeParent.getElementsByTagName('li');\nlet re=/preview(\\.redd.it\\/[^?]+)\\?.*/i\nfor (let i = 0; i <= ul.length - 1; i++) {\n  let fullUrl=ul[i].firstElementChild.firstElementChild.getAttribute('href');\n  let a = re.exec(fullUrl);\n  res.push(['https://' + (fullUrl.indexOf('format=mp4')>0 ? fullUrl +'#mp4' : 'i'+a[1])]);\n}\nreturn res;","note":"Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=960#15\n\n!!!\nПозволяет просматривать галереи на Реддит (только на странице самой галереи), не в ленте. NB! Обнаружена проблема: данное сито мешает просмотру ссылок формата \"preview.redd.it\". Пока решения не найдено, рекомендуется его держать выключенным.\n==\nAllows you to view galleries on Reddit (only on the gallery page itself), not in the feed. NB! A problem has been found: this sieve prevents viewing links of the format \"preview.redd.it \". Until a solution is found, it is recommended to keep it turned off.\n\nEXAMPLES:\nhttps://www.reddit.com/r/pokemon/comments/ws93kh/swadloons_face_in_other_pokemon/\nhttps://www.reddit.com/r/lego/comments/rh47m0/shes_the_prettiest_hunk_of_junk_in_the_galaxy/"},"R_Regard.ru":{"link":"^regard\\.ru/product/\\d+/.+","res":":\nlet i = $._.indexOf('<div class=\"swiper-wrapper\">');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div class=\"product-pagination\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /data-src=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nif (a==null) {\n  re=/<img src=\"([^\"]+)\"/gi\n  a = re.exec(data);\n}\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1020#16\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#10\n\n!!!\nКурсор наводить на название товара.\n\nПРИМЕРЫ:\nhttps://www.regard.ru/catalog/1014/zhestkie-diski-hdd\nhttps://www.regard.ru/catalog/1351/mikrovolnovye-pechi\nhttps://www.regard.ru/catalog/1000/materinskie-platy?search=материнская%20плата%20msi"},"R_Renderotica_gallery":{"link":"(?:www\\.)?renderotica\\.com/gallery/shorturl/\\d+/.+","res":":\nvar i = $._.indexOf('<div id=\"galleryimage\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"clearfix\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<a target='_blank' href='([^']+)'>/gi\nvar a = re.exec( $._.substring(i,t) );\nif (a==null) {\n  re = /file: '([^']+)',/i\n  a = re.exec( $._.substring(i,t) );\n}\nreturn a[1];","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2720#3\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.renderotica.com/gallery.aspx"},"R_Renderotica_store":{"link":"(?:www\\.)?renderotica\\.com/store/sku/.+","res":":\nvar i = $._.indexOf('<div class=\"image-navigation\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<div class=\"Pager\">', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<a href = '([^']+)'/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2720#3\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.renderotica.com/store.aspx"},"R_Render.ru|Renderu.com":{"link":"^renderu?\\.(ru\\/ru|com\\/en)\\/gallery\\/artwork\\/(\\d+)","res":"target=\"_blank\"><img itemprop=\"image url\" src=\"(https?:\\/\\/[^\\)]+?)\" alt=","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#2\n\nПРИМЕРЫ / EXAMPLES:\nhttps://render.ru/ru/gallery\nhttps://renderu.com/en/gallery"},"R_Rezat.ru":{"link":"^rezat\\.ru/[\\w-]+/[\\w-]+/[\\w-]+","res":":\nvar i = $._.indexOf('<ul class=\"gallery__preview-list\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</ul>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<li class=\"gallery__preview-item\" num=\"\\d+\"><img src=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1].replace('preview.','wm/')]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#3"},"R_RiotPixels.com":{"link":"^\\w+\\.riotpixels\\.com/games/[^/]+/(screenshots|covers|promos|artworks)/\\d+/","res":"<div class=\"big-image\">\\n\\s+<a target=_blank href=\"(http://s\\d+\\.riotpixels\\.net/data/[^/]+/[^/]+/[^\"]+)\">","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttp://ru.riotpixels.com/games/call-of-duty-infinite-warfare/screenshots/\nhttp://ru.riotpixels.com/games/call-of-duty-infinite-warfare/promos/\nhttp://ru.riotpixels.com/games/call-of-duty-infinite-warfare/covers/\nhttp://ru.riotpixels.com/games/call-of-duty-infinite-warfare/artworks/"},"R_Rozetka.com.ua":{"link":"^rozetka\\.com\\.ua/ua/.*","res":":\nvar source = $._.match(/},(&q;images&q;:\\[{.+?}\\]),/)[1].replace(/&q;/gi,'\"');\nvar jso=JSON.parse('{'+source+'}');\nvar res=[];\njso.images.forEach(function(item) {\n  res.push([item.original.url]);\n});\nreturn res;\n","img":"^i\\d+\\.rozetka\\.ua/goods/\\d+/record_\\d+\\.jpg$","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#17\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#8\n\nПРИМЕРЫ / EXAMPLES:\nhttp://rozetka.com.ua/mobile-phones/c80003/filter/preset=budget_smartphones/"},"R_rule34.xxx|realbooru.com":{"link":"^(?:realbooru\\.com|rule34\\.xxx)/index\\.php\\?page=post&s=view&id=\\d+","res":"href=\"([^\"]+)[^>]+>\\s?Original","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=520#21\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=520#11\nhttps://www.reddit.com/r/imagus/comments/t5wx6k/comment/hz7s8hf\nhttps://www.reddit.com/r/imagus/comments/kgtzrc/videos_on_rule34xxx_not_working_anymore/\n\n!!!\nДля rule34.xxx рекомендуется установить uMatrix и ограничить рекламу и скрипты на данном сайте:\n==\nFor rule34.xxx recommend installing uMatrix and limiting ads and scripts on this site:\nhttp://imgur.com/o4TsHki"},"R_rule34hentai.net":{"link":"^(rule34hentai\\.net/)post/view/\\d+","res":"<form action='(\\/_?images?\\/[^'\"]+)","img":"^(rule34hentai\\.net/)_thumbs(/[\\da-f]{32}).*","to":"$1_images$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=300#12\n\n!!!\nВ некоторых странах может понадобиться прокси.\n==\nIn some countries, you may need a proxy."},"R_Rule34video.party":{"link":"^rule34video\\.party/videos/\\d+/.*?/","res":":\nlet title = /<title>([^<]+)/gm.exec($._)[1];\nfunction deobfuscate(r,t){let e=(r=r.split(\"/\").splice(2))[5],n=\"\",l=\"\";l=n=e.substring(0,32);let o=\"\";for(f=\"\",g=1;g<t.length;g++)f+=parseInt(t[g])?parseInt(t[g]):1;for(s=parseInt(f.length/2),$=parseInt(f.substring(0,s+1)),(g=(_=parseInt(f.substring(s)))-$)<0&&(g=-g),f=g,(g=$-_)<0&&(g=-g),f+=g,f*=2,f=\"\"+f,i=10,u=\"\",g=0;g<s+1;g++)for(h=1;h<=4;h++)(a=parseInt(t[g+h])+parseInt(f[g]))>=i&&(a-=i),u+=a;o=u;for(var s=l,$=l.length-1;$>=0;$--){for(var _=$,u=$;u<o.length;u++)_+=parseInt(o[u]);for(;_>=l.length;)_-=l.length;for(var a=\"\",b=0;b<l.length;b++)a+=b==$?l[_]:b==_?l[$]:l[b];l=a}return r[5]=e.replace(n,l),r.join(\"/\")}\nlet videovars = /var flashvars = ({[\\n].+});/gm.exec($._);\neval(\"videovars = \"+videovars[1]);\nlet urls = [];\nfor(el in videovars){\n   if(el.match(/^video.*?url\\d?$/)){\n      urls.push([deobfuscate(videovars[el], videovars.license_code)+'#mp4', videovars[el+'_text'] ? videovars[el+'_text'] : title]);\n   }\n}\nreturn urls;","note":"Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1429#1\n\n!!!\nРекомендуется наводить курсор на название ролика\n==\nIt is recommended to hover the cursor over the title of the video"},"R_Rumble.com":{"link":"rumble\\.com/.+\\.html","res":":\nlet res=[];\nlet vh=$._.match(/\"video\":\"(\\w+)\",\"div\":\"videoPlayer\"/i)[1];\nlet x=new XMLHttpRequest();\nx.open('GET','https://rumble.com/embedJS/u3/?request=video&ver=2&v='+vh,false);\nx.send();\nlet js=JSON.parse(x.responseText);\nlet myMap = new Map(Object.entries(js.ua.mp4));\nlet maxRes=0;\nlet url=null;\nfor (const key of myMap.keys()) {\n  if (maxRes<parseInt(key)) {\n    url=myMap.get(key).url;\n  }\n}\nreturn url;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=4000#14\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/rumble.com/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=4000#13"},"R_RussianPlanes.net":{"link":"^(russianplanes\\.net/id)(\\d+)$","res":"<img src=\"(https?:\\/\\/russianplanes\\.net\\/images\\/to\\d+\\/0?$2\\.(?:jpe?g|png|bmp))\"","to":"\n","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1680#8\n\nПРИМЕРЫ:\nhttps://russianplanes.net/new\nhttps://russianplanes.net/7days\nhttps://russianplanes.net/type/!Aviation_engines!/ASh-62"},"R_SankakuComplex":{"link":"^(?:idol|chan)\\.sankakucomplex\\.com/(?:\\w{2}/)?post/show/\\d+","res":":\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nlet url = ($._.match(/<a href=\"(\\/\\/[ic]?(?:s|v)\\.[^\"]+)\" id=\"?highres/) || [])[1];\nreturn [url];","img":"^([ci])[s\\d]?(\\.sankakucomplex\\.com/data/)(?!avatars/)[^/]+/((?:[\\da-f]{2}/){2})(?:preview|sample-)?([\\da-f]{32}\\.).+","to":"#$1s$2$3$4#jpg png gif webm#\n$1s$2sample/$3sample-$4#jpg png gif webm#","note":"by Baton34V, hababr (referer fix)\n30-09-21 (PM)\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3500#16\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2920#3\n\n!!!\nВ некоторых странах (например, в России) может понадобиться прокси.\n==\nIn some coutries may need proxy.\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://chan.sankakucomplex.com/ru/?tags=sex\nhttps://chan.sankakucomplex.com/?tags=genshin_impact+order%3Apopular+extreme_content&commit=Search\nhttps://chan.sankakucomplex.com/?tags=contentious_content&commit=Search\nhttps://chan.sankakucomplex.com/?tags=quartet&commit=Search\nhttps://chan.sankakucomplex.com/ru/?tags=date:2021-04-09 order:quality"},"R_SankakuComplex_beta":{"link":"^beta\\.sankakucomplex\\.com/(?:\\w{2}/)?post/show/(\\d+).+","url":"https://capi-v2.sankakucomplex.com/posts?lang=en&page=1&limit=1&tags=id_range:$1","res":"\"file_url\": ?\"([^\"]+)\"\n\n","note":"by Baton34V\nПМ (05-03-22)"},"R_Saro-Knives.ru":{"link":"^saro-knives\\.ru/products/[\\w-]+","res":":\nvar i = $._.indexOf('class=\"avatar-view \">');\nif(i<0) {return null; }\nvar t = $._.indexOf('</noindex>', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /\"\\s+href=\".+top\\/([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push(['https://' + a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#3\n\nПРИМЕРЫ:\nhttps://saro-knives.ru/products/category/4725402"},"R_SberMarket.ru":{"link":"sbermarket\\.ru/\\w+/[\\w-]+\\?sid=\\d+","res":":\nvar i = $._.indexOf('\"><meta itemProp=\"image\" content=\"https');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></div></div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /\" srcSet=\"([^ ]+) 2x\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3260#8"},"R_SberMegaMarket.ru":{"link":"^sbermegamarket\\.ru/catalog/details/[\\w-]+-\\d+/","res":":\nvar i = $._.indexOf('<div class=\"scroller__content scroller_enlarged\">');\nif(i<0) {i = $._.indexOf('<div itemscope=\"itemscope\"');}\nif(i<0) {return null; }\nvar t = $._.indexOf('</div></div>', i);\nif(t<0) {return null; }\nvar res = [];\nvar re = /<img src=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1020#16\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#7\n\n!!!\nВ некоторых случаях требуется повторное наведение курсора на фото товара.\n\nПРИМЕРЫ:\nhttps://sbermegamarket.ru/catalog/chay/\nhttps://sbermegamarket.ru/catalog/divany/\nhttps://sbermegamarket.ru/catalog/kondicionery-i-split-sistemy/"},"R_Screencast.com":{"link":"^screencast\\.com/t/[^/]+$","res":":\nconst rx1 = /<meta property=\"og:video\" content=\"([^\"]+)\"/g;\nconst video = rx1.exec($._);\nif (video) return (video[1]);\n\nconst rx2 = /<meta property=\"og:image\" content=\"([^\"]+)\"/g;\nconst image = rx2.exec($._);\nif (image) return (image[1]);\nreturn;\n","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#17\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2400#19\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/screencast.com/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2400#17"},"R_Screensider.com":{"img":"^((?:img\\.)?screensider\\.com/images/albums/\\d+/[^/]+)-(?:top|th|md)(\\.(?:jpe?g|png|gif|bmp))$","to":"#$1$2\n$1-md$2","note":"by Rodny + by Baton34V (fix)\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1540#12\n\nПРИМЕРЫ / EXAMPLES:\nhttp://screensider.com/#/album/115"},"R_SendPic.org":{"link":"^sendpic\\.org/view/(\\d+)/i/(\\w){2}(\\w+)\\.(?:jpe?g|png|gif|bmp)$","res":"<img src=\"(http://i\\d+\\.sendpic\\.org/i/\\w+/\\w+\\.(?:jpe?g|png|gif|bmp))\"","note":"by Rodny\n\nПРИМЕРЫ:\nhttp://sendpic.org/view/1/i/4WCDcnTwip8VNCFAOpqM8n1qYmL.jpg\nhttp://sendpic.org/view/1/i/fFpXios830UDRBAEyxki32ZVQgh.jpg"},"R_Servimg.com":{"link":"servimg\\.com/view/\\d+/\\d+$","res":"<a href=\"#\" class=\"imgBox\">\\s+<img src=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=260#12\n\nПРИМЕР:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=34533&start=1080#5"},"R_Sight.photo":{"link":"^sight\\.photo/photos/\\d+","res":"id=\"big_photo\" src=\"([^\"]+)\" alt=\"([^\"]+)\"","img":"^(?:(?:icon\\.)?s|img-(?:[^.]+)|cdn)(\\.sight\\.photo/img/(?:[\\da-z]+)/(?:[\\da-z]{3}/\\d+_))(?!xlarge)[^.]+","to":"cdn$1#x #large","note":"by Deathamns + Mag_Keeper (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=440#9"},"R_Skeb.jp":{"link":"^skeb\\.jp/@[^/]+/works/\\d+","res":":\nvar src=$._.match(/<script>window\\.__NUXT__=(.+?;)<\\/script>/)[1];\neval('var data='+src);\nreturn [data.data[0].article_image_url,data.data[0].title];\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#17\nOLD:\nby Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/jra88g/sieve_for_skeb/"},"R_Skrinshoter.ru|skr.sh":{"link":"^skr\\.sh/\\w{11}","res":"<meta property=\"og:image\" content=\"([^\"]+)\"/>","img":"^(skrinshoter\\.ru)/s/(\\d+)/(\\w+)","to":"$1/i/$2/$3.png","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=840#5\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=820#16\nhttps://www.linux.org.ru/forum/admin/15373790?cid=15374395\nhttps://www.linux.org.ru/forum/admin/15740612"},"R_SMF_images":{"link":"^[^/]+/forum/index\\.php\\?(.+)\\;attach=\\d+\\;image$","note":"by Rodny"},"R_Slushe.com":{"link":"^slushe\\.com/galleries/[\\w-]+\\.html","res":":\nlet i = $._.indexOf('<div class=\"gallery-photo');\nif(i<0) { return null; }\nlet t = $._.indexOf('</section>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /href=\"([^\"]+)\" target=\"_blank\"/gi\nlet data = $._.substring(i,t);\nlet a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nПМ (05-03-22)\n\n!!!\nVideo in m3u8 format, Imagus does not support it.\n\n\nEXAMPLES:\nhttps://slushe.com/most-viewed\nhttps://slushe.com/most-recent/page2.html\nhttps://slushe.com/artists\nhttps://slushe.com/PAT20XX/page2.html"},"R_Softodrom.ru":{"img":"^(soft\\.softodrom\\.ru/screens/soft/\\d+/\\d+/)small_(\\d+\\.(?:jpe?g|png))$","to":"$1$2","note":"by Rodny\n\nПРИМЕРЫ:\nhttps://soft.softodrom.ru/Скриншот/5628/"},"R_SoftoRoom.net":{"img":"^(softoroom\\.(?:net|org)/images/(?:server\\d+/)?out\\.php/)t([^/]+\\.(?:jpe?g|gif|png))$","to":"$1i$2","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#17\n\nПРИМЕРЫ / EXAMPLES:\nhttp://softoroom.net/topic85478.html\nhttp://softoroom.net/topic85487.html\nhttp://softoroom.net/topic85488.html"},"R_Softpedia.com":{"link":"^softpedia\\.com/get/.+/[\\w-.]+\\.shtml","res":":\nlet i = $._.indexOf('<div class=\"slide\">');\nif(i<0) { return $._.match(/<img width=\"32\" height=\"32\" src=\"([^\"]+)\"/)[1]; }\nlet t = $._.indexOf('</div>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /href=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n  res.push([a[1]]);\n  a = re.exec(data);\n}\nreturn res || 'https://cdn-icons-png.flaticon.com/512/1179/1179237.png';","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#17\n\nEXAMPLES:\nhttps://www.softpedia.com/downloadTag/start%20menu,3\nhttps://www.softpedia.com/downloadTag/launcher,3"},"R_SoftPortal.com":{"link":"^softportal\\.com/software-\\d+-[\\w-]+\\.html","res":":\nvar i = $._.indexOf('<div class=\"zoom-button\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<link itemprop=\"contentUrl\" href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","img":"^(softportal\\.com/scr/\\d+/[^/]+-)(tmb|mid)(-\\d+\\.(?:jpe?g|png))$","to":"$1#big mid#$3","note":"by Rodny + Baton34V (fix)\n\n!!!\nКурсор наводить на название софта\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.softportal.com/dlcategory-284-3-0-0-0.html\nhttps://www.softportal.com/software-35544-everylang.html\nhttps://www.softportal.com/dlcategory-284-1-0-0-0.html"},"R_SourceForge.net":{"link":"^sourceforge\\.net/(projects|software/product)/[^\\/]+/$","res":":\nvar i = $._.indexOf('<div class=\"owl-carousel');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<img itemprop=\"screenshot\" src=\"([^\"]+)\\/\\d+\\/\\d+\\/\\d+\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nreturn res;\n","img":"^((?:a\\.fsdn\\.com/con/app/proj|sourceforge\\.net/projects)/[^/]+/screenshots/[^/]+).*","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#20\n\nПРИМЕРЫ / EXAMPLES:\nhttps://sourceforge.net/software/crm/?page=10\nhttps://sourceforge.net/directory/?q=down\nhttps://sourceforge.net/directory/business-enterprise/office/"},"R_Sportmaster.ru":{"link":"sportmaster\\.ru/product/\\d+/","res":":\nvar i = $._.indexOf('<div class=\"swiper-container swiper\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /src=\"([^=]+\\/)\\d+_\\d+_\\d+\\/(\\d+\\.\\w+)\"/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push([a[1] + a[2]]);\n a = re.exec(data);\n}\nreturn res;\n","img":"(cdn\\.sptmr\\.ru/upload/resize_cache/iblock/\\w+/)\\d+_\\d+_\\d+/(\\d+\\.\\w+)$","to":"$1$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1340#20\n\nПРИМЕРЫ\nhttps://www.sportmaster.ru/product/25608060299/\nhttps://www.sportmaster.ru/catalog/zhenskaya_odezhda/kurtki/\nhttps://www.sportmaster.ru/catalog/trenazhery_i_fitnes_/kardiotrenazhery/velotrenazhery/?sortType=BY_PRICE_DESC"},"R_SS.lv":{"link":"^ss\\.lv/msg/(lv|ru)/.+\\.html$","res":":\nvar i = $._.indexOf('class=\"ads_photo_label\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></div><div', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<a href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;\n","img":"^i\\.ss\\.lv/images/\\d{4}-\\d{2}-\\d{2}/\\d+/[^/]+=/\\d-1\\.th2\\.jpg$","note":"by Rodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#11\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.ss.lv/lv/animals/dogs/bichon-maltais/\nhttp://www.ss.lv/lv/transport/cars/jaguar/s-type/"},"R_Startpage.com":{"link":".*?startpage\\.com/av/anon-image\\?piurl=.+","url":":''","res":":\nreturn (new URL($[0])).searchParams.get('piurl');","img":".*?startpage\\.com/av/proxy-image\\?piurl=(.+)&sp=.+","to":":\nconst data = JSON.parse(document.documentElement.outerHTML.match(/UIStartpage\\.AppSerp, (.+?)\\),/)[1]);\nconst img_array = data.render.presenter.regions.mainline[0].results;\n\nfor (const n in img_array) {\n  for (const key in img_array[n]) {\n    if (typeof img_array[n][key] === 'string' && img_array[n][key].includes($[1])) return 'https://www.startpage.com' + img_array[n]['clickUrl'];\n  }\n}","note":"64h\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1060#13"},"R_sta.sh_(short_DeviantArt)":{"link":"sta\\.sh/\\w+","res":":\nlet z=$._.match(/src=\"([^\"]+)\"[^>]+class=\"dev-content-full\">/);\nif (z!=null) {\n  return z[1];\n}\nlet i = $._.indexOf('script><div class=\"stash-thumb-container');\nif(i<0) { return null; }\nlet t = $._.indexOf('<div id=\"empty-item\" class=\"invisible\">', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /data-super-full-img=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","note":"Baton34V\n\n\nПРИМЕРЫ / EXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1393#1"},"R_SteamPowered_store":{"img":"^((?:cdn\\.(?:edgecast|akamai|cloudflare)\\.steamstatic\\.com|steamcdn-[a-z]\\.akamaihd\\.net)/steam/apps/\\d+/)(?:(movie)\\.\\d+x\\d+\\.|(\\w+))[^/]+$","to":":\nreturn $[1]+($[2] ? $[2]+'_max.webm' : $[3]+'.jpg')","note":"Baton34V\nПМ (24-10-22)\n\nEXAMPLES\nhttps://store.steampowered.com/app/655500/MX_Bikes/\nhttps://store.steampowered.com/app/1292630/3on3_FreeStyle_Rebound/\nhttps://store.steampowered.com/app/12120/Grand_Theft_Auto_San_Andreas/"},"R_StopGame.ru":{"img":"(stopga\\.me\\/images\\/uploads\\/images\\/\\d+\\/form\\/\\d+\\/\\d+\\/\\d+\\/)(?:normal|small)_(\\d+\\.(?:jpe?g|png|bmp))","to":"$1$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1640#11\n\nПРИМЕРЫ / EXAMPLES:\nhttps://stopgame.ru/blogs/topic/66047"},"R_StopGame.ru_2":{"img":"(stopga\\.me\\/images\\/articles\\/\\d+\\/\\d+\\/\\d+\\/\\w+-\\d+)-s(\\.(?:jpe?g|png|bmp))","to":"$1$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1680#8\n\nПРИМЕРЫ / EXAMPLES:\nhttps://stopgame.ru/show/58933/anatomiya_igr_nachalo"},"R_Streamff.com":{"link":"^streamff\\.com/v/(.+)","url":"https://streamff.com/api/videos/$1","res":":\nreturn 'https://streamff.com'+JSON.parse($._).videoLink+'#mp4';","to":"\n\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=120#3\nOLD\ntustamido\nhttps://www.reddit.com/r/imagus/comments/qc2vsq/comment/hhkwzyk\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3800#3\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/streamff.com/"},"R_sun*.userapi.com":{"link":"sun\\d{1,2}-\\d{1,2}\\.userapi\\.com\\/\\w{7}\\/\\w{10}\\/\\w{5,6}\\/[\\w-]{11}\\.(?:jpe?g|png|bmp|gif)","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1340#19\n\nПРИМЕРЫ / EXAMPLES:\nhttps://vrotmnen0gi.livejournal.com/3391084.html"},"R_Svalko.org":{"img":"(svalko\\.org/data/)thumbs/(\\w+\\.(?:jpe?g|bmp|png))","to":"$1$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2720#15\n\nПРИМЕРЫ:\nhttps://svalko.org/images.html"},"R_Svyaznoy.ru":{"link":"(?:www\\.)?svyaznoy\\.ru\\/catalog\\/.+\\d","res":":\nvar i = $._.indexOf('<div class=\"slick-offer-img\">')\nif(!i) { return null; }\nvar t = $._.indexOf('<div class=\"b-offer-slick-line\">', i);\nif(!t) { return null; }\nvar res = []\nvar re = /(?:src|data-lazy)=\"(https?:\\/\\/cdn\\.svyaznoy\\.ru\\/.+?)\\/resize\\/.*\\/\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a){\n    res.push([a[1]]);\n    a = re.exec( $._.substring(i,t) );\n}\nreturn res","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2380#5\n\nПРИМЕРЫ:\nhttps://www.svyaznoy.ru/catalog/accessories/8936"},"R_Tenor.com":{"link":"tenor\\.com/view/[\\w-]+","res":"<link class=\"dynamic\" rel=\"image_src\" href=\"([^\"]+)\">","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=240#6"},"R_TESall.ru":{"link":"media\\.tesall\\.ru/image/[\\w-]+","note":"by Rodny+Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#11\n\nПРИМЕРЫ / EXAMPLES:\nhttp://tesall.ru/files/file/3902-alternativnyj-start-zhivi-drugoj-zhiznyu/"},"R_Thingiverse.com":{"link":"(www\\.)?thingiverse\\.com\\/thing:(\\d+)","res":":\nvar res=[];\nx = new XMLHttpRequest();\nx.open('GET', 'https://api.thingiverse.com/things/' + $[2] + '/images',false);\n//x.timeout=3000;\nx.setRequestHeader('Authorization', 'Bearer 56edfc79ecf25922b98202dd79a291aa');\nx.send();\nif (x.readyState != 4) return;\nif (x.status != 200) return;\nvar c = JSON.parse(x.responseText);\nc.forEach(function(obj) {\n  obj.sizes.forEach(function(obj1) {\n    if (obj1.type=='display' && obj1.size=='large') {\n      res.push([obj1.url, obj.name]);\n    }\n  });\n});\nreturn res;","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#14\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2320#5\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2300#20\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.thingiverse.com/stockto/designs\nhttps://www.thingiverse.com/education?page=1&subjects=History\nhttps://www.thingiverse.com/search?q=table&page=1&type=things&sort=relevant\nhttps://www.thingiverse.com/search?type=things&q=&sort=popular&posted_after=now-30d&page=3"},"R_ThumbSnap.com":{"link":"thumbsnap\\.com/(\\w/)?\\w+$","res":"<meta property=\"og:(?:image|video)\" content=\"([^\"]+)\"\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=260#5\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=120#3\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3160#14\n\n!!!\nВ некоторых странах (например в РФ) может понадобиться прокси.\n==\nIn some countries (for example, in the Russian Federation), a proxy may be needed.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/thumbsnap.com/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#16\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3160#12"},"R_TikTok":{"link":"^(?:(v[tm]\\.tiktok\\.com/\\w+)|(?:m\\.)?(tiktok\\.com/)(?:(?:share|@[^/]+)/video|v|embed(?:/v\\d)?)(/\\d+)).*","url":": $[1] || ($[2]+'share/video'+$[3])","res":":\n$ = JSON.parse($._.match(/(\\{\"AppContext\":\\{\"[^<]+)<\\/script/)[1]);\nlet fKey=Object.keys($.ItemModule)[0];\n$=$.ItemModule[fKey];\nvar a=$.author,m=$.music,v=$.video;\nreturn [\n (v.playAddr || v.downloadAddr) + '#mp4',\n ['[' + new Date($.createTime*1e3).toLocaleString() + ']', '@'+a, $.desc, '&#9834;', m.authorName + ' - ' + m.title].join(' ')\n];","img":"(v\\d+-webapp\\.tiktok\\.com/[a-f\\d]+/[a-f\\d]+/video/tos.+)","to":"$1#mp4","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#2\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=180#15\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=180#9\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3460#16\nhttps://www.reddit.com/r/imagus/comments/jh7f3b/fix_for_tiktok_sieve/\nhttps://www.reddit.com/r/imagus/comments/ju6ede/is_there_a_solution_for_tiktok_to_start_working/\n\n!!!\nДля показа внешних ссылок необходимо правило для SMH (см.ЧаВо, п.11).\n==\nTo display external links, you need a rule for SMH (see FAQ, p.11).\n\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.tiktok.com/@sarkisonchik\nhttps://www.tiktok.com/@kirtamvliki\n(внешние ссылки / external links):\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#3"},"R_TNAFlix.com":{"link":"^tnaflix.com/[\\w-]+/[\\w|\\d]+","res":"\"contentUrl\" content=\"([^\"]+)","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=220#13\nOLD:\nhttps://www.reddit.com/r/imagus/comments/qhgie9/nsfw_sieve_for_tnaflix\n\n!!!\nВ некоторых странах нужен прокси (лучше американский).\n+\nКурсор рекомендуется наводить на название ролика.\n+\nНе все ролики открываются из-за встроенной защиты на сайте. Для ее обхода можно установить и включить расширение CORS Unblock - но это может снизить безопасность вашего браузера.\n==\nIn some countries it is desirable to use a proxy (US proxy preferred).\n+\nThe cursor is recommended to hover over the title of the video.\n+\nNot all videos open due to the built-in protection on the site. To bypass it, you can install and enable the CORS Unblock extension - but this may reduce the security of your browser."},"R_TopHotels.ru":{"link":"^tophotels\\.ru/hotel/\\w+/media/gallery$","res":":\nlet i = $._.indexOf('<div class=\"hotelPhoto-list__block\"');\nif(i<0) { return null; }\nlet t = $._.indexOf('</section>', i);\nif(t<0) { return null; }\nlet data=$._.substring(i,t);\nlet res = [];\nlet re = /href=\"([^\"]+)\"/gi\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(data);\n}\nreturn res;","img":"^(tophotels\\.ru/icache/)((?:hotel|user)_photos/)([0-9/]+)(\\d+)_\\d+x\\d+\\.jpg","to":"$1$2$3$4_1140x820.jpg","note":"by Rodny + Baton34V(fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=580#11\n\nПРИМЕРЫ:\nhttps://tophotels.ru/catalog/hotel/83?sort=5"},"R_TradingView.com":{"link":"^tradingview\\.com/x/.+","res":"<main.+\\n?.+?<img.+?src=['\"](\\S+)['\"]","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1100#12"},"R_TransPhoto.org":{"img":"^(transphoto\\.org/photo/\\d+/\\d+/\\d+/\\d+)_s(\\.jpg)$","to":"$1.#jpg gif png#","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#2\n\nПРИМЕРЫ:\nhttp://transphoto.org/articles/1123/"},"R_Trinixy.ru":{"link":"^trinixy\\.ru/\\d+-[\\w-\\.]+\\.html","res":":\nvar res=[];\nvar re,a;\nvar i = $._.indexOf('<img itemprop=\"image\"');\nif(i>0) {\n  var t = $._.indexOf('<div class=\"clear\"', i);\n  if(t>0) {\n    var data=$._.substring(i,t);\n    re = /src=\"([^\"]+)\" alt=\"([^\"]+)\"/gi\n    a = re.exec(data);\n    while(a)   {\n      res.push([a[1],a[2]]);\n      a = re.exec(data);\n    }\n  }\n}\nre = /<source src=\"([^\"]+)\" type=\"video\\/mp4\">/gi\na = re.exec($._);\nwhile(a)   {\n   res.push([a[1]+'#mp4']);\n   a = re.exec($._);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#21\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3900#20\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3740#10"},"R_Tripadvisor.com":{"link":"^tripadvisor\\.com/[\\w-]+\\.html","res":":\nlet json=JSON.parse($._.match(/<script>window.__WEB_CONTEXT__={pageManifest:(.+?})};/)[1]);\nlet res = [];\nfor (obj in json.urqlCache) {\n  let js2=JSON.parse(json.urqlCache[obj].data);\n  if (js2.mediaWindow!=null) {\n    for (alb of js2.mediaWindow.windowPanes) {\n      for (al of alb.albums) {\n        for (photos of al.mediaList) {\n          if (photos.photoSizes.length>1) {\n            res.push([photos.photoSizes[1].url.replace('photo-t','photo-o')]);\n          }\n        }\n      }\n    }\n  }\n}\nif (res.length==0) {\n  let i = $._.indexOf('<div class=\"mobile_flex_container');\n  if(i<0) {return null; }\n  let t = $._.indexOf('<div class=\"large_photo_wrapper', i);\n  if(t<0) {return null; }\n  let re = /data-lazyurl=\"([^\"]+)\"/gi\n  let data=$._.substring(i,t);\n  let a = re.exec(data);\n  while(a)   {\n    res.push([a[1].replace(/photo-\\w/,'photo-o')]);\n    a = re.exec(data);\n  }\n  return res;\n}\nreturn res;\n","img":"^(?:dynamic-)?(media-cdn\\.tripadvisor\\.com/media/(?:[^/]+/)*?photo-)[a-z](?:/[\\dx]+)?(/(?:[\\da-f]{2}/){4}[^?]+).*","to":"$1#o s#$2","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1480#11\n\n!!!\nКурсор следует наводить на название объекта в каталоге.\n==\nThe cursor should be pointed at the name of the object in the catalog.\n\nEXAMPLES\nhttps://www.tripadvisor.com/Restaurants-g187147-zfp6-Paris_Ile_de_France.html\nhttps://www.tripadvisor.com/Attractions-g187147-Activities-c42-t183-Paris_Ile_de_France.html\nhttps://www.tripadvisor.com/Hotels-g34438-Miami_Florida-Hotels.html\nhttps://www.tripadvisor.com/Hotels-g34438-a_ufe.true-Miami_Florida-Hotels.html#MAPVIEW"},"R_TrueImages.ru|timg.in|prtscr.site":{"link":"^(trueimages\\.ru|timg\\.in|prtscr\\.site)/(view/)?\\w+$","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Rodny + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#19"},"R_Tumblr_2":{"link":"(\\d\\d\\.media\\.tumblr\\.com/[\\da-f]{32}/[\\da-f]{16}-\\w\\w/)s\\d+x\\d+(/[\\da-f]+\\.\\w+)","res":":\n","img":"(\\d\\d\\.media\\.tumblr\\.com/[\\da-f]{32}/[\\da-f]{16}-\\w\\w/)s\\d+x\\d+(/[\\da-f]+\\.\\w+)","to":":\nlet urlSet=this.node.getAttribute('srcset');\nlet urlArray=urlSet.split(/ \\d+w,? ?/);\nreturn urlArray[urlArray.length-2];","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=680#3\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=660#18\n\nEXAMPLES:\nhttps://www.tumblr.com/tagged/painting?sort=top\nhttps://www.tumblr.com/tagged/acrylic?sort=recent\nhttps://www.tumblr.com/blog/view/twirld"},"R_Tumblr_video":{"img":"(va\\.media\\.tumblr\\.com/tumblr_\\w+\\.mp4)","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=660#18"},"R_TurboPix.fr":{"link":"^turbopix\\.fr/iv/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=20#14"},"R_twogag.com":{"link":"^twogag\\.com/archives/\\d+$","res":"<img title=\"[^\"]+\" src=\"([^\"]+)\" id=\"","img":"^(twogag\\.com/comics)-rss/","to":"$1/","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#17\n\n!!!\nРаботает пока только на FireFox/WaterFox/360, на Хромиум-браузерах выдает ошибку (красный индикатор).\n==\nIt works so far only on FireFox/WaterFox/360, it gives an error on Chromium browsers (red indicator).\n\nEXAMPLES:\nhttps://www.reddit.com/domain/twogag.com/"},"R_uDrop.com":{"link":"((?:www\\.)?udrop\\.com/)(\\w{4,}/\\w+\\.\\w{3,4})","to":"$1file/$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2580#16\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/udrop.com/"},"R_Upload2.us|UploadMe.me":{"link":"^uploadme\\.me|upload2\\.us/view/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=20#14"},"R_UploadAgent.de":{"img":"^(uploadagent\\.de/files/\\d+/)thumb_(.+\\.(?:jpe?g|png|gif))$","to":"$1$2","note":"by Rodny"},"R_uploadhouse.com":{"link":"^(.*)uploadhouse\\.com/imgs/\\d{8}/","res":"value=\\\"\\[img\\](.+(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))\\[/img\\]","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#10\n\nEXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_Userstyles.org":{"img":"^(userstyles\\.org/(?:auto_)?style_screenshot)(?:_thumbnail)?(s/\\d+[_-]after)(?:-thumbnail)?(\\.(?:jpe?g|png|gif)\\?r=\\d+)$","to":"$1$2$3","note":"by Rodny\n\nПРИМЕРЫ / EXAMPLES:\nhttps://userstyles.org/styles/browse/youtube\nhttps://userstyles.org/styles/browse/NNM"},"R_Utkonos.ru":{"link":"utkonos\\.ru/item/\\d+/.+","res":":\nvar i = $._.indexOf('<div class=\"ui-carousel-items-container\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<button class=', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /src=\"(https:\\/\\/gcdn\\.utkonos\\.ru\\/resample\\/)[\\dxq]+(\\/[^\"]+)\"/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n   res.push([a[1]+'1000x1000'+a[2]]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#13\n\n!!!\nКурсор наводить на название товара.\n+\nНа данный момент фильтр не работает/нуждается в апгрейде."},"R_VFL.ru":{"link":"^vfl\\.ru/fotos/(\\w{8})(\\d+)(?:.*)\\.html$","res":"(//images\\.vfl\\.ru/ii/\\d+/\\w{8}/\\d+\\.(?:jpe?g|png|bmp|gif))","img":"(images\\.vfl\\.ru\\/ii\\/\\d+\\/\\w{8}\\/\\d+)_[ms](\\.(?:jpe?g|png|bmp|gif))","to":"$1$2","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=860#20\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=860#6\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=800#13\n\nПРИМЕРЫ / EXAMPLES:\nhttps://rutracker.org/forum/viewtopic.php?t=5673439\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=37201&start=3540&limit=1"},"R_Vipr.im":{"url":"$1$2","res":":\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nlet url = ($._.match(/src=\"(https?:\\/\\/[^\"]+)\" (?:\\w+=\"[^\"]+\"\\s+)*?(?:class=\"pic|id=\"[^\"]+\"\\s*>)/) || [])[1];\nreturn [url];\n","img":"^i\\d\\.(vipr\\.im\\/)th\\/\\d{5}\\/(\\w+)\\.jpe?g$","note":"by Baton34V, hababr (referer fix)\n30-09-21 (PM)\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2900#12\n\nПРИМЕРЫ / EXAMPLES:\nhttps://vipergirls.to/threads/5829954-MARLENE-HOLY-MARL-Jan-14-2021-X57-8256px\nhttps://vipergirls.to/threads/6010551-Riya-Lime-Green-100-Photos-Apr-03-2021?p=81831177&viewfull=1#post81831177"},"R_Vixen_Media_Group":{"link":"(vixen|tushy|tushyraw|blacked|blackedraw|slayed|deeper)\\.com/videos/.+","res":":\nconst max_resolution = 1080;\n\nconst vidId = $._.match(/(?:videoTokenId|newId)\":\"(?<id>\\d+)/)?.groups?.id;\nif (!vidId) return;\n\nconst req = new XMLHttpRequest();\nreq.open('POST', `https://www.${$[1]}.com/graphql`, false);\nreq.setRequestHeader('Content-Type', 'application/json');\nreq.send(\n  `{\"operationName\":\"getToken\",\"variables\":{\"videoId\":\"${vidId}\",\"device\":\"trailer\"},\"query\":\"query getToken($videoId: ID!, $device: Device!) {generateVideoToken(input: {videoId: $videoId, device: $device}) {p270 {token}p360 {token}p480 {token}p720 {token}p1080 {token}p2160 {token}}}\"}`\n);\nif (req.status !== 200) return;\n\nlet streams = {};\ntry { streams = JSON.parse(req.responseText)?.data?.generateVideoToken;} catch (e) { return; }\n\nconst trailers = Object.keys(streams)\n  .map(s => ({ res: Number(s.replace(/\\D/g, '')), url: streams[s]?.token }))\n  .filter(a => a.res <= max_resolution)\n  .sort((a, b) => a.res - b.res);\n\nreturn trailers.pop()?.url || null;","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=220#11\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3800#21\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3660#19\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3640#8\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3620#6\n\nLIST:\nblacked.com\nblackedraw.com\ndeeper.com\nslayed.com\ntushy.com\ntushyraw.com\nvixen.com\n\n!!!\nChange max_resolution to your max preferred resolution.\ne.g.\n1080 will result in 1080p video\n900 will result in 720p video\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.blackedraw.com/videos?search=cuckold&sort=rating\nhttps://www.deeper.com/videos?search=big+tits\nhttps://www.slayed.com/videos?search=natural+tits\nhttps://www.vixen.com/videos?search=cow+girl"},"R_VK-2":{"img":"(sun[\\-0-9]+\\.userapi\\.com\\/.+?size=[\\dx]+&quality=\\d+&sign=\\w+)","to":":\nvar y, x = this.node,p=x&&x.parentNode;\nif (x) {\n  if ((y=x.getAttribute('onclick')) && y.indexOf('showPhoto(')>0) {\n    x = JSON.parse(y.match(/(\\{.+\\})/)[0]).temp;\n    x=(x.w ? '#' + x.w + '\\n' : '') + (x.z || x.y || x.x);\n    return x;\n  }\n}\nreturn $[0];","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2280#18\n\n!!!\nразмещать перед фильтром [wordpress]\n\nПРИМЕРЫ / EXAMPLES:\nhttps://vk.com/mobiltelefon_ru"},"R_VK_video":{"link":"^vk\\.com/video-?\\d+_\\d+.*","res":":\nconst params = JSON.parse($._.match(/'al_video\\.php[^[]+(.+])\\)/)[1])[4].player.params[0]\nconst max_res_url = (i) => i[Object.keys(i).reduce((a, c) => (/^url\\d+$/.test(c) && Number(c.slice(3)) > Number(a.slice(3))) ? c : a, '')]\nreturn [ max_res_url(params) + '#mp4', params.md_title ]","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1571#1"},"R_Vprok.ru":{"link":"^vprok\\.ru/product/[\\w-]+","res":":\nlet res=[];\nfunction htmlDecode(input) {\n  var doc = new DOMParser().parseFromString(input, \"text/html\");\n  return doc.documentElement.textContent;\n}\nlet txt=$._.match(/<product-gallery initial-data=\"([^\"]+)\">/i);\nif (txt) {\n  let jsn=JSON.parse(htmlDecode(txt[1]));\n  for (let img of jsn.images) {\n    res.push([img.fullsize_src.replace('\\/full.w\\/','\\/full\\/')]);\n  }\n}\ntxt=$._.match(/:slides=\"([^\"]+)\">/i);\nif (txt) {\n  jsn=JSON.parse(htmlDecode(txt[1]));\n  for (let img of jsn) {\n    res.push([img.fullsize_src.replace('\\/full.w\\/','\\/full\\/')]);\n  }\n}\nreturn res;","img":"^(static\\d\\d\\.vprok\\.ru/src/review/)\\w+\\.\\d+(/image/[^.]+\\.\\w+)","to":"$1full$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=100#2"},"R_VseInstrumenti.ru":{"link":".*vseinstrumenti\\.ru\\/.+\\/$","res":":\nvar i = $._.indexOf('div class=\"listing-carousel\"');\nif(i<0) {return null; }\nvar t = $._.indexOf('div class=\"column-middle\"', i);\nif(t<0) {return null; }\nvar res = [];\nvar dat=$._.substring(i,t);\nvar re = /style=\"background-image: url\\('([^']+)'/gi\nvar a = re.exec(dat);\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec(dat);\n}\nreturn res;\n","img":"(cdn\\.vseinstrumenti\\.ru/images/responses/\\d+/)\\w+(/[\\w-]+\\.\\w+)","to":"$11200x800$2","note":"by Baton34V (08-2021)\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2680#6\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2520#6\n\n\nПРИМЕРЫ:\nhttps://vseinstrumenti.ru/sadovaya_tehnika/minitraktory/sadovye_traktory/\nhttps://volgograd.vseinstrumenti.ru/ruchnoy_instrument/nabory/instrumentov/"},"R_Vsemayki.ru":{"link":"vsemayki\\.ru\\/product\\/.+","res":":\nvar i = $._.indexOf('<div data-autotest=\"Compact\"');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></div></div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<img src=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a)   {\n   res.push([a[1].replace('500.','700.')]);\n   a = re.exec(data);\n}\nreturn res;\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3760#11\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2000#3"},"R_WeHeartIt.com":{"useimg":1,"link":"^weheartit\\.com/entry/(\\d+).*","url":"weheartit.com/entry/$1","res":"<meta property=\"og:image\" content=\"([^\"]+)\"\n<title>([^|<]*)","img":"^data\\d*\\.whicdn\\.com/images/(\\d+)/(?!original\\.).*","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\n!!!\nВ РФ может понадобиться прокси.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://weheartit.com/popular_images/2022/07/26"},"R_WikiArt.org":{"img":"(uploads\\d\\.wikiart\\.org\\/images\\/[^!]+)!PinterestSmall\\.jpg","to":"$1","note":"by Baton34V\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#2\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.wikiart.org/en/artists-by-nation/norwegian#!#resultType:masonry\nhttps://www.wikiart.org/en/paintings-by-genre/jewelry#!#filterName:all-works,viewType:masonry"},"R_Wildberries.ru":{"link":"^wildberries\\.ru/catalog/(\\d+)/(detail\\.aspx|feedbacks)(\\S+)?","url":"data:,none?$1$2$3","res":":\nvar r = [];\nconst x = new XMLHttpRequest();\n\nx.open('GET', 'https://wbx-content-v2.wbstatic.net/ru/' + $[1] + '.json', false);\nx.send();\nconst info = JSON.parse(x.responseText);\n\n// fetch item photos\n// skip when triggered by feedback links or elements\nif ($[2] == 'detail.aspx' && !$[3]?.includes('#Comments') && !this.TRG.className.includes('product-card__rating') && !this.TRG.className.includes('product-card__count')) {\n    const folder = 1e4 * Math.floor(info.nm_id / 1e4);\n    if (info.media.has_video) {\n        r.push([`https://video.wbstatic.net/video/new/${folder}/${info.nm_id}.mp4`, info.imt_name]);\n    }\n\n    for (var i = 1; i <= info.media.photo_count; i++) {\n        r.push([`https://images.wbstatic.net/big/new/${folder}/${info.nm_id}-${i}.jpg`, info.imt_name]);\n    }\n}\n\n// fetch feedback photos page by page\nconst PER_PAGE = 30;\nconst PAGES_LIMIT = 5;\nfor (var i = 0; i < PAGES_LIMIT; i++) {\n    x.open('POST', 'https://public-feedbacks.wildberries.ru/api/v1/feedbacks/site', false);\n    x.send('{\"imtId\":' + info.imt_id + ',\"skip\":' + PER_PAGE*i + ',\"take\":30,\"order\":\"dateDesc\",\"hasPhoto\":true}');\n    const resp = JSON.parse(x.responseText);\n    if (resp.feedbacks && resp.feedbacks.length) {\n        resp.feedbacks.forEach(f => f.photos.forEach(p => r.push([\n            'https://feedbackphotos.wbstatic.net/' + p.fullSizeUri, '&#11088; '.repeat(f.productValuation) + '&#9734; '.repeat(5 - f.productValuation) + f.text\n        ])));\n    }\n\n    if (!resp.feedbacks || resp.feedbacks.length < PER_PAGE) break;\n}\n\nif (r.length == 0) r = false;\n\nreturn r;","img":"^(images.wbstatic.net)/(?:tm|c\\d+x\\d+)/(.+\\.jpg)","to":"$1/big/$2","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1200#9\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=660#2\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=460#10\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3500#7\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2920#14\n\n!!!\nФильтр подгружает также оценку + фото + тексты отзывов, сделанных покупателями."},"R_Wildberries_user":{"img":"(.*feedbackphotos.wbstatic.net/feedbacks/.+)_ms.jpg","to":"$1_fs.jpg","note":"by hababr\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3860#10\n\n!!!\nУвеличение фото покупателей в самих отзывах."},"R_Wired.com":{"img":"^(media\\.wired\\.com/photos/\\w+/)[\\d:]+/w_\\d+(,c_limit/.+\\.\\w+)","to":"$1master/w_2560$2","note":"by Baton34V\n03-11-21 (PM)\n\n!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade."},"R_Wordpress_fix":{"img":"^(.+/wp-content/uploads/.+)-\\d+x\\d+(\\.jpg)$","to":"$1$2","note":"by Rodny"},"R_xHamster_gallery":{"link":"^\\w\\w\\.xhamster\\.com/photos/gallery/[\\w-]+$","res":":\nvar i = $._.indexOf('<div id=\"photo-slider\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<a href=\"([^\"]+)\"/gi\nvar data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push([a[1]]);\n a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\n03-11-21 (PM)\n\n!!!\nВ некоторых странах нужен прокси\n==\nSome countries require a proxy \n\nEXAMPLES:\nhttps://ru.xhamster.com/photos/categories/blonde"},"R_xHamster_video":{"link":"(.*\\.)?xhamster\\.com\\/videos\\/.*-(.*)","res":":\nconst qual = \"720\"; // -1 for highest\nconst urls = $._.match(/fallback\\\":\\\"htt.*?\\.mp4.*?\\\"/g);\nlet url;\nfor(u of urls) {\nlet temp = u.replace(/fallback\\\":\\\"(htt.*?\\.mp4.*?)\\\"/, '$1').replace(/\\\\\\//g, '/');\nif(temp.includes(\"/\" + qual + \"p\")) url = temp;\n}\nreturn url;","note":"by redditsucksbawlz + Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=880#19\nOLD\nhttps://www.reddit.com/r/imagus/comments/kcszaq/request_xhamstercom/\n\n!!!\nВ некоторых странах (например, в РФ) может потребоваться прокси\n+\nКурсор лучше наводить на название ролика (иногда - несколько раз)\n==\nIn some cases, it is better to hover the cursor over the title of the video (sometimes - several times)."},"R_XNXX.com":{"link":"(.*\\.)?xnxx.com\\/(prof-)?video-.*","res":":\nconst url = $._.match(/setVideoUrlHigh.*\\.mp4\\?.*?'/)[0].replace(/setVideoUrlHigh.*\\('(.*?)'/, '$1');\n\nreturn url;","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=220#13\nOLD\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/\n\n!!!\nнебольшой размер видео потому что сайт использует HLS для HD-видео (не поддерживается Imagus). Платные видео (Gold account) недоступны.\n==\nHD videos are in HLS only (not supported by Imagus). Paid videos (Gold account) are not available."},"R_Xpert.ru":{"link":"^xpert\\.ru/products\\.php\\?showProduct=\\d+","res":":\nlet i = $._.indexOf('<ul id=\"mycarousel\"');\nif(i<0) { return $._.match(/<meta itemprop=\"image\" content=\"([^\"]+)\"/)[1]; }\nlet t = $._.indexOf('</ul>', i);\nif(t<0) { return null; }\nlet res = [];\nlet re = /<li><img src=\"([^\"]+)\"/gi\nlet data=$._.substring(i,t);\nlet a = re.exec(data);\nwhile(a)   {\n   res.push([a[1].replace(/_\\d+\\./,'.')]);\n   a = re.exec(data);\n}\nreturn res;","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=640#7\n\nПРИМЕРЫ:\nhttps://www.xpert.ru/products.php?category_id=523"},"R_XVideos.com":{"link":"(.*\\.)?xvideos\\.com\\/video(\\d+)(\\/|$).*","url":"https://www.xvideos.com/embedframe/$2","res":":\nconst url = $._.match(/setVideoUrlHigh.*\\.mp4\\?.*?'/)[0].replace(/setVideoUrlHigh.*\\('(.*?)'/, '$1');\n\nreturn url;","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=220#13\nOLD:\nby papadocTOMP\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/\n\n!!!\nнебольшой размер видео потому что сайт использует HLS для HD-видео (не поддерживается Imagus).\n==\nHD videos are in HLS only (not supported by Imagus)."},"R_xup.in":{"link":"^(.*)xup\\.in/exec.+","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#10\n\n!!!\nВ РФ может потребоваться прокси. Также в некоторых случаях требутся повторное наведение курсора.\n==\nIn some cases, you need to hover the cursor again.\n\nEXAMPLES\nhttps://www.reddit.com/domain/xup.in/new/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"R_xup.in_2":{"link":"^xup\\.in/dl,\\d+/[\\w-]+\\.\\w+/","res":":\nlet srcS=atob($._.match(/var \\w+ = \"([^\"]+)\";/)[1]);\nlet res=srcS.match(/<div id=\"picture\"><img src=\"([^\"]+)\" alt=\"([^\"]+)\"/);\nreturn [res[1],res[2]];","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1440#15\n\n!!!\nВ РФ может понадобиться прокси.\n\nПРИМЕРЫ / EXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1393&limit=1&m=1#1"},"R_xyzcomics.com":{"link":"^xyzcomics\\.com/.*/$","res":":\nlet parser = new DOMParser();\nlet doc = parser.parseFromString($._, \"text/html\");\nlet images = doc.querySelectorAll('#jig1-html ul li a');\nif(images.length === 0) return null;\nlet final = [];\nfor(image of images){\n   final.push([image.href])\n}\nreturn final;","note":"by Randlai\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=620#12\n\n!!!\nВ некоторых странах может понадобиться прокси.\n==\nIn some countries, you may need a proxy."},"R_Yandex_Disk|yadi.sk":{"link":"(yadi\\.sk|disk\\.yandex\\.ru)/\\w/\\w+","res":":\nvar re = /<meta property=\"og:image\" content=\"([^\"]+)\">/gi;\nvar a = re.exec( $._ );\nlet meta = document.querySelector('head > meta[name=\"referrer\"]');\nif (!meta) {\n    meta = document.createElement('meta');\n    meta.name = 'referrer';\n    meta.content = 'same-origin';\n    document.getElementsByTagName('head')[0].appendChild(meta);\n} else if (meta.attributes.content.value !== 'same-origin') {\n    meta.attributes.content.value = 'same-origin';\n}\nreturn a[1].replace('&amp;','&').replace(/size=[^&]+/, 'size=10000x10000').replace(/logo=[^&]*/,'logo=0');","img":"^\\d\\.downloader\\.disk\\.yandex\\.(?:com|ru)/preview/[\\da-f]{64}/inf/[^?]+\\?(?:[^&]+&)*?(?:content_type=image).+","to":":\nreturn $[0].replace(/&crop=[^&]*/, '').replace(/(&size=)[^&]+/, '$110000x10000')","note":"by Baton34V + hababr (referer fix)\n01-10-21 (PM)\nOLD:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3540#20\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1160#6\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=2&topic=3767&start=5720#16\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3540#4"},"R_Yandex_fotki":{"img":"^(img\\d*-fotki\\.yandex\\.(?:ru|net)/get/\\d+/\\S+/\\w+_).+","to":"$1orig","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1080#8\n\nПРИМЕРЫ:\nhttps://club.osinka.ru/topic-58637?p=19282112#19282112\nhttps://forum.rutoken.ru/topic/2673/"},"R_Yandex_Images":{"link":"^yandex\\.\\w+/images/search\\?\\S+?img_url=([^&]+).*","loop":1,"to":":\nconst original_img_url = decodeURIComponent($[1]);\nconst inner_html = this.TRG.parentNode.innerHTML.replace(/&amp;/g, '&');\nconst yandex_thumb_url = inner_html.match(/avatars\\.mds\\.yandex\\S+n=13/)[0];\n\nreturn original_img_url + '\\n' + yandex_thumb_url;","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1080#8\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3740#4\n\n\nПРИМЕРЫ:\nhttps://yandex.ru/search/?text=дятел&lr=38&clid=2359101\nhttps://yandex.ru/images/search?rpt=imageview&lr=38&url=https://avatars.mds.yandex.net/get-images-cbir/1974228/VFn0quRacFJhdGBgIsq2BQ8757/orig&cbir_id=1974228/VFn0quRacFJhdGBgIsq2BQ8757"},"R_Yandex_Images_Sideblocks":{"img":"^(?:avatars\\.mds\\.yandex\\.net/i\\?id=\\S+images-thumbs|yandex-images\\.clstorage\\.net).+","loop":2,"to":":\n\n// --- MM Gallery (Left Sideblock) ---\n\nif (this.TRG.className == 'MMThumbImage-Image') {\n  for (const item of window.wrappedJSObject.Ya.SerpContext.serpItems) {\n    if (item.thumb.url.includes($[0])) return item.img_href + '\\n' + item.thumb.url;\n  }\n}\n\n// --- Related Images (Right Sideblock) ---\n\nif (this.TRG.className == 'RelatedImages-Thumb') {\n  for (const element of window.wrappedJSObject.Ya.reactBus.e['cbir:drag-start']) {\n    if (element.ctx === undefined) continue;\n    for (const rim_item of element.ctx._reactInternals.return.pendingProps.state.rimForItem) {\n      if (rim_item.thumb.url.includes($[0])) {\n        let urls = '';\n        for (const preview_item of rim_item.preview) {\n          urls += preview_item.origin?.url ? preview_item.origin?.url + '\\n' + preview_item.url + '\\n' : preview_item.url + '\\n';\n        }\n        return urls;\n      }\n    }\n  }\n}\n\nreturn $[0];","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1120#21\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1080#3\n\n!!!\nДля увеличения Я-Картинки > ЛКМ > \"Cвязанные картинки\". Работает пока только в Firefox / Waterfox."},"R_Yandex_Market":{"link":"^market\\.yandex\\.[^/]+/product-.*","res":":\nvar i = $._.indexOf('<div class=\"\" data-zone-name=\"imageGallery\">');\nif(i<0) { return null; }\nvar t = $._.indexOf('<ul data-auto=\"gallery-nav\"', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<meta itemProp=\"url\" content=\"([^\"]+\\/(?:orig|13hq))\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n   res.push([a[1]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;","img":"^mdata\\.yandex\\.[^/]+/i\\?path=[^/]+\\.(?:jpe?g|png|gif|bmp)$","note":"by Rodny + by Baton34V (fix)\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2880#9\n\n<meta itemprop=\"image\" content=\"(https://mdata\\.yandex\\.net/i\\?path=[^\"]+\\.jpe?g)\">\n\nПРИМЕРЫ / EXAMPLES:\nhttp://market.yandex.ru/model.xml?modelid=8226067&hid=91491\nhttps://market.yandex.ru/catalog--vytiazhki/54935/list?hid=90581&cpa=0&onstock=1&local-offers-first=0\nhttps://market.yandex.ru/catalog--noutbuki-v-saratove/54544/list?cpa=0&hid=91013&glfilter=13313409%3A13317091&onstock=1&local-offers-first=0"},"R_YAPfiles.ru":{"link":"^yapfiles\\.ru\\/show\\/\\d+\\/.*\\.html$","ci":1,"res":"name=\"direct_link\" value=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=220#20\nOLD:\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1020#14\n\nПРИМЕРЫ:\nhttps://www.reddit.com/domain/yapfiles.ru/"},"R_Yapx.ru":{"link":"^yapx\\.ru/v/\\w+","res":"<meta property=\"og:image:secure_url\" content=\"([^\"]+)\"","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/yapx.ru/\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#19"},"R_YaPlakal.com":{"img":"(\\w\\d\\d?\\.yaplakal\\.com/pics/pics_)preview(/\\d+/\\d+/\\d+/\\d+\\.jpg)","to":"$1original$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2940#9"},"R_Youla.ru":{"link":"youla\\.ru/\\S+/\\S+/\\S+/\\S+","res":":\nvar i = $._.indexOf('window.__YOULA_STATE__ = {');\nif(i<0) {return null;}\nvar t = $._.indexOf('};', i);\nif(t<0) {return null;}\nvar js=JSON.parse($._.substring(i+25,t+1));\nvar res = [];\nfor (let img of js.entities.products[0].images){\n   res.push([img.url]);\n}\nreturn res;\n","img":"((?:cache3|cdn\\d)\\.youla\\.io/files/images/)\\d+_\\d+(?:_out)?(/\\w+/\\w+/\\S+\\.\\w+)","to":"$1orig$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360#17\n\nПРИМЕРЫ:\nhttps://youla.ru/moskva/auto\nhttps://youla.ru/moskva/smartfony-planshety"},"R_YouPic.com":{"link":"^youpic\\.com/image/\\d+","res":":\nvar x=JSON.parse($._.match(/{\"@context\"[^\\n]+/)[0]), i = x.image.split(/(?:huge|large|medium|small|link)/)\nreturn [[['#'+i[0]+'huge'+i[1], i[0]+'large'+i[1]], [x.name, x.description].filter(Boolean).join(' | ')]]","img":"^((?:cdn\\.youpic\\.com|df0179xsabjj8\\.cloudfront\\.net)/)(?:huge|large|medium|small|tiny)(/\\d+_[\\da-z]+_\\d+)","to":"#$1huge$2\n$1#large medium#$2","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3360\n\nПРИМЕРЫ / EXAMPLES:\nhttps://youpic.com/inspiration\nhttps://www.reddit.com/domain/youpic.com/"},"R_YouPorn.com":{"link":"(?:.*\\.)?youporn\\.com\\/watch/(\\d+)/.*","url":"https://www.youporn.com/api/video/media_definitions/$1/","res":":\nconst max_resolution = 1080;\n\nlet streams = null;\ntry {\n  streams = JSON.parse($._)\n    .sort((a, b) => b.quality - a.quality)\n    .filter(a => a.quality <= max_resolution);\n} catch (e) {\n  return;\n}\n\nif (streams.length) return streams[0]['videoUrl'];\nreturn;","note":"by gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#6\nOLD:\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/\n\n!!!\nВ некоторых странах может понадобиться прокси.\n==\nIn some countries, you may need a proxy.\n+\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade."},"R_YouTube_redirect":{"link":"youtube\\.com/redirect\\?event=comments&redir_token=\\w+&q=(.+?)&.+","ci":1,"dc":1,"loop":1,"to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3920#8\n\nПРИМЕР / EXAMPLE:\nhttps://www.youtube.com/watch?v=j1e7-_Ho6dc&lc=UgzlD0vMw0oOl9KLbzd4AaABAg"},"R_YunPhoto.net|tmyun.com":{"link":"^yunphoto\\.net/(?:\\w+/)?photobase/yp(\\d+)\\.html$","to":"#http://tmyun.com/jpeg/yun_$1.jpg\nhttp://www.tmyun.com/mid/yun_$1.jpg","note":"by Rodny"},"R_z.photos":{"link":"^z\\.photos/image/\\w+","res":"<meta property=\"og:image\" content=\"([^\"]+)\"","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3720#20\n\nПРИМЕРЫ / EXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=20#14"},"R_ZdravCity.ru":{"link":"zdravcity\\.ru/[\\w-]+\\.html","res":":\nvar i = $._.indexOf('/ul></div></div></div><div class=\"Container_container');\nif(i<0) { return null; }\nvar t = $._.indexOf('</div></div></div></div></div></div>', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /<img src=\"([^\"]+\\/)\\d+_\\d+_([\\w-]+\\.\\w+)\"/gi\nlet data=$._.substring(i,t);\nvar a = re.exec(data);\nwhile(a) {\n res.push([a[1]+a[2]]);\n a = re.exec(data);\n}\nreturn res;\n","note":"Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1340#20\n\nПРИМЕРЫ\nhttps://zdravcity.ru/c_termometry/\nhttps://zdravcity.ru/search/?what=витамины"},"R_Zippyshare.com":{"link":"(www\\d+\\.zippyshare\\.com)/\\w+/\\w+/file\\.html","res":":\nvar res=$._.match(/document\\.getElementById\\('fimage'\\)\\.href = \"(\\/\\w\\/\\w+\\/)\" \\+ \\((\\d+ % \\d+ \\+ \\d+ % \\d+)\\) \\+ \"(\\/[\\w%]+\\.\\w+)\"/);\nreturn 'https://'+$[1]+res[1]+eval(res[2])+res[3];\n","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#13\n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3560#11"},"R_zr.ru":{"img":"((?:www\\.)?zr\\.ru/_ah/img/.+)=s\\d+","to":"$1","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2660#20\n\nПРИМЕРЫ:\nhttps://www.zr.ru/news/"},"R_Zupimages.net":{"link":"^(.*)zupimages\\.net/viewer\\.php.+(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?))","res":"<a href=\\\"(.+(?:jpe?g|a?png|gif|svgz?|webp|w?bmp|xbm|pict|j(?:if|fif?)))\\\">","to":"https://www.zupimages.net/$1","note":"destiny child\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1380#10\n\nEXAMPLES\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1369&limit=1&m=1#1"},"O_22pixx.xyz":{"link":"^(22pixx\\.xyz/)ia-(o/[^?]+)\\.html.*","img":"^(22pixx\\.xyz/o)s(/[^?]+).*","to":"$1$2","note":"by Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/ipuury/22pixxxyz_sieve/\n\nEXAMPLES:\nhttps://22pixx.xyz/os/2020/09/12/5f5cb7593058f.jpeg\nhttps://rarbg.to/torrent/xqb7hsa"},"O_123rf.com":{"link":"^123rf\\.com/photo_\\d+","res":"id=\"compImg_link\" href=\"([^\"]+)\" title=\"([^\"]+)","img":"^us(\\.123rf.com/)(\\d+wm|images)","to":"previews$1images","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/co5d0k/comment/ewj7k9s\n\n!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.123rf.com/clipart-vector/music.html?imgtype=1&oriSearch=music\nhttps://www.123rf.com/clipart-vector/green_apple.html?imgtype=1"},"O_Aftershock.news":{"useimg":1,"img":"\\/files(\\/styles\\/(icon|teaser(large)?|avatar-mini)\\/public)","dc":2,"to":"/files","note":"by atorn\nhttps://aftershock.news/?q=node/1031526&full\n\nПРИМЕРЫ:\nава­та­ры, ти­зе­ры (из спис­ков, а не из ста­тьи), икон­ки раз­де­лов"},"O_AmateurAlbum.net":{"link":"amateuralbum\\.net\\/showphoto\\.php\\?cat=\\d{1,5}&photo=\\d{1,10}.*","res":":\nvar imgurl=$._.match(/img  id=\"resizable\".*?src=\"(.*?)\"/)[1];\nconsole.log(\"imgurl:\", imgurl);\n\nvar title = $._.match(/class=\"boldfont\">([^<]*)<\\/div>/)[1];\nconsole.log(\"title:\", title);\n\nreturn [imgurl, title] ","note":"by iceiller9999\nhttps://www.reddit.com/r/imagus/comments/uw97ft/comment/iarowuj"},"O_Ancensored.com":{"link":"^(ancensored\\.com/)clip/[^/]+/[^/]+/([\\da-f]+).*","url":"//$1clip/-/-/$2","res":"<source type=\"video/mp4\"\\s+src=\"([^\"]+)\n=\"description\" content=([^\"]+)","img":"^(ancensored\\.com/)files/new_video/preview_sprite/\\d+/sprite-([^.]+).*","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/ecqqkd/comment/feyd0cn/\n\nEXAMPLES\nhttp://ancensored.com/video\nhttp://ancensored.com/updates/content\nhttp://ancensored.com/nude-appearance/voice-from-the-stone/Emilia-Clarke/"},"O_arazu.io":{"link":"arazu\\.io\\/([a-zA-Z0-9_]+)\\/","url":": \"api.arazu.io/?id=\" + $[1]","res":":\nconst debug = false;\n\nconst api_response = JSON.parse($._);\nif(debug) console.log(api_response);\n\nconst videolink = \"https://r2.cdn.arazu.io/\" + api_response.id + \".mp4\"\nconst toptext = api_response.title + \" | \" + \"Score: \" + api_response.score\n\nconst returnval = [videolink, toptext];\nif(debug) console.log(\"return value: \", returnval);\n\nreturn returnval;","img":"(r2\\.cdn\\.arazu\\.io\\/[^.]+)\\.webp","to":":\nreturn $[1] + \".mp4\"","note":"iceiller9999\nhttps://www.reddit.com/r/imagus/comments/zj5yo3/comment/izvkc7g\n\nEXAMPLES\nhttps://arazu.io/\nhttps://www.reddit.com/r/imagus/comments/zj5yo3/sieve_for_arazuio_videos"},"O_ArtStation.com":{"link":"^(artstation\\.com/)artwork(/[^/]+).*","url":"$1projects$2.json","res":":\n$=JSON.parse($._)\nif (!$.user) return null;\n$.s = $.software_items.map(function(i) {return i.name}).join(', ')\n$.c = [$.title, $.description.replace(/^<p>(.*)<\\/p>$/, '$1')].filter(function(x) {return !!x.trim()}).join(' - ') + ' by ' + $.user.username;\nreturn $.assets.map(function(x, i){\n var u=[x.image_url], k=u[0].replace('/large/', '/4k/')\n if(k!=u[0])u.unshift(k)\n return [u, [(i ? '' : '[' + $.c + ($.s ? ' in ' + $.s : '') + ']'), (x.title||x.title_formatted||'')].join(' ')]\n})","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/gsaurz/comment/fsfm8un"},"O_Aryion.com":{"url":"$1view$2","res":"=\"og:image:secure_url\" content=\"([^\"]+)\n=\"og:title\" content=\"([^\"]+)","img":"^(?:static\\.)?(aryion\\.com/g4/)(?:data|derivative|thumb)(/\\d+).*","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/he202z/comment/fvqxxyx"},"O_AusCelebs.net":{"useimg":1,"link":"^(forums\\.auscelebs\\.net/acnet-)files/(image)\\.php\\?id=(\\d+).*","res":"(//$1$2s/[^\"]+$3[^\"]+)","img":"^(forums\\.auscelebs\\.net/acnet-images/\\d+/)thumbs/","to":"$1","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/evfzau/comment/fggbg3p\n\nEXAMPLES\nhttps://forums.auscelebs.net/viewtopic.php?f=75&t=20772"},"O_AutoTrader.co.uk":{"img":"^((?:m|ec)\\.atcdn\\.co\\.uk/(?:a/)?media/)(?:[^/]+/)?([^?]+).*","to":"$1$2","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/gph1ts/comment/frmipmi\n\n!!!\nAt the moment, the rule partially is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.autotrader.co.uk/car-search?sort=price-desc&postcode=nr32ha&radius=1500&make=Mercedes-Benz&include-delivery-option=on&transmission=Manual&page=2\nhttps://www.autotrader.co.uk/car-search?postcode=NR32HA&radius=50&year-from=new&include-delivery-option=on&advertising-location=at_cars&page=1\nhttps://www.autotrader.co.uk/car-search?postcode=NR32HA&radius=100&year-from=new&make=BMW&model=1%20Series&include-delivery-option=on&advertising-location=at_cars&page=1"},"O_BJsRestaurants.com":{"img":"^cloudfront\\.bjsrestaurants\\.com/img_[\\da-f]{14}\\.\\d+","to":"$&","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/ine4n2/comment/g499k0f\n\nEXAMPLES\nhttps://www.bjsrestaurants.com/menu/pizza\nhttps://www.bjsrestaurants.com/menu/soups-and-salads"},"O_BoardGameGeek.com":{"link":"^boardgamegeek\\.com/image/(\\d+).*","url":"//api.geekdo.com/api/images/$1","res":":\n$._=JSON.parse($._)\nreturn [[['#'+$._.images.original.url, $._.images.large.url], '['+ $._.href.substr($._.href.lastIndexOf(\"/\")+1).replace(/-/g,\" \").toUpperCase() +'] ' + $._.caption]]","img":"^cf\\.geekdo-images\\.com/(?:[^/?]+/)+?pic(\\d+).*","note":"GreyEternal\nhttps://www.reddit.com/r/imagus/comments/qj7cqo/improved_boardgamegeek_bggsieve/\n\n!!!\nНет поддержки видео и альбомов.\n==\nThere is no support for videos and albums.\n\nEXAMPLES:\nhttps://boardgamegeek.com/crowdfunding"},"O_DailyMail":{"link":"(dailymail\\.co\\.uk/.*)","url":": $[1]","res":":\n//console.log(\"imagus: reading \" + $[1]);\nvar doc = new DOMParser().parseFromString($._, \"text/html\");\n// dailymail has duplicates - correct one has data-src\nvar images = doc.querySelectorAll('img.img-share[data-src]');\nvar imgurls=Array.from(images).map(img => img.getAttribute(\"data-src\"));\nvar baseurl=$.base.replace(new RegExp('((https?://)?[/]).','gi'), '$1');\nvar dirurl=$.base.split(\"/\");\ndirurl.pop();\ndirurl=dirurl.join(\"/\");\nvar i=imgurls.map(function (item) {\n item = item.replace(/data-src=\"/gi, \"\");\n if ( item.search(/https?:\\/\\//) == -1) {\n if (item[0] == \"/\") item = baseurl + item; else item = dirurl + \"/\" + item;\n }\n return [item, item]; \n});\nreturn i;","note":"regexfan1245\nhttps://www.reddit.com/r/imagus/comments/tutndw/sieve_for_dailymailcouk_images/"},"O_Derpibooru|Furbooru|Trixiebooru":{"link":"^(derpiboo(?:ru\\.org|\\.ru)|(?:trixiebooru|furbooru)\\.org)/(?:images/)?(\\d+)[^.]*","url":"https://$1/api/v1/json/images/$2","res":":\n$ = JSON.parse($._).image\nvar r = $.representations\nreturn [[\n $.format=='gif' ? ['#'+r.webm, '#'+r.mp4, r.full] : $.width<1200 && $.height<1200 ? [r.full] : ['#' + r.full, r.large],\n ['['+$.created_at+']', $.name, $.description, $.tags, $.source_url].filter(Boolean).join(' | ')\n]]","img":"^((?:derpicdn\\.net|furrycdn\\.org)/img/)(?:view/)?(20\\d\\d/1?\\d/[123]?\\d/\\d+)[^?]*\\.([^?]+)","to":":\nreturn $[1]+'view/'+$[2]+'.'+($[3]=='gif'?'#webm mp4 gif#':$[3])","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/huqzdn/comment/fzavtn4\n\n!!!\nВ некоторых странах (например, в РФ) может понадобиться прокси.\n==\nIn some coutries may need proxy.\n\nEXAMPLES\nhttps://furbooru.org/tags/female\nhttps://derpibooru.org/images?page=5\nhttps://trixiebooru.org/galleries?page=10&gallery="},"O_DeviantArt":{"link":"^(?:(?:[^.]+\\.)?deviantart\\.com/(?:(?:[^/]+/)?art/[^#]+$|#/\\w+)|fav\\.me/(\\w+))","url":": $[1] ? 'http://fav.me/' + $[1] : $[0]","res":":\n//If set to true, the imagus style of media description will be used.\n//Example: {Dimensions} {Publish Date} | {Title} | {Author} | {Category} \n//Set to false to use the sieve author's preference.\n//Example: {Title} | {Author} | {Description Length} \nconst imagus_description_style = true;\n\n//if set to true, the largest possible media will be selected rather as opposed to web optimized media\nconst prefer_largest_media = true;\n\n//Set true to view debugging console messages\nconst debug = false;\n\n\nif(debug) console.log(\"DeviantArt Verbose Sieve V2.3\");\n\nvar pagedefinitionsJSON=$._.match(/\\.__INITIAL_STATE__\\s*=\\s*JSON\\.parse\\((\"[^\\n]+\")/)\nif(!pagedefinitionsJSON) //If page definitions could not be parsed, fallback to regex attempt\n{\n pagedefinitionsJSON=$._.match(/collect_rid=\"[^\"]+\" src=\"([^\"]+)\"[^>]+alt=\"([^\"]+)\"[^>]+=\"dev-content-full/)\n return pagedefinitionsJSON&&[pagedefinitionsJSON[1], pagedefinitionsJSON[2]]\n}\n\n//This deviationdefinition_all var is thorough information about the deviation, including the user and related deviations\nvar deviationdefinition_all=JSON.parse(eval(pagedefinitionsJSON[1]))['@@entities'];\n//if(debug) console.log(\"Deviation Definition (All)\", deviationdefinition_all);\n\n\n//Grab JSON extended deviation info\nvar deviationkey=Object.keys(deviationdefinition_all.deviationExtended)[0];\nvar deviationdefinition_extended=deviationdefinition_all.deviationExtended[deviationkey];\n//Grab JSON specific deviation info\nvar deviationdefinition_specific=deviationdefinition_all.deviation[deviationkey];\n\n\n//Set the media description text\nvar toptext;\n\nif(imagus_description_style) {//Imagus standard media description desired. Grab relevant info and create the top text.\n\n    //Create media resolution string\n    var resolutionstring = deviationdefinition_extended.originalFile.width + \"x\" + deviationdefinition_extended.originalFile.height;\n\n    //Create friendly date string\n    const parseddatetime = new Date();\n    parseddatetime.setTime(Date.parse(deviationdefinition_specific.publishedTime));\n    const months =[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec \"];\n    var month = months[parseddatetime.getMonth()];\n    var day = parseddatetime.getDate();\n    var year = parseddatetime.getFullYear();\n    var datestring = month + \" \" + day + \" \" + year\n\n    //Create top 5 tags string\n    var tagsstring = \"\";\n    if(deviationdefinition_extended.tags) {\n        for(var i=0; i<deviationdefinition_extended.tags.length; i++) {\n            if(i > 0) tagsstring += \", \";//commas after the first tag\n            tagsstring += deviationdefinition_extended.tags[i].name;\n\n            if(i > 4) {//cut short if more than 5 tags assigned\n                tagsstring += \" ...\";\n                break;\n            }\n        }\n    }\n    else {\n        //Assign friendly text if no tags assigned\n        tagsstring = tagsstring == \"\" ? \"No Tags\" : tagsstring;\n    }\n    \n\n\n    //Define the top text\n   toptext = datestring + ' | ' + deviationdefinition_specific.title + ' | ' + \n        deviationdefinition_all.user[deviationdefinition_specific.author].username;\n}\nelse{\n    //get length of plain text description by letting the DOM parse it for us\n    var description = deviationdefinition_all.deviationExtended[deviationkey].descriptionText.html.markup;\n\n    if(debug) console.log(\"Description: \", description)\n\n    var descriptionlength = 0;\n    if(description != null) {//description is defined, use DOM trickery to get text length\n        var tempDivElement = document.createElement(\"div\");\n        tempDivElement.innerHTML = description; \n        if(tempDivElement.textContent != null) {\n            descriptionlength = tempDivElement.textContent.length; \n        }\n        else if(tempDivElement.innerText != null) {\n            descriptionlength = tempDivElement.innerText.length;\n        }\n    }\n\n    \n\n    //Define the top text\n    toptext = deviationdefinition_specific.title + \n            ' | ' + deviationdefinition_all.user[deviationdefinition_specific.author].username + \n            (descriptionlength == 0 ? \"\" : ' | ' + descriptionlength);\n    \n} \n\n//The rest is parsing the correct media URLs\nvar mediadefinition=deviationdefinition_specific.media;\nvar baseuri=mediadefinition.baseUri;\nvar sizedpreviewdefinition=mediadefinition.types.filter(function(t){return !!t.c||!!t.b}).pop();\nvar mediatokens=mediadefinition.token;\nif(!baseuri)return;\n\nif(debug) console.log(\"deviationdefinition_all\", deviationdefinition_all);\nif(debug) console.log(\"deviationdefinition_specific\", deviationdefinition_specific);\nif(debug) console.log(\"deviationdefinition_extended\", deviationdefinition_extended);\nif(debug) console.log(\"mediadefinition\", mediadefinition);\nif(debug) console.log(\"baseuri\", baseuri);\nif(debug) console.log(\"sizedpreviewdefinition\", sizedpreviewdefinition);\nif(debug) console.log(\"mediatokens\", mediatokens);\n\n\n//There are 0 or 1 or 2 tokens in the mediatoken definition for some reason. Which one works is guesswork.\nvar mediatokenstring0=mediatokens?'?token='+mediatokens[0]:'';\nvar mediatokenstring1=mediatokens&&mediatokens[1]?'?token='+mediatokens[1]:mediatokenstring0;//define the second token if it exists, otherwise default to first token\n\nvar medialinkobject;//final goal is to fill in this object\n\nif(prefer_largest_media) {\n    //If download info exists, use link directly. Handles most GIFs and images.\n    if(deviationdefinition_all.deviationExtended[deviationkey].download) {\n        if(debug) console.log(\"Direct download link found.\")\n        var downloadlink = deviationdefinition_all.deviationExtended[deviationkey].download.url;\n        medialinkobject = [downloadlink];\n\n        //Construct the final return object\n        var returnval = [\n            [medialinkobject, toptext]\n        ];\n        if(debug) console.log(\"Final Return Value\", returnval)\n        return returnval;\n    }\n\n    if(debug) console.log(\"No direct download link found.\")\n\n    // Extract meaningful objects that contain identifiers\n    var fullview;\n    var preview;\n    var largestvideo;\n    var gif;\n    var has_valid_definition = !!(mediadefinition.types);\n    for(var i=0; i<mediadefinition.types.length; i++) {\n        var currentdefinition = mediadefinition.types[i];\n        if(currentdefinition.t == 'preview') {\n            preview = currentdefinition;\n            continue;\n        }\n        if(currentdefinition.t == 'fullview') {\n            fullview = currentdefinition;\n            continue;\n        }\n        if(currentdefinition.t == 'video') {\n            //There may be multiple video definitions, keep the largest one\n            if(largestvideo) {\n                //compare widths to determine larger video, keep larger definition\n                largestvideo = (largestvideo.w < currentdefinition.w) ? currentdefinition : largestvideo;\n            }\n            else { //assign first video definition as largest\n                largestvideo = currentdefinition;\n            }\n            continue;\n        }\n        if(currentdefinition.t == 'gif') {\n            gif = currentdefinition;\n            continue;\n        }\n    }\n\n\n    if(largestvideo) {// Video definition exists. Use this.\n        if(debug) console.log(\"Video detected.\");\n        medialinkobject = [largestvideo.b];\n    }\n    else if(gif) {// GIF definition exists\n        if(debug) console.log(\"GIF detected.\");\n        medialinkobject = [gif.b+mediatokenstring0];;\n    }\n    else if(fullview) {// Fullview exists\n        if(debug) console.log(\"Fullview definition of image detected.\");\n        if(debug) console.log(\"fullview\", fullview);\n        if(fullview.b||fullview.c) { //url parts are in this definition\n            medialinkobject = [baseuri+(fullview.b||fullview.c).replace('<prettyName>', deviationdefinition_specific.media['prettyName']) + mediatokenstring0];\n        }\n        else {\n            if(debug) console.log(\"Fullview definition incomplete. Attempting basic url construction...\");\n            medialinkobject = [baseuri+mediatokenstring0];\n        }\n    }\n    else {//no valid definitions\n        if(debug) console.log(\"No sized preview definition found. Attempting basic url construction...\");\n        medialinkobject = [baseuri+mediatokenstring0];\n    }\n}\nelse {//Attempt to get web optimized media instead\n\n    //Get viewport to optimize against\n    const viewportwidth =  Math.max(document.documentElement.clientWidth  || 0, window.innerWidth || 0);\n    const viewportheight = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n    if(debug) console.log(\"Viewport: \" + viewportwidth + \" by \" + viewportheight);\n\n    if(mediadefinition.baseUri.includes(\".gif\")) {//handle GIFs special as they don't have a definition in the mediadefinition types\n        if(debug) console.log(\"GIF detected.\");\n\n        //Construct the final return object\n        medialinkobject = [mediadefinition.baseUri+mediatokenstring0];\n        var returnval = [\n            [medialinkobject, toptext]\n        ];\n        \n        if(debug) console.log(\"Final Return Value\", returnval)\n        return returnval;\n    }\n\n    // Extract meaningful objects that contain identifiers\n    var fullview;\n    var preview;\n    var bestvideosizematch;\n    var bestvideosizecloseness = 10000.0;//large number is a bad fit, start this number with arbitrarily bad ratio\n    var gif;\n    var bestimagesizematch;\n    var bestimagesizecloseness = 10000.0;//large number is a bad fit, start this number with arbitrarily bad ratio\n    var has_valid_definition = !!(mediadefinition.types);   \n    for(var i=0; i<mediadefinition.types.length; i++) {\n        var currentdefinition = mediadefinition.types[i];\n        if(currentdefinition.t == 'preview') {//save preview definition as a default case\n            preview = currentdefinition;\n        }\n        if(currentdefinition.t == 'video') {\n            //There may be multiple video definitions, keep the best size fit\n            if(bestvideosizematch == undefined) {\n                bestvideosizematch = currentdefinition\n            }\n            else {\n                var currentsizecloseness = Math.abs(1- (currentdefinition.h/viewportheight));\n                if(debug) console.log(\"currentsizecloseness\", currentsizecloseness);\n                if(currentsizecloseness < bestvideosizecloseness) {\n                    bestvideosizecloseness = currentsizecloseness;\n                    bestvideosizematch = currentdefinition;\n                    if(debug) console.log(\"New best match at closeness \", bestvideosizecloseness, \" type \", bestvideosizematch.t);\n                }\n            }\n            continue;\n        }\n        if(currentdefinition.t == 'gif') {//GIFs only have one definition if they exist\n            gif = currentdefinition;\n            continue;\n        }\n\n        //If none of the special cases are matched, select the largest best size fit definition\n        //Imagus evaluates height first so this section does as well\n        if(bestimagesizematch == undefined) {\n            bestimagesizematch = currentdefinition\n        }\n        else {\n            var currentsizecloseness = Math.abs(1- (currentdefinition.h/viewportheight));\n            if(debug) console.log(\"currentsizecloseness\", currentsizecloseness);\n            if(currentsizecloseness < bestimagesizecloseness) {\n                bestimagesizecloseness = currentsizecloseness;\n                bestimagesizematch = currentdefinition;\n                if(debug) console.log(\"New best match at closeness \", bestimagesizecloseness, \" type \", bestimagesizematch.t);\n            }\n        }\n\n    }\n\n\n    if(bestvideosizematch) {// Video definition exists. Takes precedence over other media types.\n        if(debug) console.log(\"Video detected.\");\n        medialinkobject = [bestvideosizematch.b];\n    }\n    else if(gif) {// GIF definition exists. Takes precedence over everything but video.\n        if(debug) console.log(\"GIF detected.\");\n        medialinkobject = [gif.b+mediatokenstring0];;\n    }\n    else{// Attempt image media definition\n        \n        if(bestimagesizematch.b||bestimagesizematch.c) { //Use bset size match if it has a complete definition\n            medialinkobject = [baseuri+(bestimagesizematch.b||bestimagesizematch.c).replace('<prettyName>', deviationdefinition_specific.media['prettyName']) + mediatokenstring0];\n        }\n        else if(preview.b||preview.c) {//Best size match was not a complete definition, use preview definition as it seems reliably available.\n            if(debug) console.log(\"Best sized definition incomplete. Using preview version...\");\n            medialinkobject = [baseuri+(preview.b||preview.c).replace('<prettyName>', deviationdefinition_specific.media['prettyName']) + mediatokenstring0];\n            \n        }\n        else {//Preview version also failed, attempt basic URL construction\n            if(debug) console.log(\"No sized preview definition found. Attempting basic url construction...\");\n            medialinkobject = [baseuri+mediatokenstring0];\n        }\n    }\n}\n\n\n\n//Construct the final return object\nvar returnval = [\n            [medialinkobject, toptext]\n        ];\nif(debug) console.log(\"Final Return Value\", returnval)\nreturn returnval;","img":"^images-wixmp-ed30a86b8c4ca887773594c2\\.wixmp\\.com/[a-z]/[\\da-f-]{36}/([\\da-z]+)-.*","note":"iceiller9999\nv2.3\nhttps://www.reddit.com/r/imagus/comments/sjeohm/deviantart_comprehensive_sieve\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=240#4\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1000#21\n\n!!!\nУмеет открывать картинки в более высоком или низком разрешении (опционально) - см расшифровку \"флагов\" ниже (англ).\n==\nOpens pictures in a higher resolution (optional). See the explanation of the \"flags\" below:\n\n1. imagus_description_style. Set flag \"true\" to use Imagus description style. Set to \"false\" to use a more concise version. More details in the code comments.\n\n2. prefer_largest_media. Set flag \"false\" to load web optimized media, good for speed/bandwidth. Set flag \"true\" to load the largest media size possible, excellent for downloading."},"O_dmm.co.jp":{"img":"(dmm\\.(co\\.jp|com)\\/.+)(ps|pt|-\\d+)\\.jpg","to":":\nif ($[3] == \"pt\" || $[3] == \"ps\") {\nreturn $[1] + \"pl.jpg\"\n} else {\nreturn $[1] + \"jp\" + $[3] + \".jpg\"\n}","note":"loveqianool\nhttps://www.reddit.com/r/imagus/comments/xv9tah/comment/irl73ee\n\nEXAMPLES:\nhttps://www.dmm.co.jp/top/\nhttps://www.dmm.co.jp/monthly/prime/-/detail/=/cid=nnpj00361/\nhttps://www.dmm.co.jp/monthly/prime/-/detail/=/cid=ssni00571/"},"O_DPreview.com":{"img":"^(\\d\\.img-dpreview\\.com/files/p/)[^/]+~","to":"#$1\n$1TS1024x1024~","note":"Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/gcji4p/support_dpreview/"},"O_Dribbble":{"link":"^dribbble\\.com/shots/\\d+","res":"=\"og:(?:video|image)\" content=\"([^\"]+)\n=\"og:description\" content=\"([^\"]+)\n","img":"^(cdn\\.dribbble\\.com/users/\\d+/screenshots/\\d+/[^?]+)_[^.]+","to":"$1","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/c1vjns/comment/ers70h4\nOLD\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=3200#13\n\n\n\n!!!\nДля просмотра в некоторых режимах необходимо зайти в аккаунт\n==\nTo view in some modes, you need to log in to your account\n\n\nEXAMPLES\nhttps://dribbble.com/search/green\nhttps://dribbble.com/shots/popular/animation"},"O_dumpert.nl":{"link":"^(dumpert\\.nl/)(?:mediabase|item)(/\\d+)[/_]([\\da-f]+)/?","url":"https://api-live.$1mobile_api/json/info$2_$3","res":":\nvar r=JSON.parse($._), x = r&&r.items&&r.items[0]\nreturn x.media.map(function(m,i){\n  var v = {};\n  m.variants.forEach(function(m){return v[m.version]=m.uri})\n  return [v['720p'] || v.tablet || v.mobile || v.photo, !i && [x.date, x.title, x.description].filter(Boolean).join(' | ')]\n})","img":"^media\\.(dumpert\\.nl/)(?:sq_thumb|still)s/medium(/\\d+)_([\\da-f]+).+","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/dntaa7/comment/fexkxw6\n\n!!!\nНа данный момент фильтр частично не работает.\n==\nAt the moment, the rule partially is not working.\n\nEXAMPLES\nhttps://www.dumpert.nl/zoek/ANIMALS\nhttps://www.dumpert.nl/zoek/CHILD\nhttps://www.dumpert.nl/toppers\nhttps://www.dumpert.nl/latest"},"O_eksisozluk.com":{"link":"^(eksisozluk\\.com/img|soz\\.lk/i)/[\\da-z]+","res":"id=\"image\" src=\"([^\"]+)","note":"by cengique\nhttps://www.reddit.com/r/imagus/comments/r6pzcp/updated_sieve_for_eksisozlukcom/\n\nEXAMPLES:\nhttps://eksisozluk.com/1-aralik-2021-ogretmenlere-verilen-mujde--7098171?a=popular\n(scroll down to the link that says \"gorsel\")"},"O_eMoviePoster.com":{"img":"^(emovieposter\\.com/images/[^/]+/(?:AA\\d{6}/)?)\\d+","to":"#$1\n$1550/","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/e6l53p/comment/feypzhw\n\nEXAMPLES\nhttps://www.emovieposter.com/agallery/14.html\nhttp://www.emovieposter.com/agallery/archiveitem/12885732.html"},"O_Explosm.net":{"link":"^explosm\\.net/comics/(?:.+)","res":":\nlet comic;\n\ncomic = $._.match(/<img src=\"(https:\\/\\/(?:files|static)\\.explosm\\.net\\/(?:\\d{4}\\/\\d{2}\\/\\d+|comics\\/[^\\/]+)\\/[^\\.]+\\.(?:png|gif|jpg))/);\nif (comic)\n    comic = comic[1];\n\n// This is a fallback in case the page dynamically loads the comic. It seems only a few pages do that (see notes for an example)\nelse\n    comic = $._.match(/\\\\\"mediaItemUrl\\\\\":\\\\\"(https:\\/\\/(?:files|static)\\.explosm\\.net\\/(?:\\d{4}\\/\\d{2}\\/\\d+|comics\\/[^\\/]+)\\/[^\\.]+\\.(?:png|gif|jpg))\\\\\",/)[1];\n\nreturn comic;","note":"borderpeeved\nhttps://www.reddit.com/r/imagus/comments/xdzxo9/comment/iojot9a\n\nEXAMPLES\nhttps://explosm.net/\nhttps://www.reddit.com/r/CyanideandHappiness/\nhttps://www.reddit.com/r/CyanideandHappiness/search/?q=url%3Aexplosm.net&include_over_18=on&restrict_sr=on&t=all&sort=top\nDynamically loaded comic:\nhttps://explosm.net/comics/temple"},"O_f-list.net":{"img":"^(static\\.f-list\\.net/images/char)thumb/","to":"$1image/","note":"by Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/jui7qp/request_for_flist/"},"O_FastTech.com":{"link":"(fasttech\\.com\\/products\\/.*)","ci":1,"url":"$1","res":":\nvar i = $._.indexOf('id=\"PhotoFrame\"')\nif(i<0) { console.log('no begin marker '); return null; }\nvar t = $._.indexOf('id=\"ProductDetailsPanel\"', i);\nif(t<0) { console.log('no end marker'); return null; }\nvar res = []\nvar re = /\\bhref=\"((?:http:\\/\\/)?.*?\\.(?:jpg|jpeg|png))\"/gi\nvar searcharea = $._.substring(i,t);\nif(!searcharea) {console.log(\"no searcharea \"+i+\" \"+t); return; }\nvar a = re.exec( searcharea );\nwhile(a){\n    var img = a[1]\n    if(img.substr(0,2)==\"//\") img = \"http://\"+img;\n\tres.push([img])\n\ta = re.exec( searcharea );\n}\nif(res.length==0)\n   { console.log(searcharea); console.log('no images within range'); return; }\n//console.log(res)\nreturn res","note":"by ndk0\nhttps://www.reddit.com/r/imagus/comments/5nj4ws/fasttech_imagus_sieve/\n\nbegin: id=\"PhotoFrame\"\nend: id=\"ProductDetailsPanel\"\n\n!!!\nНаводить не на картинку, а на название товара.\n==\nAim not at the picture, but at the name of the product."},"O_FINN.no":{"useimg":1,"link":"^(finn\\.no/)(?:[\\w/]+\\.html\\?finnkode=)?(\\d+)","url":"//apps.$1api/ad/$2","res":":\nvar r=JSON.parse($._), x={}\nr.cells.forEach(function(c) { x[c.name] = c.content[0].data })\nreturn x.gallery && x.gallery.map(function(c, i) {\n var t=[c.description]\n !i&&t.push(x.price[0][0].value, x.title.value, x.description.value)\n var regex = c.url.replace(/apps\\.finn\\.no\\/api\\/[^/]+/,\"images.finncdn.no/dynamic/1600w\");\n return [regex, t.filter(Boolean).join(' | ')]\n})","img":"^(images\\.finncdn\\.no/+dynamic/)[^/]+","to":"$11600w","note":"Mr__Democracy\nhttps://www.reddit.com/r/imagus/comments/e2i020/comment/ff550lr\n\n!!!\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.finn.no/kolleksjon?id=1122\nhttps://www.finn.no/realestate/businessplots/search.html?sort=PUBLISHED_DESC\nhttps://www.finn.no/bap/forsale/search.html?q=%22Det+Susende+Fjell%22&sort=RELEVANCE\nhttps://www.finn.no/reise/feriehus-hytteutleie/norge/hvaler/"},"O_fs|brb|cxz":{"img":"^((?:s\\d+|img)\\.dotua\\.org/fsua_items/[^/]+/(?:\\d\\d/){3})(?!1/)\\d(/\\d+)","to":"$11$2"},"O_GameFAQs.com":{"img":"^gamefaqs\\.gamespot\\.com/a/(?:screen/thumb/\\d/\\d/\\d/\\d+|box/\\d/\\d/\\d/\\d+_thumb)","to":":\nif ($[0].match(/\\/box\\//))\n    return $[0].replace(\"thumb\", \"front\");\nelse if ($[0].match(/\\/screen\\/thumb\\//))\n    return $[0].replace(\"thumb\", \"full\");","note":"borderpeeved\nhttps://www.reddit.com/r/imagus/comments/xdzxo9/comment/ioko84w\n\nEXAMPLES:\nhttps://gamefaqs.gamespot.com/ps4/366186-mothmen-1966/images\nhttps://gamefaqs.gamespot.com/ps5/292803-stray/images"},"O_GameSpot_video":{"link":"^gamespot\\.com/videos/","res":"\"contentUrl\": \"([^\"]+?)\"","note":"borderpeeved\nhttps://www.reddit.com/r/imagus/comments/xdzxo9/comment/ioko84w\n\nEXAMPLES:\nhttps://www.gamespot.com/videos/"},"O_Grailed.com":{"img":"process\\.fs\\.grailed\\.com/.+?/compress/(https://cdn\\.fs\\.grailed\\.com/.*)","to":"$1","note":"sl69xlt\nhttps://www.reddit.com/r/imagus/comments/kukuay/does_anybody_have_a_sieve_for_grailedcom/\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.grailed.com/designers/enfin-leve\nhttps://www.grailed.com/listings/17064481-enfin-leve-custom-molle-pouch"},"O_HBrowse.com":{"link":"hbrowse\\.com\\/\\d+\\/\\w+","res":":\nvar cur = $._.match(/(\\d+)\\s\\-\\s\\d+/);\nbase = 'https://hbrowse.com'\nvar i = $._.indexOf('keyCaught);');\nif(t<0) { return null; }\nvar t = $._.indexOf('preloadImages', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /(\\w+\\.jpg)/gi\nvar ure = /(\\/data\\/\\d+\\/\\w+\\/)/gi\nvar u = ure.exec( $._.substring(i,t) );\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n  res.push([base + u[1] + a[1]]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res.slice(cur[1]-1);","note":"loveqianool\nhttps://www.reddit.com/r/imagus/comments/xv9tah/comment/irjrwsd\n\nПРИМЕРЫ / EXAMPLES:\nhttps://hbrowse.com/browse/title/M/6\nhttps://hbrowse.com/browse/artist/Jack-Pot\nhttps://hbrowse.com/browse/genre/fantasy/4\nhttps://hbrowse.com/browse/type/short_story\nhttps://hbrowse.com/thumbnails/24908/c00001"},"O_HLSPlayer.net_mp4":{"link":".*hlsplayer.net/mp4-player.*","res":":\nconst url = new URL($[0]);\nlet hash = url.hash;\nif (!hash) { return; }\nhash = hash.substring(1);\nlet src = new URLSearchParams(hash).get('src');\nsrc = decodeURI(src);\nreturn src;","note":"ammar786\nhttps://www.reddit.com/r/imagus/comments/zjqhud/comment/izx73rt\n\nEXAMPLES:\nhttps://www.reddit.com/r/imagus/comments/zjqhud/sieve_for_hlsplayer_videos/"},"O_HomeMoviesTube.com":{"link":"(.*\\.)?homemoviestube\\.com\\/videos\\/(.*?)(\\/|$|\\?).*","url":"https://www.homemoviestube.com/embed/$2","res":":\nconst url = $._.match(/src=\\\".*?videos\\.cdn\\.homemoviestube\\.com.*?\\\"/)[0].replace(/src=\\\"(.*?videos\\.cdn\\.homemoviestube\\.com.*?)\\\"/, '$1');\n\nreturn url;","note":"by papadocTOMP\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/\n\n\n!!!\nДля РФ может понадобиться прокси\n==\nFor some countries, you may need a proxy.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/homemoviestube.com/"},"O_Inkbunny.net":{"link":"inkbunny\\.net\\/s\\/\\d+","res":":\n\nvar highdefinition = false;\n\nvar debug = false;\n\nvar highdefmatch=$._.match(/(https:\\/\\/\\w\\w\\.ib\\.metapix\\.net\\/files\\/full\\/\\d+\\/\\d+.*?[^'\"]*)/);\nvar weboptimizedmatch=$._.match(/(https:\\/\\/\\w\\w\\.ib\\.metapix\\.net\\/files\\/screen\\/\\d+\\/\\d+.*?[^'\"]*)/);\nvar titlematch = $._.match(/<meta name=\"og:title\" content=\"(.+)? &lt;/);\n\nif(debug) console.log($._);\nif(debug) console.log(highdefmatch);\nif(debug) console.log(weboptimizedmatch);\nif(debug) console.log(titlematch);\n\nvar medialink = highdefinition ? highdefmatch[1] : weboptimizedmatch[1];\n\nvar toptext = titlematch[1];\n\nvar returnval = [\n    [medialink, toptext]\n];\nif(debug) console.log(\"Final Return Value\", returnval);\nreturn returnval;","note":"by iceiller9999\nhttps://www.reddit.com/r/imagus/comments/vvxi32/comment/ifn4bvt"},"O_Instagram_pub_api_gql":{"off":1,"link":"^(?:(?:i\\.)?instagr(?:\\.am|am\\.com))/(?:\\w+/)?(?:p/|tv/|reel/){1,2}([^/?#]+).*","url":"https://www.instagram.com/graphql/query/?query_hash=d4e8ae69cb68f66329dcebe82fb69f6d&variables={\"shortcode\":\"$1\"}","res":":\nlet i,c,f\n\n$._ = JSON.parse($._)\n$ = $._.data.shortcode_media\ni = $.edge_sidecar_to_children\ni = i && i.edges\nf = $.owner.full_name\nc = $.edge_media_to_caption.edges\nc = c.length && c[0].node.text\nc = '@' + $.owner.username + (f ? ' (' + f + ')' : '') + ' | ' + new Date($.taken_at_timestamp*1e3).toLocaleString() + ' ' + (c ? ' | ' + c : '')\n\nif ( i && i.length ) {\n    $ = i.map((el, i) => { return [el.node.video_url || el.node.display_url, !i && c] })\n} else {\n    $ = [$.video_url || $.display_url, c]\n}\n\nreturn $\n","note":"macserv\nhttps://www.reddit.com/r/imagus/comments/v1xqr3/comment/iaxfu6w\nOLD:\nhttps://www.reddit.com/r/imagus/comments/sc9kr0/comment/hu583vk\nhttps://www.reddit.com/r/imagus/comments/q2xxqj/comment/hg44cqe\n\n!!!\nУ данной версии фильтра иногда наблюдается проблема с отображением правильного года в дате. Т.е. вместо 2022 может стоять 2047 или 2280.\n+\nДанный фильтр работает в т.ч. на внешних ссылках и фреймах. Для этого требуется установить расширение SMH и наши правила для него - см. FAQ, п.12.\n+\nНа домашней странице в \"ленте\" фильтр также работает - для этого следует навести курсор на количество лайков, либо на дату. \n+\nПросмотр слишком большого количества фото подряд (100>) у некоторых пользователей может закончиться блокировкой аккаунта на 24 часа. В таком случае рекомендуем воспользоваться альтернативой - сайтом IMGINN.COM.\n==\nThis version of the rule sometimes has a problem with displaying the correct year in the date. That is instead of 2022, it can be 2047 or 2280.\n+\nThis rule also works on external links and frames. To do this, you need to install the SMH extension and our rules for it - see FAQ, p.12.\n+\nOn the home page in the \"feed\" the rule works if you hover over the number of likes or the date.\n+\nViewing too many photos in a row (50>) can result in an account suspension for 24 hours (for some users). In this case, we recommend using an alternative - IMGINN.COM. \n\nПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=200#19"},"O_Kemono.party":{"link":"beta\\.kemono\\.party\\/(patreon|fanbox|gumroad|subscribeStar|dLsite|discord|fantia)\\/user\\/\\d+\\/post\\/\\d+","res":":\nvar i = $._.indexOf('class=\"post__thumbnail\"');\nif(t<0) { return null; }\nvar t = $._.indexOf('class=\"post__footer\"', i);\nif(t<0) { return null; }\nvar res = [];\nvar re = /data-src=\"([^\"]+)\"/gi\nvar a = re.exec( $._.substring(i,t) );\nwhile(a)   {\n  res.push([a[1].replace('/thumbnail', 'https://beta.kemono.party/thumbnail')]);\n   a = re.exec( $._.substring(i,t) );\n}\nreturn res;\n\n","note":"loveqianool\nhttps://www.reddit.com/r/imagus/comments/xv9tah/betakemonoparty_rule\n\nEXAMPLES:\nhttps://beta.kemono.party/fanbox/user/16051830\nhttps://beta.kemono.party/fanbox/user/31703900"},"O_LiveJournal_pics":{"link":"^pics\\.livejournal\\.com/(\\w+)/pic/(\\w+)(/.*)?","to":"pics.livejournal.com/$1/pic/$2","note":"by megabooster\n\nПРИМЕРЫ / EXAMPLES:\nhttp://lj-photophile.livejournal.com/1994080.html"},"O_LiveStreamFails.com":{"link":"^livestreamfails\\.com/(?:clip|post)/(\\d+)","url":"api.livestreamfails.com/clip/$1","res":":\nconst data = JSON.parse($._);\nreturn data ? [`https://livestreamfails-video-prod.b-cdn.net/video/${data.videoId}`, data.label] : null;","note":"Hakkin\nhttps://www.reddit.com/r/imagus/comments/mm0f4e/sieve_for_livestreamfailscom/\n\nEXAMPLES:\nhttps://www.reddit.com/domain/livestreamfails.com/"},"O_old.Reddit_Gallery":{"link":"^(reddit\\.com/)gallery/([\\da-z]+).*","url":"//$1by_id/t3_$2.json","res":":\n$=JSON.parse($._).data.children[0].data\nreturn ($.gallery_data && $.gallery_data.items || []).map(function(c, i) {\n var u=$.media_metadata[c.media_id].s\n return [\n  (u.u ? u.u.replace(/preview(\\.redd.it\\/[^?]+).*/, 'i$1') : (u.mp4 ? u.mp4 + '#mp4' : u.gif)),\n  (!i ? '[' + new Date($.created_utc*1e3).toLocaleString() + ' | ' + $.title + '] ' : '') + (c.caption || '')\n ]\n})","img":"^(?:[a-z]{2}(?:-[a-z]{2})?\\.|beta\\.|old\\.)?reddit\\.com/(?:r|user)/[^/]+/comments/([\\da-z]+)/[^/]+/(?:\\?utm_content=(?:title|thumbnail).*)?$","loop":2,"to":":\nvar n = window.location.hostname.slice(-10) == 'reddit.com' && this.node\nif(!n) return ''\nif(n.matches('div.link a.thumbnail,div.link a.thumbnail>img, div.link a.title, div.link a.thumbnail.image')) {\n\twhile((n = n.parentNode) && !n.matches('div.link'));\n\tn=n.getAttribute('data-url')\n\tif(n&&!n.match(/\\/(?:r|user)\\/[^/]+\\/comments\\/[\\da-z]+\\/[^/]+\\//g))return n\n}\nreturn ''","note":"Dulus_No\nhttps://www.reddit.com/r/imagus/comments/jmdhpf/comment/gbx8v08\n\n!!!\nПросмотр галерей прямо из ленты на OLD.reddit.com. Не работает на reddit.com!\n==\nView galleries on OLD.reddit.com. Does not work on reddit.com!\n\nПРИМЕРЫ / EXAMPLES\nhttps://old.reddit.com/r/travel/\nhttps://old.reddit.com/r/UnexpectedB99/comments/jrnw8l/i_love_this_community/\nhttps://old.reddit.com/r/discdyeing/comments/js8ayl/worm_dip_is_god/"},"O_OpenDirViewer.net":{"link":"^opendirviewer\\.net\\/view.php\\?url=(.*)","loop":1,"url":": $[1]","res":":\nvar i=$._.match(RegExp(/href=\"([^\"]+)\\.(?:jpe?g|a?png|gifv?|bmp|svgz?|web[pm]|og[gv])/gi));\nvar baseurl=$[1].replace(new RegExp('((https?://)?[^/]*).*','gi'), '$1')\nconsole.log($[1]+\"->\"+baseurl)\ni=i.map(function (item) { return [item.replace(/href=\"/gi, baseurl+\"/\"), '']; });\nreturn i;","note":"regexfan1245\nhttps://www.reddit.com/r/imagus/comments/r6rblo/sieve_for_opendirviewernet/\n\n!!!\nIn some countries, you may need a proxy\n\nEXAMPLES:\nhttps://opendirviewer.net/latest_100.php\nhttps://opendirviewer.net/latest_500.php"},"O_orsm.net_images":{"useimg":1,"link":"^orsm\\.net/i/(gallery/pictures/)?[\\da-z-]*~\\d+\\.html","res":":\nif($[1])return $._.match(/=\"bigimg\" src=['\"]([^'\"]+)/)[1]\nvar t = $._.match(/<h1>([^<]+)/), a = $._.match(/\\n\\s*<img src='[^']+/g)\nreturn a && a.map(function(x, i) {\n  return [x.slice(x.lastIndexOf(\"'\") + 1).replace('/thumbnails/', '/'), !i && t&&t[1]]\n})","img":"^(prycless\\d*\\.orsm\\.net/[^/]+/)thumbnails(/.+)_jpg\\.jpe?g","to":"$1images$2.#jpg#","note":"gpl2731\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1140#3\nOLD\nhttps://www.reddit.com/r/imagus/comments/jhd8nu/sieve_for_orsmnet/\n\nEXAMPLES:\nhttp://prycless.orsm.net/prycless02.php"},"O_orsm.net_video":{"link":"^(orsm\\.net/)v/(update2\\d{7}/[\\da-z-]+\\.mp4).*","to":"//grab.$1$2","note":"by Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/jhd8nu/sieve_for_orsmnet/"},"O_Paixin.com":{"useimg":1,"link":"^v(\\.paixin.com/)photocopyright(/\\d+).*","url":"//api2$1medias/1$2","res":"\"image\":\"([^\"]+)\n\"title\":\"([^\"]+)\",\"description\":\"([^\"]+)","img":"^((?:(?:q-extra|gaga-ppt)\\.paixin\\.com|images\\.gaga\\.me|d\\d+\\.paixin\\.com/thumbs)/[^?]+).*","to":"$1","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/h7nnjx/comment/fumyqkz\n\n!!!\nКурсор иногда нужно наводить несколько раз. Также желательно запретить скрипты на данном сайте (с помощью сторонних расширений - например, uMatrix).\n==\nThe cursor needs to be pointed several times. It is also advisable to prohibit scripts on this site (using third-party extensions - for example, uMatrix).\n\nEXAMPLES\nhttps://www.paixin.com/albums/pic/detail/943/1\nhttps://www.paixin.com/media/photo/standard/%E7%A7%8B%E5%AD%A3%E8%83%8C%E6%99%AF/1"},"O_Phica.eu":{"img":"^phica\\.eu/forums/attachments/[^/]+jpg\\.\\d+/","to":"$&","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/c4hnv6/comment/es0qn42\n\nEXAMPLES\nhttps://www.phica.eu/forums/media/page-4"},"O_picforall.ru":{"useimg":1,"link":"^((?:picforall|imgclick|picclick|freescreens)\\.ru/\\d+/\\d+).*","url":"$1/1/","res":"<img src=\"(http://(?:s\\d+\\.)?(?:picforall|imgclick|picclick|freescreens)\\.ru/allimage/[^\"]+)","img":"^((?:s\\d+\\.)?(?:picforall|imgclick|picclick|freescreens)\\.ru/allimage/[^.]+)-thumb","to":"$1","note":"by maslorez\nhttps://www.reddit.com/r/imagus/comments/4uiddm/rule_picforallru/\n\nПРИМЕРЫ / EXAMPLES:\nhttp://pornolab.net/forum/viewtopic.php?t=2645304\nhttp://pornolab.net/forum/viewtopic.php?t=2644662\nhttp://pornolab.net/forum/viewtopic.php?t=2644652"},"O_PimpAndHost.com":{"link":"^(pimpandhost\\.com/image/\\d+).*","url":"$1?size=original","res":"=\"original\" src=\"([^\"]+)","img":"^(ist\\d-\\d\\.filesor\\.com/pimpandhost\\.com/[^?#]+)_[0sml]\\.","to":"$1.","note":"by Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/i6t97f/request_pimpandhost/\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/r/imagus/comments/i6t97f/request_pimpandhost/"},"O_Reddit-media":{"link":"^(?:[a-z]{2}(?:-[a-z]{2})?\\.|beta\\.|old\\.)?reddit\\.com/(?:r|user)/[^/]+/comments/([\\da-z]+)/[^/]+/(?:\\?utm_content=(?:title|thumbnail).*)?$","loop":1,"img":"^(g\\.redditmedia\\.com/[\\w-]+\\.gif\\?(?:[^&]+&)*?fm=mp4[^#]*)(.*)","to":":\nif($[2]!==0)return $[2]=='#mp4'?$[0]:$[1]+'#mp4'\nvar u,p,c,n=window.location.hostname.slice(-10)=='reddit.com'&&this.node\nif(!n)return''\nif(n.matches('div.link a.thumbnail,div.link a.thumbnail>img, div.link a.title, div.link a.thumbnail.image')) {\n p=n;while((p=p.parentNode)&&!p.matches('div.link'));\n u=p.dataset, u=u.url||u.hrefUrl\n if(u&&/v\\.redd\\.it\\//.test(u))return u\n c=p&&p.querySelector('div.expando[data-cachedhtml]')\n c=c&&c.getAttribute('data-cachedhtml')\n u=c&&c.match(/(?:<a href|(?:class=\"preview\"|<source) src)=\"([^\"]+)/g)\n if(u) {\n  u=u.map(function(i){\n   var u=i.slice(i.lastIndexOf('\"')+1).replace(/&amp;/g,'&');\n   return u+(i[1]=='s'?'#mp4':'')\n  });\n  u=c.indexOf('<source')!=-1?u.reverse():u\n  return u.length?u.join('\\n'):''\n }\n u=p.dataset, u=u.url||u.hrefUrl\n}else if(n.matches('a.Post__titleLink')) {\n u = n.closest('.Post__top').querySelector('a.PostThumbnail').href\n}else if(n.matches('a[data-click-id=body]>div>h3,.Post div>div[role=img]')){\n p=n.closest('div[id^=t3_]');\n if(p&&p.querySelector('p,i.icon-text'))return ''\n p=p.querySelector('a>.icon-external_link')\n p=p ? p.parentNode : {href: '//gateway.reddit.com/desktopapi/v1/postcomments/t3_'+$[1]+'?truncate=1'}\n p=this.find({href: p.href, IMGS_TRG: n})\n n.title = n.getAttribute('aria-label') || n.title\n return (Array.isArray(p) ? p.join('\\n') : (p === null ? 'null' : p)) || ''\n}\nreturn u&&/^(https?:)?\\/\\/i\\.redd\\.?it/.test(u)?u:''","note":"theY4Kman\nhttps://www.reddit.com/r/imagus/comments/nltg5x/cant_hover_over_post_links\n\nEXAMPLES:\nhttps://www.reddit.com/r/all/"},"O_RedTube.com":{"link":"(.*\\.)?redtube\\.com\\/(\\d{3}.*?)(\\/|\\?|$).*","url":"https://embed.redtube.com/?id=$2","res":":\nconst url = $._.match(/quality\\_.*?htt.*?\\.mp4.*?\\\"/)[0].replace(/quality\\_.*?(htt.*?\\.mp4.*?)\\\"/, '$1').replace(/\\\\\\//g, '/');\n\nreturn url;\n","note":"papadocTOMP\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/\n\n!!!\nВ некоторых странах может понадобиться прокси.\n==\nSome countries may require a proxy. \n+\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\n\nПРИМЕРЫ / EXAMPLES\nhttps://www.reddit.com/domain/redtube.com/"},"O_rehost.diberie.com":{"img":"^(rehost.diberie.com/Picture/Get)/\\w/(\\d+)","to":"$1/f/$2","note":"by mooms01\nhttps://www.reddit.com/r/imagus/comments/vlyl5u/sieve_for_imgsuperhfr_and_rehostdiberiecom\n\nEXAMPLES:\nhttps://forum.hardware.fr/hfr/Discussions/Viepratique/hebergement-gratuit-anonyme-sujet_118598_29.htm"},"O_Rouming.cz":{"link":"^(rouming\\.cz/)roumingShow\\.php\\?file=([^&]+).*","img":"^(rouming\\.cz/)(?:thumbnails|archived)/(?:POH)?([^?]+).*","to":"$1#upload signed#/$2","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/bywq51/comment/ers570y\n\n!!!\nНа данный момент фильтр частично не работает/нуждается в апгрейде.\n==\nAt the moment, the rule partially is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.rouming.cz/\nhttps://rouming.cz/roumingListTop.php\nhttps://www.rouming.cz/roumingArchive.php"},"O_rule34.paheal.net":{"link":"^rule34\\.paheal\\.net/post/view/\\d+","res":"href='([^']+)'>File\n<title>([^<]+)","note":"by Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/jr9r3e/can_i_get_some_help_with_this_site/"},"O_Shutterstock":{"link":"^shutterstock\\.com/image-photo/[\\da-z-]+\\d+","res":":\nreturn JSON.parse($._.match(/\"1500w\":{\"src\":(\"[^\"]+\")/)[1])","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/co5d0k/comment/ewj7k9s\n\n!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.shutterstock.com/ru/search/bruce-willis\nhttps://www.shutterstock.com/ru/video/search/dance\nhttps://www.shutterstock.com/ru/image-photo/stylish-man-woman-dancing-hiphop-bright-1823945150"},"O_Shopee.com":{"img":"^(cf\\.shopee\\.(?:sg|tw|co(\\.id|\\.th|m\\.my)|vn|ph)/file/[\\da-z]{32}).*","to":"$1","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/cdfrr5/comment/eu8r18g\n\n!!!\nAt this point in time, the rule is not working.\n\nEXAMPLES\nhttps://shopee.sg/lenovoofficial#product_list\nhttps://shopee.sg/Entertainment-col.935698\nhttps://shopee.com.my/Groceries-Pets-cat.11000003\nhttps://shopee.com.my/Watches-cat.11001724\nhttps://shopee.com.my/search?category=11001724&keyword=casio%20watch"},"O_Simkl.com":{"img":"simkl.(in)/posters/(\\d\\d)/([a-z0-9]+_)(c).*","to":"simkl.net/posters/$2/$30.jpg","note":"by akovia\nhttps://www.reddit.com/r/imagus/comments/pndm75/simkl_sieve/\n\n!!!\nВ РФ нужен прокси."},"O_Slushe.com":{"useimg":1,"link":"^slushe\\.com/video/[^.]+-\\d+\\.html","res":"<source src=\"([^\"]+)\n=\"og:title\" content=\"([^\"]+)","img":"^(cdn\\.slushe\\.com/(galleries/[\\da-f]+/)?)thumbs/((?:[\\da-f]/)*[^/]+).*","to":":\nreturn ($[2] ? $[1] : 'v' + $[1] + 'videos/') + $[3]","note":"by Deathamns (snmahtaeD)\nhttps://www.reddit.com/r/imagus/comments/fs2q14/sieve_for_slushecom_nsfw/"},"O_SMBC-comics.com":{"link":"^smbc-comics\\.com\\/(?:comics?\\/.+|(?:index\\.php)?\\?(?:db=comics(?:_[^&]+)?&)?id=\\d+)","res":":\nlet comic = $._.match(/\" src=\"([^\"]+)\" id=\"cc-comic\"/)[1];\nlet comicTitle = $._.match(/ title=\"([^\"]*)\" src=\"[^\"]+\" id=\"cc-comic\"/)[1];\nlet extra = $._.match(/<div id=\"aftercomic\" onclick='toggleBlock\\(\"aftercomic\"\\)' style=\"display:none;\" class=\"mobilehide\"><img src='([^']+)'/)[1];\nreturn [[comic, comicTitle], [extra, \"Extra\"]];","note":"borderpeeved\nhttps://www.reddit.com/r/imagus/comments/xa2irk/improved_filter_for_smbccomicscom\n\nEXAMPLES:\nhttps://www.reddit.com/domain/smbc-comics.com/\nhttps://www.reddit.com/domain/smbc-comics.com/top/"},"O_SmugMug.com":{"img":"^[^.]+\\.smugmug\\.com/.+(?:T[ih]|S|M|L|X[2L]|\\d+x\\d+)(?:-\\d)?\\.[^.]{3,4}$","to":":\nreturn $[0].replace(/(?:(\\/)(?:T[ih]|S|M|L|X[2L]|\\d+x\\d+)(\\/)|(-)(?:T[ih]|S|M|L|X[2L]|\\d+x\\d+)([.\\/]))/g, '$1$35K$2$4');","note":"by Limn0\nhttps://www.reddit.com/r/imagus/comments/su09vy/update_smugmug_sieve\n\n\nEXAMPLES:\nhttps://www.reddit.com/domain/smugmug.com\nhttps://www.cooledgephotography.com/browse"},"O_SpankBang.com":{"link":"(.*\\.)?spankbang.com\\/.*?\\/video\\/.*","res":":\nconst url = $._.match(/source src=\\\".*?\\.mp4.*?\\\"/)[0].replace(/source src=\\\"(.*?\\.mp4.*?)\\\"/, '$1');\n\nreturn url;","note":"by papadocTOMP\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/"},"O_StripDir.com":{"link":"(stripdir.com/sd/\\?strip=[^&]*)","url":": $[1] + '&maxpp=all'","res":":\nvar doc = new DOMParser().parseFromString($._, \"text/html\");\ndebugger;\nvar images = doc.querySelectorAll('img[id^=\"#sdimg\"]');\nvar imgurls=Array.from(images).map(img => img.src);\nvar baseurl=$.base.replace(new RegExp('((https?://)?[/]).','gi'), '$1');\nvar dirurl=$.base.split(\"/\");\ndirurl.pop();\ndirurl=dirurl.join(\"/\");\nvar i=imgurls.map(function (item) {\n item = item.replace(/src=\"/gi, \"\");\n if ( item.search(/https?:\\/\\//) == -1) {\n   if (item[0] == \"/\") item = baseurl + item; else item = dirurl + \"/\" + item;\n }\n return [item, '']; \n});\nreturn i;","note":"by regexfan1245\n28-11-21 (PM)\n+\nhttps://www.reddit.com/r/imagus/comments/r5b0ic/sieve_for_stripdircom/\n\n\nПРИМЕРЫ / EXAMPLES:\nhttp://www.stripdir.com/sd/?view=today100\nhttp://www.stripdir.com/sd/?view=recent100"},"O_Super-H.fr":{"img":"^(img.super-h.fr/images/[0-9a-f]+)\\.(md|th)\\.(\\w+)","to":"$1.$3","note":"by mooms01\nhttps://www.reddit.com/r/imagus/comments/vlyl5u/sieve_for_imgsuperhfr_and_rehostdiberiecom\n\nEXAMPLES:\nhttps://forum.hardware.fr/hfr/Discussions/Viepratique/hebergement-gratuit-anonyme-sujet_118598_28.htm#t65791920"},"O_Twitch.tv_clips":{"link":"^(?:clips\\.twitch\\.tv/(?:embed\\?clip=)?|(?:m\\.)?twitch\\.tv/(?:\\w+/)?clip/)([\\w-]+).*","url":": ''","res":":\nvar p = this,x = new XMLHttpRequest\nx.open('POST', 'https://gql.twitch.tv/gql')\nx.timeout = 3000\nx.setRequestHeader('Client-ID', 'kimne78kx3ncx6brgo4mv6wki5h1ko')\nx.send('[{\"operationName\":null,\"variables\":{},\"query\":' + JSON.stringify('{clip(slug:\"' + $[1] + '\"){broadcaster{displayName} createdAt game{name} video{id} title}}') + '},{\"operationName\":\"VideoAccessToken_Clip\",\"variables\":{\"slug\":\"' + $[1] + '\"},\"extensions\":{\"persistedQuery\":{\"version\":1,\"sha256Hash\":\"36b89d2507fce29e5ca551df756d27c1cfe079e2609642b4390aa4c35796eb11\"}}}]');\nx.onloadend = function() {\n const response = JSON.parse(this.responseText);\n const c = response[0].data.clip;\n const c2 = response[1].data.clip;\n const signature = c2.playbackAccessToken.signature;\n const token = JSON.parse(c2.playbackAccessToken.value);\n p.prepareCaption(p.node, '[' + (c.game && c.game.name) + '] ' + [c.title, c.broadcaster && c.broadcaster.displayName, (new Date(c.createdAt)).toLocaleString(), c.video && 'https://twitch.tv/videos/' + c.video.id].filter(Boolean).join(' | '));\n p.set(c2.videoQualities.map(function(v, i) { return (i ? '' : '#') + (v.sourceURL + '?sig=' + signature + '&token=' + encodeURIComponent(JSON.stringify(token)))}));\n}\nreturn null","note":"by Top_Fuel\nhttps://www.reddit.com/r/imagus/comments/nlqxa6/comment/gzmswp3\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/r/TwitchClips/\nhttps://www.reddit.com/domain/clips.twitch.tv/"},"O_Vimeo":{"link":"^(.*\\.)?vimeo\\.com\\/(?!($|for-|user\\d|groups(?!.*\\/videos\\/\\d)|.*?\\/(collections|likes)|((?!\\d+\\/?($|\\?))[^\\/]*?)?(\\/?$|\\?|#)|channels(?!\\/(.*?\\/\\d+))|(((categories|showcase|videoschool|watch|live|log.?in|faq|join|blog|pro|s|help|staff|hc|stock|solutions|settings|features|enterprise|vicdigital|ondemand|store|up(grade|load)|create|cart|ott|site|domain|jobs|about|terms|privacy|dmca|cookie_policy))($|\\/|\\?|#)))).*","loop":1,"res":":\nlet url;\nconst json = $._.match(/^\\{/);\nif (json)  {\n  url = JSON.parse($._);\n  const qualities = url.request.files.progressive;\n  let res = qualities[0].width;\n  url = qualities[0].url;\n  for (let i = 0; i < qualities.length; i++) {\n    if (qualities[i].width > res) {\n      res = qualities[i].width;\n      url = qualities[i].url;\n    }\n  }\n  return url;\n} else {\n  const config = $._.match(/config_url\":\".*?\"/);\n  if (config) {\n    url = config[0].replace(/config_url\":\"(.*)?\"/, '$1').replace(/\\\\\\//g, '/');\n    return url;\n  } else {\n    const embedConfig = $._.match(/\"progressive\":\\[.*?\\]/);\n    if (embedConfig) {\n      const configJSON = embedConfig[0].replace(/\"progressive\":(\\[.*?\\])/, '$1');\n      const qualities = JSON.parse(configJSON);\n      let res = qualities[0].width;\n      url = qualities[0].url;\n      for (let i = 0; i < qualities.length; i++) {\n        if (qualities[i].width > res) {\n          res = qualities[i].width;\n          url = qualities[i].url;\n        }\n      }\n      return url;\n    } else {\n      let chanVidID = $._.match(/ content=\"https:\\/\\/vimeo\\.com\\/channels\\/.*?\\/\\d+\"/);\n      if (chanVidID) {\n        chanVidID = chanVidID[0].replace(/.*\\/channels\\/.*?\\/(\\d+)\"/, '$1');\n        const regex = new RegExp(`data-config-url=\".*?\\\\/${chanVidID}.*?\"`) \n        const chanVidConfig = $._.match(regex);\n        if (chanVidConfig) {\n          url = chanVidConfig[0].replace(/data-config-url=\"(.*?)\"/, '$1').replace(/&amp;/g, '&');\n          return url;\n        }\n      }\n    }\n  }\n}","note":"by narcoder\nhttps://www.reddit.com/r/imagus/comments/j2p0ng/a_sieve_for_vimeo_videos/\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/vimeo.com/"},"O_Vitacost.com":{"img":"^(vitacost\\.com/Images/Products/)\\d+","to":"$11000","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/cmt5zz/comment/ewj5s52\n\nEXAMPLES\nhttps://www.vitacost.com/just-for-you\nhttps://www.vitacost.com/productResults.aspx?N=0&Ntt=lutein&Ns=P_ProductRating|1||P_SoldQuantity|1"},"O_Wallmart":{"img":"^(i\\d\\.walmartimages\\.com/[^?]+).+","to":"$1","note":"snmahtaeD\nhttps://www.reddit.com/r/imagus/comments/fdqbls/comment/fjkohxy\n\n!!!\nВ РФ нужен прокси.\n\nEXAMPLES\nhttps://www.walmart.com/search?page=1&query=meat+grinder&sort=price_high\nhttps://www.walmart.com/browse/cell-phones/samsung-galaxy-phones/1105910_7551331_1986562"},"O_Willhaben.at":{"link":"^willhaben\\.at\\/iad\\/(.*\\/d|realestate)\\/.*","res":":\nlet results = [];\nif ($[1] === \"gebrauchtwagen/d\" | $[1] === \"immobilien/d\" ) {\n  const regEx = /\"description\":(?:\"([^\"]*)\"|null)[^}]*referenceImageUrl\":\"([^\"]*)/g;\n  const matches = [...$._.matchAll(regEx)];\n  if (matches.length) {\n    const backupCaption = matches[0][1];\n    results = matches.map(match => [match[2], match[1] || backupCaption]);\n  }\n} else {\n  const regEx = /\"image\":\"([^\"]*)\"[^}]*description\":\"([^\"]*)/g;\n  const matches = [...$._.matchAll(regEx)];\n  if (matches.length) {\n    results = matches.map(match => [match[1], match[2]]);\n  } else {\n    const parser = new DOMParser();\n    const html = parser.parseFromString($._, \"text/html\");\n    const img = html.getElementsByClassName(\"sg-image\")[0];\n    results = [img.getAttribute(\"src\"), img.getAttribute(\"alt\")];\n  }\n}\nreturn results;","note":"imocan\nhttps://www.reddit.com/r/imagus/comments/jrqtxt/update_sieve_for_willhabenat\n\n!!!\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES:\nhttps://www.willhaben.at/iad/kaufen-und-verkaufen/l/pullex\nhttps://www.willhaben.at/iad/kaufen-und-verkaufen/marktplatz/damen-jacken-maentel/winterjacken-3328/a/zustand-neu-22?PRICE_FROM=20&treeAttributes=23&treeAttributes=2546\nhttps://www.willhaben.at/iad/kaufen-und-verkaufen/marktplatz?keyword=ikea&topicId=1001"},"O_YouJizz.com":{"link":"(.*\\.)?youjizz.com\\/videos\\/.*-(.*?)\\.html.*","url":"https://www.youjizz.com/videos/embed/$2","res":":\nconst url = $._.match(/dataEncodings.*?filename\\\":\\\".*264\\.mp4\\?.*?\\\"/)[0].replace(/dataEncodings.*(\\\\\\/\\\\\\/.*?)\\\"/, '$1').replace(/\\\\\\//g, '/');\n\nreturn `https:${url}`;","note":"by papadocTOMP\nhttps://www.reddit.com/r/imagus/comments/iv556b/nsfw_bunch_of_sieves_for_popular_adult_site_videos/\n\n!!!\nВ РФ нужен прокси."},"O_YouTube":{"useimg":1,"link":"^(?:(?:(?:(?:\\w+\\.)?[yY][oO][uU][tT][uU][bB][eE](?:-nocookie|kids)?\\.com|youtube\\.googleapis\\.com)/(?:.*?\\#/)?(?:(?:(?:v|embed|e|shorts)/(?!videoseries|live_stream))|(?:(?:(?:watch|movie)(?:_popup)?(?:\\.php)?/?)?(?:\\?|\\#!?)(?:.*?[&;])??v=)))|youtu\\.be/)([0-9A-Za-z_-]{11})(?:\\?(thumb\\b))?(?:[?&](?:star)?t=(\\d+(?:\\.\\d+)?)s?)?(?:&end=(\\d+(?:\\.\\d+)?)s?)?.*$","url":"https://www.youtube.com/embed/$1?$2&$3&$4","res":":\n// true = show thumbnail first, video second\n// false = show thumbnail last\nvar thumb_first = true;\n\nthumb_first = thumb_first || $[2];\n\nvar d, e, f={}, g=false, cipher, decsig, o, mfr, ps, basejs;\n\nx = new XMLHttpRequest\nx.open('GET', 'https://www.youtube.com' + JSON.parse($._.match(/\\\"[^\\\"]+player_ias[^\\\"]+\\/base.js\\\"/)[0]), false)\nx.send()\nbasejs = x.responseText\n\nconst escapeRegExp = s => s.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\nconst parseunthrottle = data => {\n const fnnameresult = /\\.get\\(\"n\"\\)\\)&&\\(b=([^(]+?)(?:\\[(\\d+)\\])?\\([a-zA-Z0-9]\\)/.exec(data)\n var fnname = fnnameresult[1]\n if(fnnameresult[2]) fnname = new RegExp('var ' + escapeRegExp(fnname) + '\\\\s*=\\\\s*\\\\[(.+?)\\\\];').exec(data)[1].split(',')[parseInt(fnnameresult[2])]\n const _argnamefnbodyresult = new RegExp(escapeRegExp(fnname) + '=function\\\\((.+?)\\\\){(.+?return b\\\\.join\\\\(\"\"\\\\))};', 's').exec(data)\n const [_, argname, fnbody] = _argnamefnbodyresult\n return new Function([argname], fnbody)\n}\nunthrottle = parseunthrottle(basejs)\nfunction nt(s) {\n var u = new URL(s)\n var p = u.searchParams\n var n = p.get('n')\n if(!n) return s\n p.set('n', unthrottle(n))\n u.search = p.toString()\n return u.toString()\n}\n\nconst api_key = 'AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8'\nconst client_ver = '2.20211221.00.00'\nconst sigtime = Number(basejs.match(/signatureTimestamp\\s*:\\s*(\\d+)/)[1]);\nconst vid = $[1];\nfunction player_response(embed){\n x.open('POST', 'https://www.youtube.com/youtubei/v1/player?key=' + api_key, false)\n x.setRequestHeader('Content-Type', 'application/json')\n var data = {\n  context: {\n   client: {\n    clientName: 'WEB',\n    clientVersion: client_ver\n   }\n  },\n  videoId: vid,\n  playbackContext: {\n   contentPlaybackContext: {\n    signatureTimestamp: sigtime,\n    html5Preference: 'HTML5_PREF_WANTS'\n   }\n  },\n  contentCheckOk: true,\n  racyCheckOk: true\n }\n if(embed === 'agegate') data.context.client.clientScreen = 'EMBED'\n if(embed === 'embed') data.context.client = { clientName: 'TVHTML5_SIMPLY_EMBEDDED_PLAYER', clientVersion: '2.0' }\n if(embed) data.context.thirdParty = { embedUrl: 'https://www.youtube.com/' }\n x.send(JSON.stringify(data))\n o = JSON.parse(x.responseText)\n mfr = o.microformat || mfr\n ps = o.playabilityStatus\n return ps.status === 'OK'\n}\nfor(let i of [null, 'embed', 'agegate']) if(player_response(i)) break;\n\nif(['ERROR', 'LOGIN_REQUIRED'].indexOf(ps.status) != -1) return [ps.errorScreen.playerErrorMessageRenderer.thumbnail.thumbnails[0].url, '['+ps.status+', '+ps.reason+']'];\nvar q=o.videoDetails, r=mfr.playerMicroformatRenderer;\nvar p=q.title, u=parseInt(q.lengthSeconds), t=r.title.simpleText, h=r.thumbnail.thumbnails[0].url;\nvar ss=u % 60, mm=(u - ss) / 60 % 60, hh=(u - ss - mm * 60) / 3600;\nvar rt=Number(q.averageRating)\nvar c=[p, p !== t && t, q.author, r.publishDate, rt&&((rt<3 ? '🖓 ' : '🖒 ')+rt.toFixed(2)), '👁 '+(q.viewCount|0).toLocaleString(), (hh === 0 ? '' : hh + ':') + ('0' + mm).slice(-2) + ':' + ('0' + ss).slice(-2), q.shortDescription].filter(Boolean).join(' | ')\nif(ps.status !== 'OK') return [h, '['+ps.status+', '+ps.reason+'] ' + c];\nvar fs = o.streamingData.formats;\nif (!fs) return [h, '[No streamingData.formats, probably livestreaming] ' + c];\nfs.forEach(function(format){\n if (format.url) { f[format.itag] = nt(format.url); return;}\n cipher = new URLSearchParams(format.signatureCipher)\n if (cipher.get('sig')) { f[format.itag] = `${cipher.get('url')}&signature=${cipher.get('sig')}`; return;}\n g=true;\n});\nif (g) {\n try {\n  c = '*' + c\n  const parseDecsig = data => {\n   if (data.startsWith('var script')) {\n    // they inject the script via script tag\n    const obj = {}\n    const document = {\n     createElement: () => obj,\n     head: { appendChild: () => {} }\n    }\n    eval(data)\n    data = obj.innerHTML\n   }\n   const fnnameresult = /=([a-zA-Z0-9\\$]+?)\\(decodeURIComponent/.exec(data)\n   const fnname = fnnameresult[1]\n   const _argnamefnbodyresult = new RegExp(escapeRegExp(fnname) + '=function\\\\((.+?)\\\\){(.+?)}').exec(data)\n   const [_, argname, fnbody] = _argnamefnbodyresult\n   const helpernameresult = /;(.+?)\\..+?\\(/.exec(fnbody)\n   const helpername = helpernameresult[1]\n   const helperresult = new RegExp('var ' + escapeRegExp(helpername) + '={[\\\\s\\\\S]+?};').exec(data)\n   const helper = helperresult[0]\n   return new Function([argname], helper + '\\n' + fnbody)\n  }\n  decsig = parseDecsig(basejs)\n } catch (ex) {\n   console.error(ex)\n }\n fs.forEach(function(format){\n  if (f[format.itag]) return;\n  cipher = new URLSearchParams(format.signatureCipher)\n  f[format.itag] = nt(`${cipher.get('url')}&${cipher.get('sp') || 'signature'}=${decsig(cipher.get('s'))}`)\n });\n}\ne = f[37] || f[22] || f[18] || f[59] || f[78] || f[46] || f[45] || f[44] || f[43];\nd = f[18] || f[59] || f[78] || f[46] || f[45] || f[44] || f[43] || f[37] || f[22];\nvar ct = ($[3] ? '#t='+$[3]+($[4] ? ','+$[4] : '')+'&' : '')+'#mp4';\ne = e ? (d === e ? [[e+ct, c]] : [[e+ct, c], [d+ct, c]]) : e\nreturn e ? (thumb_first ? [[h, c]].concat(e) : e.concat([[h, c]])) : [h, c]","img":"^i(?:\\d|mg)?\\.ytimg\\.com/(?:vi|an_webp)[^/]*/([\\w\\-]{11})/(?:[\\w]+?)\\.(?:\\w+)","loop":2,"to":"www.youtube.com/embed/$1?thumb","note":"Dulus_No\nhttps://www.reddit.com/r/imagus/comments/uldmok/comment/iswnqal\nOLD\nhttps://www.reddit.com/r/imagus/comments/uldmok/comment/irfqcue\nhttps://www.reddit.com/r/imagus/comments/r19duk/super_slow_youtube_loading_and_buffering_time_on/hlyczin\nhttps://www.reddit.com/r/imagus/comments/nccjcp/youtube_no_longer_working/\n\n!!!\nОсновной фильтр для YouTube, по умолчанию - включен.\n+\nПоказывает сначала полноразмерную обложку ролика, потом - видео в разрешении 720p и далее - видео в более низком разрешении. Переключение режимов происходит колесиком мыши, по принципу альбома. Можно поменять этот порядок - сначала видео, потом картинка - установив в параметрах фильтра var thumb_first = false.\n+\nПри выборе этого фильтра старый дефолтный фильтр [youtube] должен быть отключен.\n+\nДля более надежного срабатывания рекомендуется установка расширения Ublock Origin и фильтров для него (вкладка \"Мои фильтры\"):\nyoutube.com###preview,[is-preview-loading]\nyoutube.com###hover-overlays\nyoutube.com###mouseover-overlay\n+\nДля перемотки видео (в режиме \"зумирования\") можно использовать сочетание клавиш CTRL+RIGHT / CTRL+LEFT.\n+\nФильтр работает в т.ч. и на внешних ссылках - но для Хромиум-браузеров требуется установка расширения SMH и правил к нему - см. FAQ, п.11.\n+\nИзвестные ограничения:\n1. Не показывает ролики разрешением выше 720p.\nhttps://www.reddit.com/r/imagus/comments/4jmost/comment/d3ffsmu\n2. Не показывает некоторые ролики с возрастным ограничением.\nhttps://github.com/yt-dlp/yt-dlp/pull/575#issuecomment-888837000.\n==\nBasic rule for YouTube, enabled by default.\n+\nShows first a full-size cover of the video, then a 720p video and then a lower-resolution video. Switching modes occurs with the mouse wheel, according to the principle of the album. You can change this order - first the video, then the picture - by setting var thumb_first = false in the sieve parameters.\n+\nWhen selecting this rule, the old default rule [youtube] should be disabled.\n+\nFor more reliable operation, it is recommended to install the uBO (uBlock Origin) extension and the filters for it (on the \"My filters\" tab):\nyoutube.com###preview,[is-preview-loading]\nyoutube.com###hover-overlays\nyoutube.com###mouseover-overlay\n+\nTo rewind the video (in the \"zoom\" mode), you can use the keyboard shortcut CTRL+RIGHT / CTRL+LEFT.\n+\nThe rule works on external links for Firefox, but for Chromium browsers the SMH extension and its rules must be installed - see FAQ, p.11.\n+\nKnown limitations:\n1. Only displays videos at 720p.\nhttps://www.reddit.com/r/imagus/comments/4jmost/comment/d3ffsmu\n2. Age-gated tier 4 from can't be bypassed.\nhttps://github.com/yt-dlp/yt-dlp/pull/575#issuecomment-888837000.\n\n\nПРИМЕРЫ / EXAMPLES:\n(внешние ссылки / external links)\nhttps://www.reddit.com/domain/youtube.com/\nhttps://www.reddit.com/r/imagus/comments/r19duk/comment/hxfd2pa"},"O_YouTube_clip_redirect":{"link":"(?:www\\.)?youtube\\.com/clip/","loop":1,"res":":\nvar u = $._.match(/(?:<link itemprop=\"embedUrl\" href=\"|<meta (?:property=\"og:video:(?:secure_)?url\"|name=\"twitter:player\") content=\")(https?:\\/\\/www\\.youtube\\.com\\/embed\\/[0-9A-Za-z_-]{11})/)[1]\nvar c = $._.match(/\"clipConfig\"\\s*:\\s*{([^}]+)}/)[1]\nvar s = Number(c.match(/\"startTimeMs\"\\s*:\\s*\"(\\d+)\"/)[1]) / 1000\nvar e = Number(c.match(/\"endTimeMs\"\\s*:\\s*\"(\\d+)\"/)[1]) / 1000\nreturn u + '?start=' + s.toFixed(3) + '&end=' + e.toFixed(3)","note":"by Dulus_No\nhttps://www.reddit.com/r/imagus/comments/r19duk/comment/hzvi9jd\nOLD:\nhttps://www.reddit.com/r/imagus/comments/r19duk/comment/hxfqz6p\n\nEXAMPLES:\nhttps://www.reddit.com/r/imagus/comments/r19duk/comment/hxfd2pa"},"[_dereferers_]":{"link":"^[^/]{3,70}/\\??(https?:[^?#]+\\.(?:jpe?g|a?png|gifv?|bmp|svgz?|web[pm]|og[gv])).*","ci":1,"dc":1,"loop":1,"to":"$1"},"1x.com":{"useimg":1,"link":"^1x\\.com/photo/(\\d+)","res":":\nvar r = $._.match(RegExp(\"\\\\('\"+ $.url[0].match(/[^\\/]\\/(\\d+)/)[1] +\"','(?:\\\\w*',')+?/(images/user/[\\\\da-f]{32}[^']+)\"));\nreturn r && $.base.slice(0,$.base.indexOf('/',13)+1) + r[1];","img":"^(1x\\.com/images/user/[\\da-f]{32}-)(?:s[dq]|ld)(?=\\.)","to":"#$1#hd2 hd4 sd2 sd4#\n$1sd","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade."},"4chan.org":{"img":"^(i\\.4cdn\\.org/[\\da-z]+/\\d+)s\\..*","to":"$1.#jpg png webm gif#"},"23hq.com":{"useimg":1,"link":"^23hq\\.com/[^/]+/photo/\\d+(\\?.*)?$","res":"<img id=\"fn_img\" src=\"([^\"]+)\"","img":"^(23hq\\.com/\\d+/\\d+_[\\da-f]{32}_)(?!large)[^\\.]+","to":"$1large1k","note":"ПРИМЕРЫ / EXAMPLES:\nhttp://www.23hq.com/-name-/photo/-id-/original|large"},"AliExpress+Taobao":{"img":"^((?:img[^.]*|g(?:[^.]*\\.?){1,2}?|asearch|\\w\\w\\d\\d)\\.(?:taobao|tb|ali)cdn\\.c(?:om|n)/)(.+)_\\d+x\\d+.+","to":"$1$2"},"Aminus3.com":{"img":"^((?:aminus3(?:\\.s3\\.amazonaws)?|img\\.aminus2)\\.com/image/g\\d+/u\\d+/i\\d+/[\\da-f]{32}_)(?!large)[^\\.]+(.+)","to":"$1giant$2"},"AnandTech.com":{"img":"^(images\\.anandtech\\.com/[^/]+/\\d+/[^?]+)_(?:thumb|\\d+px|\\d+x\\d+|carousel)","to":"$1"},"AOL":{"img":"^([os]\\d?\\.aolcdn\\.com/(?:(?:images/)?dims|hss|photo)(?:[^/]*/|\\?(?:[^&]*&)*?image_uri=([^&]+)).*|r\\.search\\.aol\\.com/(?:[^/]+/)*?RU=(http[^/]+).*)","dc":2,"loop":2,"to":":\nif($[2]||$[3])return $[2]||$[3]\nvar m=$[1].match(/(https?)(?::\\/\\/?|%3A(?:%2F){1,2})(?!.+https?:\\/)(.+)/)\nreturn m ? m[1]+'://'+m[2] : $[1]"},"apod.NASA.gov":{"link":"^apod\\.nasa\\.gov/apod/(?:a(?:stropix|p\\d{6})\\.html)?$","res":":\nvar i=$._.match(/<br>\\s*<a href=\"(image\\/[^\"]+)\"[^<]+<img src=\"([^\"]+)/i);\nreturn i && [[[\"#\" + $.base + i[1], $.base + i[2]], $._.match(/Explanation:?\\s*<\\/[^>]+>:?\\s*([\\s\\S]+?)<p>/)[1].trim().replace(/<[^>]+>/g, '')]] || null;","note":"EXAMPLES:\nhttps://apod.nasa.gov/apod/binary_stars.html\nhttps://apod.nasa.gov/apod/milky_way.html"},"Archived.moe":{"link":"^archived\\.moe/\\w{1,5}/redirect/","res":"; url=([^\"]+)","note":"!!!\nВ РФ может понадобиться прокси.\n\n!!!\nДля корректной работы необходимо правило для SMH (см.ЧаВо, п.11).\n==\nTo work correctly, you need a rule for SMH (see FAQ, p.11).\n\n\nEXAMPLES:\nhttps://archived.moe/h/thread/6528287/"},"ArtLimited.net":{"img":"^(artlimited\\.net/+(?:user/(?:\\d/){7}|picbase/news/|agenda/image/)artlimited_[^_]+)_[^.]+","to":"$1","note":"!!!\nВ некоторых странах может понадобиться прокси.\n==\nIn some countries, you may need a proxy.\n\n\nEXAMPLES:\nhttps://www.artlimited.net/painting\nhttps://www.artlimited.net/design"},"Ask.fm":{"useimg":1,"link":"^ask\\.fm/[^/]+/answers?/\\d+/photo","res":"\" src=\"([^\"]+)\"","img":"^((?:(?:d2hhj3gz5jljkm|dok7xy59qfw9h)\\.cloudfront\\.net|(?:ak)?(?:photo|img)\\d\\.ask\\.fm)/[^.]+/)[^/]+(/\\w+\\.)","to":"$1#large original normal#$2"},"Baidu":{"img":"^((?:imgs\\w+|[a-z].hiphotos)\\.baidu\\.com/(?:forum|image)/)[^=]+=[^/]+/([\\da-f]{40}.+)","to":"$1pic/item/$2"},"Baidu_images":{"link":"^image\\.baidu\\.com/(?:i|search/detail)/?\\?(?:[^&]*&)*objurl=([^&]+).*","dc":1,"loop":1,"to":"$1"},"BakaSHOTS.me":{"img":"^(bakashots\\.me/[\\w-]{10,}=?=?)[./].+","to":"$1"},"BBC":{"img":"^(ichef(?:-\\d+)?\\.bbci\\.co\\.uk/news/)\\d+","to":"$12048","note":"!!!\nAs a workaround you can add a filter to your blocker: \nwww.bbc.com##a::after\nhttps://www.reddit.com/r/imagus/comments/j9gn22/comment/ga14d6b"},"bcy.net":{"img":"^(?:(?:user|img\\d)\\.bcyimg|img-bcy-qn\\.pstatp|p\\d-bcy\\.byteimg)(\\.com/)(?:img/[^/]+/)?([^.]+\\.\\w+).*","to":"img-bcy-qn.pstatp$1$2","note":"!!!\n(нужна поддержка альбомов + видео)\n==\n(need personal albums & video support)\n\n\nEXAMPLES:\nhttps://bcy.net/illust\nhttps://bcy.net/coser"},"Bild.de":{"img":"^(bilder\\.bild\\.de/fotos)-skaliert(/[^/]+/)(\\d+),(?!h=2000)[^.]+","to":"$1$2Bild/$3"},"Bing":{"useimg":1,"link":"^(bing\\.com/images/search\\?)(?:q|view)=(?:[^&]*&)+id=([\\dA-F]{40}).*","loop":3,"url":": $[0].indexOf('mediaurl=h')>0 ? '' : $[1] + 'view=detailV2&id=' + $[2]","res":":\nvar m = $[0].match(/mediaurl=(http[^&]+)/);\nif(m)return decodeURIComponent(m[1])\nm = $._.match(/class=\"mainImage\"[^>]+?src2=\"([^\"]+)/)\nif(m)return m[1]\nm = document.evaluate('./ancestor-or-self::a[contains(@m, \"imgurl\") or contains(@m, \"murl\")]/@m',this.node,null,2,null).stringValue\nreturn m && JSON.parse(m).imgurl || null","img":"^(tse[\\d-]+\\.mm\\.bing\\.net/th\\?id=[^&]+).*","to":":\nvar m = document.evaluate('./ancestor-or-self::a[contains(@m, \"imgurl\") or contains(@m, \"murl\")]/@m', this.node ,null,2,null).stringValue\nm = m && JSON.parse(m);\nm = m && (m.imgurl||m.murl)\nreturn (m ? m + '\\n' : '') + $[1]"},"Ceneo.pl":{"img":"^(image\\.ceneo\\.pl/data/products/\\d+/)[^i]","to":"$1i"},"Chromium.org_bugs":{"img":"^(bugs\\.chromium\\.org/p/chromium/issues/attachment\\?aid=\\d+(?:&[^&]+)*?&inline=[^&]+).*","to":"$1"},"ClippitUser.tv":{"link":"^(clippit)user\\.tv/c(/\\w{6}).*","img":"^clips.(clippit).tv(/\\w{6})/thumbnail.*","to":"#//clips.$1.tv$2/720.mp4\n//clips.$1.tv$2/360.mp4","note":"EXAMPLES:\nhttps://www.reddit.com/domain/clippituser.tv/"},"Couchsurfing.com":{"img":"^tcdn\\.couchsurfing\\.com/[\\w=-]+/(?:[^/]+/)*?(https://s\\d*\\.amazonaws\\.com/.+)","to":"$1"},"craigslist.org":{"link":"^[^.]+\\.(craigslist\\.[a-z]{2,3}/[^.]+/\\d+)\\.html","res":":\n$ = $._&&$._.match(/data-imgid=\"[^\"]+\" href=\"([^\"]+)/g)\nvar f=this.find, s = this.node.matches('img[src*=\"images.craigslist.org\"]') && this.node.src\nreturn $ && $.map(function(x){\n x=x.slice(x.lastIndexOf('\"') + 1)\n return [f({src: x})]\n}) || s && this.find({src: s}) || !1","img":"^(images\\.craigslist\\.org/\\w+_\\w+_)(?!1200x900)[^.]+","to":"$1#1200x900 600x450#"},"danbooru.donmai.us":{"link":"^(?:(?:safe|dan)booru\\.|hijiribe\\.|sonohara\\.)?(donmai\\.us)/post(?:s|/show)/(\\d+).*","url":"//danbooru.$1/posts/$2.json","res":":\nvar x = JSON.parse($._);\nreturn x&&x.file_url ? [x.file_url, (x.tag_string_general + (x.tag_string_artist ? ' by ' + x.tag_string_artist : '')).replace(/_/g, \" \")] : null","img":"^((?:(?:safe|dan)booru\\.|hijiribe\\.|sonohara\\.)?donmai\\.us/data/)[^/]+/(?:sample-)?([\\da-f]{32}\\.).+","to":"#$1$2#jpg png gif webm#\n$1sample/sample-$2#jpg png gif#","note":"!!!\nВ РФ нужен прокси."},"Daz3D.com":{"link":"^daz3d\\.com/[\\da-z-]+$","res":":\nvar r = $._.match(/data-fancybox-href=\"([^\"]+)/g) || !1, t = $._.match(/<h1>([^<]+)</)\nreturn r && r.map(function(x, i){\n return [x.slice(20).replace(/-thumb(-daz3d)/, '-main$1'), !i && t && t[1]]}\n)","img":"^daz3d\\.com/cdn-cgi/image/[^/]+/(https:.+)","to":":\nreturn $[1].replace(/-thumb(-daz3d)/, '-main$1')","note":"https://www.reddit.com/r/imagus/comments/jssrfx/daz3dcom_has_stopped_working/\n\n!!!\nВ РФ нужен прокси.\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.daz3d.com/animals-and-creatures\nhttps://www.daz3d.com/people-and-wearables"},"DirectUpload.net":{"useimg":1,"link":"^(?:s\\d+\\.)?directupload\\.net/file/[a-z]/\\d+/","res":"\"og:image\" content=\"([^\"]+)\n\"og:description\" content=\"([^\"]+)","img":"^((?:f?s\\d+b?\\.)?directupload\\.net/images/(?:user/)?\\d+/)temp/","to":"$1","note":"ПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/directupload.net/\nhttps://forum.mozilla-russia.org/viewtopic.php?pid=781530#p781530"},"Discord_profile_pict":{"img":"^(cdn\\.discordapp\\.com/(?:icons|avatars)/\\d+/[^?]+).*","to":"$1?size=4096"},"Douban.com":{"img":"^(img\\d+\\.douban(?:io)?\\.com/)(?:(view/|img/)(?:photo|movie_poster_cover|(thing_review|commodity_story|celebrity))/(?!large)[^/]+|(icon/u(?=\\d))|[sm](?=pic/))","to":":\nreturn $[1] + ($[2] ? $[2] + ($[3]||'photo') + '/#large photo#' : (($[4]||'') + 'l'));","note":"EXAMPLES:\nhttps://movie.douban.com\nhttps://www.douban.com/photos/album/82722476/\nhttps://www.douban.com/gallery/topic/3345004/?_dtcc=1"},"DPChallenge.com":{"img":"^(images\\.dpchallenge\\.com/images_[^/]+/\\d+-\\d+/\\d+/)120/","to":"$1800/"},"Dropbox.com":{"link":"^(dropbox\\.com/[su]h?/[^?]+\\.(?:jp(?:g|eg?)|a?png|gif|svgz?|bmp|web[pm]|og[gv]|j(?:if|fif?))).*","ci":1,"to":"https://dl.$1","note":"EXAMPLES:\nhttps://www.reddit.com/domain/dropbox.com"},"E-Hentai.org":{"link":"^(?:g\\.e-|e[x-])hentai\\.org/s/[\\da-f]+/\\d+-\\d+$","res":"<img id=\"img\" src=\"([^\"]+)\n<title>([^<]+)"},"etsy.com":{"img":"^(i(?:mg\\d*)?\\.etsystatic\\.com/[^_]*/i[^_]+_)\\d+x[\\dN]+","to":"$1fullxfull","note":"!!!\nВ РФ может понадобиться прокси.\n\nEXAMPLES:\nhttps://www.etsy.com/c/home-and-living/furniture/bedroom-furniture?ref=catnav-891\nhttps://www.etsy.com/search?q=handmade+clothing&mosv=sese&moci=1069619756788"},"Facebook":{"link":"^(?:(?:m(?:basic)?\\.)?facebook\\.com/(?:photo(?:/download/|\\.php|s/\\w+/|\\/)\\?(?:fb|photo_)id=|([^/]+/photos/)(?:[a-z]+\\.[^/]+/)?)|lookaside\\.fbsbx\\.com/lookaside/crawler/media/\\?media_id=)(\\d+).*","url":": (this.node.dataset||{}).ploi || (((this.node.parentNode || {}).dataset) || {}).ploi ? '' : 'https://www.facebook.com/' + ($[1] ? $[1] + $[2] : 'photo.php?fbid=' + $[2])","res":":\nif($._===void 0)return this.node.dataset.ploi||this.node.parentNode.dataset.ploi\nvar u=$._.match(RegExp('='+($[2]||$[1])+'(?:[^\">]+\"\\\\s+)+?data-ploi=\"([^\"]+)')) || $._.match(RegExp(',\"image\":{\"uri\":\"(https:[^\"]+)')) || $._.match(/=\"og:image\" content=\"([^\"]+)/)\nreturn u && u[1].replace(/\\\\/g, '') || !1","img":"^(?:fbcdn-s?photos[\\da-z-]+\\.akamaihd|s?(?:content|photos|origincache)[^/]+\\.fbcdn)\\.net/(?!h?vthumb-)[^_?]+/\\d+_(\\d+).*","loop":2,"to":":\nif($[0].indexOf('.mp4?')>0)return''\nvar p=this.node\nif(window.location.hostname.slice(-13)=='.facebook.com' && (document.evaluate('./ancestor::div[contains(@class, \"stageWrapper\")]', p, null, 9, null).singleNodeValue || p.matches('.UFICommentContent>div[data-testid], a>abbr>span.timestampContent, #fbProfileCover>a:first-child')))return''\np=p.pathname||(p=p.parentNode)&&p.pathname||(p=p.parentNode)&&p.pathname\np=p&&p.match(/^\\/([\\w.-]+)\\/?$/)\nreturn 'https://facebook.com/' + (p?p[1].replace(/^\\w+-(\\d{8,})$/, '$1')+'/photos/' : 'photo.php?fbid=') + $[1]"},"fastly.net":{"img":"^([^.]{2,20}\\.global\\.ssl\\.fastly\\.net/[^?]+\\.(jpe?g|gif|a?png))\\?.+","to":"$1"},"fb-g+-ddg-proxy":{"img":"^(?:(?:(?:fbexternal-[a-z]\\.akamaihd|(?:s-|fb)?external[^.]*(?:\\.[-\\da-z]+)+?\\.fbcdn|platform\\.ak\\.fbcdn)\\.net|(?:l\\.)?facebook\\.com)/(?:safe_image|www/app_full_proxy|(l))\\.php|images\\d-focus-opensocial\\.googleusercontent\\.com/gadgets/proxy|^(?:images|external-content|proxy)\\.duckduckgo\\.com/iu/)\\?(?:[^&]+&)*?(?:u(?:rl)?|src)=(http[^&]+).*","to":":\nvar u=decodeURIComponent($[2].replace(/\\+/g,' ')),n\nthis.node.IMGS_fallback_zoom=u\nn=this.find({href: u, IMGS_TRG: this.node})\nreturn n&&typeof n!='number'||n===null? (Array.isArray(n) ? n.join('\\n') : n) : ($[1]?'':u)"},"FireFox_screenshots":{"link":"^screenshots\\.firefox\\.com/.+","res":":\n$=JSON.parse($._.match(/\">({\"[^\\n]+)</)[1])\nreturn [$.downloadUrl.replace(/\\?.*/, ''), [$.buildTime, $.title, $.urlIfDeleted].join(' | ')]"},"Flic.kr":{"link":"^flic\\.kr/p/\\w","res":"(?:=\"og:image\" content|id=\"target\" src)=\"([^\"]+)\n<title>([^|]+)","note":"EXAMPLES:\nhttps://www.reddit.com/domain/flic.kr/"},"foursquare.com":{"img":"^(i(?:gx|r?s\\d)\\.4sqi\\.net|playfoursquare\\.s3\\.amazonaws\\.com)(?:(/img/(?:general|user)/)(?!original/)[^/]+|(/userpix)_thumbs?/)","to":":\nreturn $[1] + ($[2] ? $[2] + 'original' : $[3] + '/');"},"furaffinity.net":{"link":"^furaffinity\\.net/view/(\\d+)/$","url":"//www.furaffinity.net/full/$1/","res":"data-fullview-src=\"([^\"]+)\n<title>([^<]+?) --","img":"^t\\.facdn\\.net/(\\d+)@.+"},"furrynetwork.com":{"link":"^((?:beta\\.)?furrynetwork\\.com/)((?:artwork|photo|multimedia)/\\d+).*","url":"$1api/$2","res":":\n$._=JSON.parse($._)\nreturn [[$._.record_type[0]=='m' ? $._.url : ['#'+$._.images.original, $._.images.large], $._.title + ' by ' + $._.character.display_name]]","img":"^((?:d3gz42uwgl1r1y\\.cloudfront\\.net|furrynetwork(?:-beta)?\\.s3\\.amazonaws\\.com)/(\\w\\w)/\\2\\w+/submission/20\\d\\d/[01]\\d/[\\da-f]{32})/\\d+x\\d+.*","to":"$1#/2500x1500.jpg .gif .webm .mp4 .mp3#","note":"EXAMPLES:\nhttps://furrynetwork.com/artwork/popular/?time=lastWeek\nhttps://furrynetwork.com/photos/popular/?time=lastWeek"},"Gazeta.pl":{"img":"^(bis?\\.gazeta\\.pl/im/(\\w{1,5}/){2,}?z\\d{4,})[A-Z]{1,3}(?=[.,])","to":"#$1O\n$1Q","note":"EXAMPLES:\nhttps://wiadomosci.gazeta.pl/wiadomosci/0,168571.html\nhttps://wiadomosci.gazeta.pl/prawo-i-sprawiedliwosc\nhttps://next.gazeta.pl/next/0,0.html"},"Gelbooru.com":{"link":"^gelbooru\\.com/index\\.php\\?page=post&s=view&id=\\d+","res":"=\"og:image\" content=\"([^\"]+)\n=\"keywords\" content=\"([^\"]+)","img":"^(?:s?(?:img|thumb)\\d?\\.|assets\\.)?(gelbooru\\.com/+)(?:sample|thumb(?:nail)?)s/(\\w\\w/\\w\\w)/(?:thumbnail|sample)_([\\da-f]+).*","to":"#img2.$1/images/$2/$3.#webm jpg png gif jpeg#\nimg2.$1/samples/$2/sample_$3.#jpg png gif jpeg#","note":"!!!\nВ некоторых странах может понадобиться прокси.\n==\nIn some coutries may need proxy."},"GetCloudApp.com|cl.ly":{"link":"^cl\\.ly/image/([^/]+).*","res":"=\"og:image\" content=\"([^\"]+)\n<title>([^<]+)","img":"^thumbs\\.(?:cl\\.ly|getcloudapp\\.com)/(?:image/)?(\\w+)","to":"http://cl.ly/image/$1/$1.jpg","note":"EXAMPLES:\nhttps://www.reddit.com/domain/cl.ly/\nhttps://www.reddit.com/domain/getcloudapp.com/"},"GettyImages.com":{"link":"^(gettyimages\\.com)(?:\\.au)?/detail/[^/]+/[^/]+/(\\d+).*","img":"^(?:media\\.(gettyimages\\.com)/[^/]+|cache\\d+\\.asset-cache\\.net/xr)/(?:[^?]+?-id)?([\\d+-]+).*","to":"//media.$1/photos/-id$2#?s=2048x2048 #"},"gfycat|redgifs|gifdeliverynetwork":{"link":"^((gfycat)|redgifs|gifdeliverynetwork)\\.com/+(?:\\w\\w/|watch/)?(?!privacy|support|partners|gifbrewery|gaming|reaction|upload|create|signup|cajax/)(?:ifr/|amp/)?(?:(?:(?:gifs/)?detail/)?([a-zA-Z]{7,})[^/?#]*/?(?:[?#].*)?|@([\\w.-]+)(?:/[^/]+)*/([\\w-]+).*)$","url":": 'https://api.'+($[2]||'redgifs')+'.com/v1/' + ($[4] ? 'users/'+$[4]+'/album_links/'+$[5] : 'gfycats/'+$[3])","res":":\nvar u,g,i=0,r=[], o=JSON.parse($._),rg='redgifs';\nif(o.errorMessage)return $[1]==rg ? null : {loop: $[0].replace($[1], rg)}\no=o.publishedGfys||[o.gfyItem]\nwhile(g=o[i++]) {\n u=['#'+g.webmUrl, '#'+g.mp4Url]\n g.mobileUrl&&u.push(g.mobileUrl)\n r.push([u, (g.title||'') + (g.tags&&g.tags.length ? ' ['+g.tags.join(', ')+']':'')])\n}\nreturn r.length ? r : null","img":"^(?:zippy|fat|giant|thumbs\\d*)\\.((gfycat)|redgifs)\\.com/([a-zA-Z]+).*","note":"update:\nhttps://www.reddit.com/r/imagus/comments/godou6/redgifs_and_gifdeliverynetwork_not_working/\n\n\nEXAMPLES:\nhttps://www.reddit.com/domain/gfycat.com/\nhttps://www.reddit.com/domain/redgifs.com/\nhttps://www.reddit.com/domain/gifdeliverynetwork.com/"},"gifly.com":{"link":"^(gifly\\.com/)(\\w)(\\w)(\\w)(\\w)/*[^/]*$","img":"^(?:i\\.)?(gifly\\.com/+)media_gifly/(\\w)/(\\w)/(\\w)/(\\w)/b/.*","to":"$1media_gifly/$2/$3/$4/$5/b/$2$3$4$5.#mp4 gif#","note":"!!!\nВ РФ может понадобиться прокси.\n\nEXAMPLES:\nhttps://www.reddit.com/domain/gifly.com/"},"gifs.com":{"link":"^(gif(?:s|y(?:t|outube))\\.com/)(?:gif|embed|player)/(?:[^-]*-)*(\\w+)","img":"^(?:share|j)\\.(gif(?:s|y(?:t|outube))\\.com/)(\\w+).*","to":"//j.gifs.com/$2.#webm mp4 gif#","note":"EXAMPLES:\nhttps://www.reddit.com/domain/gifs.com/"},"Giphy.com":{"useimg":1,"link":"^(g(?:iphy\\.com/(?:gifs|embed)|ph\\.is(?:/g)?)/)([\\w-]+).*","url":"$1$2","res":":\n$=/gif:\\s*(\\{[^\\n]+\\})/.exec($._)\n$=$&&JSON.parse($[1])\nreturn $ && [[[$.images.original.mp4, $.images.original.url], $.alt_tag]]","img":"^media\\d?\\.((giphy)\\.com/)media/(\\w+)/.*","to":"media.$1media/$3/$2.#mp4 gif#","note":"EXAMPLES:\nhttps://www.reddit.com/domain/giphy.com/"},"GitHub":{"link":"^(git(?:hu|la)b\\.com/[^/]+/[^/]+/)blob(/.+\\.(?:jpe?g|a?png|gif|svgz?|web[pm]|bmp|og[gv]))$","ci":1,"img":"^(avatars\\d?\\.githubusercontent\\.com/u/\\d+).*","to":":\nvar v=$[2]?'':$[0].slice($[1].length); v=v&&v.match(/[?&](v=\\d+)/)||'';\nreturn $[1] + ($[2]?'raw'+$[2]:v&&('?'+v[1]))"},"Goodreads.com":{"img":"^(i(?:mages)?\\.gr-assets\\.com/(?:images/(?:[^/]+/){1,3})?(?:author|book|user)s/\\d+)[^/]+(/\\d+)[^?]*\\.","to":"$1i$2.","note":"EXAMPLES:\nhttps://www.goodreads.com/genres/thriller\nhttps://www.goodreads.com/genres/history"},"[Google-URL]":{"link":"^google\\.(?:com|(?:com?\\.)?[a-z]{2})/url\\?(?:[^&]+&)*?q=(http[^&]+\\.(?:jpe?g|gifv?|a?png|bmp|web[pm]|mp[34]]))(?:$|&).*","dc":1,"to":"$1"},"Gravatar.com":{"img":"^(?:(?:\\d|s(?:ecure)?)\\.)?(gravatar\\.com/)(?:(avatar)(?:\\.php\\?gravatar_id=|/?)|(userimage/\\d+)/)([^?&]*(?:\\.jpg)?)(?:[?&]?(?:[^&]+&)*?s(?:ize)?=(\\d+).*)?.*","to":":\nvar x = /[&?](d(?:efault)?=[^&]+)/.exec($[0]), y = /[&?](r(?:ating)?=[^&]+)/.exec($[0]);\nreturn $[1]+($[2]||$[3])+'/'+$[4]+'?s='+($[3]?1e3:512)+(x?'&'+x[1]:'')+(y?'&'+y[1]:'')"},"GSMarena.com":{"img":"^((?:[cf]dn|st\\d*)(\\.gsmarena\\.com/))(?:(?:pics?|(?:pics?/)?vv)/blogpics/[^/]+/i?cs-(\\d\\d)-(\\d\\d)-([^_]+)-|((?:vv|pics?)/+(?:[^/]+/)+?)thumb/|(imgroot/(?:[^/]+/+)+)-\\d*x?\\d+\\w*/(?=[^/]+))","to":":\nreturn $[3]?'st'+$[2]+'pics/'+$[3]+'/'+$[4]+'/'+$[5]+'/': $[1] + ($[6] || $[7]) + '# -1024x768m/#'","note":"!!!\nAt the moment, the rule is not working/needs an upgrade.\n\n\nEXAMPLES\nhttps://www.gsmarena.com/oneplus_nord_2t-11517.php\nhttps://www.gsmarena.com/xiaomi-phones-80.php"},"Gyazo.com":{"link":"^(gyazo\\.com/)([\\da-f]{32}).*","img":"^(i\\.)?(gyazo\\.com/)thumb/([\\da-f]{32}).*","to":"i.$1$2.#png jpg gif#","note":"EXAMPLES:\nhttps://www.reddit.com/domain/gyazo.com/"},"Hentai-Foundry.com":{"link":"^(hentai-foundry\\.com/)pic(?:tures/user/[^/]+/|-)(\\d+)[./](?:html|[^#/]+.*)","url":"$1pic-$2.html?enterAgree=1","res":"(//pictures\\.$1(?:[^/]+/)+?$2[^\"]+)\\S+(?: (?:\\S+ ){0,3}?alt=\"([^\"]+))?","img":"^thumbs\\.(hentai-foundry\\.com/)thumb\\.php\\?pid=(\\d+).*"},"HizliResim.com":{"link":"^hizliresim\\.com/(a/)?\\w{6}\\W*$","res":":\nvar t=$._.match(/=\"og:description\" content=\"([^\"]+)/),\nm=$._.match(/=\"og:image\" content=\"([^\"]+)/)\nif(!$[1]) return m ? [m[1], t&&t[1]] : null\nm=$._.match(/<img data-src=\"[^\"]+/g)\nreturn !m ? null : m.map(function(x, i) {\n return [x.slice(15), !i&&t&&t[1]]\n})","img":"^([gt])(\\.hizliresim\\.com/[^.]+)-(?:\\d+x\\d+|s)","to":":\nreturn ($[1]=='t'?'i':'g') + $[2]","note":"!!!\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.hizliresim.com/tk67ym8\nhttps://www.hizliresim.com/giryf3t"},"hostingkartinok.com|hkar.ru":{"useimg":1,"link":"^(?:hostingkartinok\\.com/show-image\\.php\\?id=[\\da-f]{32}|(?:hkar\\.ru|smotr\\.im)/\\w+)","res":"<div class=\"image\">\\s*<a href=\"([^\"]+)\"","img":"^(s\\d+\\.hostingkartinok\\.com/uploads)/thumbs/([^.]+\\.)png","to":"$1/images/$2#jpg jpeg png gif bmp#","note":"ПРИМЕРЫ / EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1360#11"},"HuffingtonPost.com":{"img":"^(img\\.huffingtonpost\\.com/+asset/)(?:[^/]+/)?([^?]+).*","to":"$1$2"},"ImageEvent.com":{"img":"^(photos\\.imageevent\\.com/(?:[^/]+/)+?)(?:icons|small|websize)/(.+)","to":"$1/$2","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://imageevent.com/powerwagon/doorart\nhttps://www.reddit.com/domain/imageevent.com/"},"ImageFap.com":{"link":"^imagefap\\.com/(?:photo/|/image\\.php\\?id=)(\\d+).*","url":"https://www.imagefap.com/photo/$1/","res":"original=\"([^?]+$1[^\"]+)","img":"^(?:cdn\\d*\\.imagefap\\.com|(?:x\\d*\\.)?fap\\.to)/images/[^?]+/(\\d+).*","note":"!!!\nВ некоторых странах (например, в России) может понадобиться прокси.\n==\nIn some coutries may need proxy.\n+\nДля показа видео необходимо правило для SMH (см.ЧаВо, п.10).\n==\nTo show the video, you need a rule for SMH (see FAQ, p.10).\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/imagefap.com/"},"ImageTwist|Imageshimage|Pixroute.com":{"link":"^((?:imagetwist|imageshimage|pixroute)\\.com)/([\\da-z]{12})(/[\\w.-]+\\.(?:[Jj][Pp][Ee]?[Gg]|png|PNG|gif|GIF|bmp|BMP)(?:\\.html)?)$","url":"$1/$2$3","res":"src=\"(https?://[^\"]+)\" (?:\\w+=\"[^\"]+\"\\s+)*?(?:class=\"pic|id=\"[^\"]+\"\\s*>)","img":"^(?:i\\D{0,3}\\d*\\.)?((?:imagetwist|imageshimage|pixroute)\\.com)/(?:i/\\d{5}/([\\da-z]{12})_[^.]+|th/\\d{5}/([\\da-z]{12}))\\.jpg$","note":"Baton34V fix - SMH rule\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=300#12\n\n!!!\nДля работы фильтра требуется правило для SMH (см.ЧаВО, п.11)\n==\nFor the sieve to work, a rule for SMH is required (see FAQ, p.11).\n\nEXAMPLES:\nhttps://www.reddit.com/r/imagus/comments/g0lw2i/pixroute/\nhttps://shentai.org/johnny-scribe-haze/\nhttps://shentai.org/mortal-kombat-artwork-mega-pack/"},"imgBB.com|ibb.co":{"link":"^(i(?:bb\\.co|mgbb\\.com)/\\w{6,7}).*","url":"$1","res":"=\"og:image\" content=\"([^\"]+)\n=\"og:title\" content=\"([^\"]+)","img":"^i(?:mage)?\\.(i(?:bb\\.co|mgbb\\.com)/\\w+).*","note":"EXAMPLES:\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50152&start=2660#14"},"imgbox.com":{"link":"^(imgbox\\.com/(?!privacy|register)(g/)?[^/.]{6,10})$","res":":\nif(!$[2])return $._.match(/href=\"([^\"?]+)\\?download/)[1]\nvar t = $._.match(/<h1>([^<]+)/), r = $._.match(/ b\" src=\"https:\\/\\/thumbs[^\"]+/g).map(function(i) {\n return [i.slice(9).replace(/thumb(s\\d\\.)/, 'image$1').replace(/_\\w\\./, '_o.')]\n})\nr[0][1] = t&&t[1]\nreturn r","img":"^(?:(?:hcd-\\d|t\\d*|(?:\\d[.-])?[ist]|thumb(s\\d*))\\.)(imgbox\\.com/[^._]+)[^.]*","to":":\nreturn $[1]?'image'+$[1]+'.'+$[2]+'_o':'i.'+$[2]","note":"EXAMPLES\nhttps://www.reddit.com/domain/imgbox.com/\nhttps://imgbox.com/g/8jXJwQORPb"},"Imgflip.com":{"link":"^(imgflip\\.com/)(?:i|gif)/([^?#]+)","img":"^i\\.(imgflip\\.com/)2/([^.]+).+","to":"//i.$1$2.#jpg gif#","note":"EXAMPLES:\nhttps://www.reddit.com/domain/imgflip.com/"},"Imgur-set":{"link":"^(?:(?:[im]\\.)?(?:imgur\\.com|filmot\\.(?:com|org))/+(?:(?:(a|gallery(?!/random|/custom)|t(?:opic)?/[^/]+)|r/[^/]+)/([^\\W_]{5}(?:[^_\\W]{2})?)|(?:[^\\W_]{5}(?:[^\\W_]{2})?[,&])+[^_\\W]{5}(?:[^\\W_]{2})?)).*","url":": $[1] ? 'https://imgur.com/' + ($[1] == 'a' ? 'a/' + $[2] + '/embed' : $[1] + '/' + $[2] + '/hit.json') : $[0]","res":":\nvar ret = [], im, g, c, x, i, t, u, l = '//i.imgur.com/', p404='404 page</title>';\n\ntry {\n if (typeof $._ == 'string' && $._[0]!='{') {\n   if($._.lastIndexOf(p404, 300) > -1) throw true;\n   x = $._.match(/(?:album|image)\\s*[:=] +([^\\n\\r]+),/);\n   x = JSON.parse(x[1])\n   t = this.t; delete this.t;\n   if (!t&&'title' in x)t = x;\n   x.album_images&&(x=x.album_images);\n   x.images&&(x=x.images)||x.items&&(x=x.items);\n } else {\n  $._=JSON.parse($._);\n  if($._.album){\n   x=$._.album\n   t={title:x.title, description: x.description}\n   x=x.images\n  } else {\n   x=$._.data.image\n   if (x.is_album) {\n    t={title:x.title, description: x.description}\n    if (x.album_images.count != x.album_images.images.length) {\n     this.t=t\n     return {loop: l+'a/'+$[2]}\n    }\n    x=x.album_images.images\n   }\n  }\n  delete this.t;\n }\n\n if (!x)throw $._.lastIndexOf(p404, 300) > -1;\n\n t = t && [t.title, t.description].filter(Boolean).join(' - ') || !1\n x = Array.isArray(x)?x:[x]\n for (i = 0; i < x.length; ++i) {\n  im = x[i].image||x[i];\n  c = [im.title, im.caption, im.description].filter(Boolean).join(' - ');\n  if (!i && t && t!=c) c='['+t+'] ' + c;\n  im.ext = im.ext || x[i].links.original.match(/\\.[^.]+$/)[0];\n  g = (''+im.animated)=='true'\n  u = l + im.hash;\n  ret.push([!g && im.width <= 1200 && im.height <= 1200 ? u + im.ext : (g ? [u + '.mp4', u + '.gif'] : ['#' + u + im.ext, u + 'h' + im.ext]), c]);\n }\n} catch (ex) {}\nreturn ret.length ? ret : null","note":"!!!\nДля галерей (несколько изображений или видео): рекомендуется наводить курсор на блок с названием галереи.\n==\nFor galleries (multiple images or videos): it is recommended to hover the cursor over the block with the gallery name."},"imx.to":{"link":"^(imx\\.to/)i(/\\w+)","url":"$1i$2 :imgContinue=","res":"=\"centred\" src=\"([^\"]+)\"(?:\\salt=\"([^\"]+))?","img":"^(?:t\\.)?(imx\\.to/)(?:u/)?t/\\d+/\\d\\d/\\d\\d(/\\w+).*","note":"EXAMPLES:\nhttps://www.reddit.com/domain/imx.to/"},"iTunes":{"img":"^(is\\d(?:-ssl)?\\.mzstatic.com/image/thumb/[^?]+/)\\d+x\\w+","to":"$19999x9999"},"JD.com":{"img":"^(img\\d+\\.360buyimg\\.com/+)[^/]+/(?:[^_/]+_)?(jfs/)","to":"$1shaidan/$2"},"JoeMonster.org":{"img":"^(vader\\.joemonster\\.org/upload/[qr]../)[^_]{1,3}_(\\d.+\\.).*","to":"$1$2#jpg png gif#","note":"EXAMPLES:\nhttps://www.reddit.com/domain/joemonster.org/"},"KnowYourMeme.com":{"useimg":1,"link":"^knowyourmeme\\.com/photos/\\d+-\\w+","res":"content='([^']+)' itemprop='thumbnailUrl'\ncontent='([^']+)' itemprop='headline'","img":"^(i\\d+\\.kym-cdn\\.com/(?:entries/icon|photos/image)s/)(?!original)[^/]+","to":"$1original","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade."},"Last.fm":{"img":"^((?:img\\d-ak\\.lst\\.fm|lastfm(?:.freetls.fastly|-img\\d\\.akamaized)\\.net)/i/u/)[^/]+/","to":"$1"},"lazy...info":{"img":"^(img00\\d\\.lazy(g(?:irl|adget|ame)|boy|car|sport)|lzimages\\.lazygirl)(s\\.info/.+)\\.m?thumb","to":":\nreturn $[1] + $[3] + (/girl|boy/.test($[2]||'') ? '.sized' : '')"},"Linkedin":{"img":"^(media\\.licdn\\.com/mpr/mpr/)shrink[^/]+/","to":"$1","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade."},"Listal.com":{"link":"^listal\\.com/viewimage/(\\d+)().*","img":"^(?:avatar|[lip](?:large|thumb|v?\\d+))\\.lis(?:tal|img)\\.com/(?:image/)?(\\d+)/\\d+[^.-]+([^.]*).+","to":"#http://iv1.lisimg.com/$1/5000full$2.jpg\nhttp://iv1.lisimg.com/$1/1024full$2.jpg"},"livememe.com":{"link":"^l(?:vme\\.me|ivememe\\.com)/([\\da-z]{5,7}).*","img":"^e\\.lvme\\.me/([\\da-z]+)_\\d+\\.jpg.*","to":"//e.lvme.me/$1.jpg"},"livingly|mabelandmoxie|lonny|itsrosy|stylebistro|zimbio.com":{"img":"^(www\\d\\.pictures\\.(?:[a-z]+\\.)?(?:livingly|mabelandmoxie|lonny|itsrosy|stylebistro|zimbio)\\.com/.+)(?:[a-z]|\\+[^+]+\\+\\d+x\\d+)\\.","to":"$1x."},"Omegle_logs":{"link":"^logs(\\.omegle\\.com/[\\da-f]+)","to":"l$1.png","note":"!!!\nAt the moment, the rule is not working/needs an upgrade.\n\n\nEXAMPLES\nhttps://www.reddit.com/r/omeglechatlogs/\nhttp://logs.omegle.com/2864bdaa6123ca4c\nhttp://logs.omegle.com/9e0d1ca015ed8549"},"LostFilm.info":{"img":"^(lostfilm\\.info/images/)\\d+","to":"$1"},"My.Mail.ru":{"img":"^(?:(?:img\\d*\\.)?(?:content(?:-\\d+)?\\.)?(?:f|ph)(oto\\.(?:my\\.)?mail\\.ru/)(?:images/)?((?:mail|bk|list|corp|community)[/=][^/=]+[/=][^/=]+[/=])(?:s?p|ii?)(-\\d+)|filed\\d+-\\d+\\.my\\.mail\\.ru/pic\\?url=([^&]+).*)","to":":\nreturn $[4] ? decodeURIComponent($[4]).replace(/\\/i(-\\d+\\.[^?]+).*/, '/h$1') : 'content.f' + $[1] + $[2].replace(/=/g, '/') + 'h' + $[3];","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде."},"MakeAGif.com":{"useimg":1,"link":"^(makeagif\\.com/)(?:i/|gif/[^?/]+)?([\\w-]{6})(?:$|\\?.*)","url":"//$1i/$2","res":"data-src=\"([^\"]+)\"\n--elips\"\\s+title=\"([^\"]+)","img":"^(?:cdn\\.|i\\.)?(makeagif\\.com/media/\\d+-\\d+-\\d{4}/)t([\\w-]{6}).*","to":"//i.$1$2.#mp4 gif#"},"MakeaMeme.org":{"link":"^(makeameme\\.org/m)eme(/[^?/#]+)(?:/raw)?$","img":"^(makeameme\\.org/m)edia/created/\\d+(/[^.]+)\\.jpg$","to":"$1edia/created$2.jpg","note":"EXAMPLES:\nhttps://makeameme.org/\nhttps://www.reddit.com/domain/makeameme.org/"},"Medium.com":{"img":"^((?:cdn-images-\\d|miro)\\.medium\\.com/)[^?]+/([^?]+).*","to":"#$1$2\n$1max/1024/$2","note":"!!!\nВ РФ может понадобиться прокси."},"Meetup.com":{"img":"^((?:a\\d+\\.e\\.akamai\\.net/secure|photos\\d*|secure)\\.meetupstatic\\.com/photos/[^_]+/)(?!highres)[^_]+","to":"$1#highres member#","note":"!!!\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLE\nhttps://www.meetup.com/find/?source=EVENTS\nhttps://www.meetup.com/find/?source=GROUPS&location=gb--London"},"Minds.com":{"img":"^(?:(cdn\\.minds\\.com/api/v1/media/thumbnails/\\d+).*|cdn\\.minds\\.com/api/v2/media/proxy\\?(?:[^&]+&)*?src=([^&]+).*)","dc":2,"to":"$1"},"Minitokyo.net":{"img":"^static([123]?\\.minitokyo\\.net/)(?:thumbs|view|downloads)(/\\d\\d/\\d\\d/\\d+)","to":"static$1downloads$2"},"ModelMayhem.com":{"useimg":1,"link":"^modelmayhem\\.com/portfolio/pic/\\d+","res":"=\"og:image\" content=\"([^\"]+)\n=\"og:description\" content=\"([^\"]+)","img":"^(photos\\.modelmayhem\\.com/(?:photo|cover|potd/entrant|avatar)s(?:/\\d+)+/[^.]+)(?:_[^.]+|-small)\\.","to":"$1# -big _m#."},"MSN":{"img":"^((?:static-global|img)(?:\\.s-msn\\.com|-s-msn-com\\.akamaized\\.net)/(?:img-resizer/)?tenant/amp/entityid/[^.]+).*","to":"$1","note":"!!!\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.msn.com/en-us/news/coronavirus\nhttps://www.msn.com/en-us/news/politics\nhttps://www.msn.com/en-us/news/scienceandtechnology"},"MyAnimeList.net":{"img":"^((?:myanimelist\\.cdn-dena\\.com|cdn\\.myanimelist\\.net)/)(?:r/[^/]+/)?(?:(s/[^.]+)|(images/[^.]+\\d+(?:_thumb)?)\\D*)\\.([^?]+).*","to":":\nreturn $[1]+($[2] || ($[3].indexOf('/userimages')>0 ? $[3].replace(/_?thumbs?\\/?/g,'') : $[3] + '#l #'))+'.'+$[4]"},"NeatClip.com":{"link":"^(neatclip\\.com/)(?:clip|embed)(/\\w+)","url":"$1clip$2","res":"=\"nc:video\" content=\"([^\"]+)\n<title>([^<]+) -","note":"EXAMPLE:\nhttps://www.reddit.com/domain/neatclip.com/"},"News.Mail.ru":{"img":"^(retina\\.news\\.mail\\.ru/)prev\\d+x\\d+/","to":"$1/","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n\nEXAMPLE\nhttps://news.mail.ru/economics/\nhttps://news.mail.ru/society/\nhttps://news.mail.ru/society/52396812/"},"Newgrounds.com":{"link":"^newgrounds\\.com/art/view/[^/]+/[^/]+","res":"=\"(https://art\\.ngfiles\\.com/images/[^\"]+)\n=\"og:title\" content=\"([^\"]+)","img":"^newgrounds\\.com/downloads/wallpapers/get\\.php\\?id=\\d+.*","to":"$&","note":"EXAMPLES:\nhttps://www.reddit.com/domain/newgrounds.com/"},"newTumbl.com":{"img":"^(dn\\d\\.newtumbl\\.com/img/[^.]+)_\\d+(\\.[^?]+).*","to":"$1#.mp4 .gif $2#"},"Nextdoor.com":{"img":"^([\\da-z]{14}\\.cloudfront\\.net/[\\w-]+_photos/([\\da-f]{2})/([\\da-f]{2})/\\2\\3[\\da-f]{28}\\.\\w+).*","to":"$1"},"NexusMods.com":{"img":"^(staticdelivery\\.nexusmods\\.com/(?:mods|images)/(?:[^/]+/)+?)thumbnails/","to":"$1"},"NING.com":{"img":"^(api\\.ning\\.com/files/[\\w-*]+/[^?]+)\\?.+","to":"$1"},"okccdn.com":{"img":"^(a?k(?:\\d|cdn)\\.okccdn\\.com/php/load_okc_image\\.php/images/)(?:16/)?(?:\\d+x\\d+/)+?\\d/","to":"$10/"},"OpenDesktop.org":{"img":"^(cn\\.pling\\.com/)cache/[\\dx]+/","to":"$1"},"Photo.net":{"link":"^photo\\.net/photo(?:db/photo\\?photo_id=|/)(\\d+).*","img":"^(?:d6d2h4gfvy8t8\\.cloudfront\\.net|thumbs\\.photo\\.net/photo)/(\\d+)-sm.+","to":"//d6d2h4gfvy8t8.cloudfront.net/$1-#orig lg#.jpg","note":"!!!\nВ РФ может понадобиться прокси.\n\nEXAMPLES:\nhttps://www.photo.net/trending/#2"},"Photozou.jp":{"img":"^((?:kura|art)\\d+\\.photozou\\.jp/pub/\\d+/\\d+/photo/\\d+).*\\.","to":"$1_org.","note":"EXAMPLES:\nhttp://photozou.jp/photo/pickup\nhttp://photozou.jp/photo/tagged/pub/%B2%D6%B2%D0"},"Photo-Forum.net":{"img":"^(photo-forum\\.net/)(?:static/)?(?:site|imgs)_thumbs[^/]*/(.+)","to":"//$1static/site_pics/$2"},"Photoforum.ru":{"img":"^(photoforum\\.ru/f/p(?:hoto|ortr))\\.(?:50|75|th(?:sq)?)(/\\d{3}/\\d{3}/\\d+_\\d+)(?:\\.th(?:sq)?)?","to":"$1$2","note":"https://www.reddit.com/domain/photoforum.ru/"},"picturepush.com":{"img":"^((?:www\\d?\\.)?picturepush\\.com/photo/\\w/\\d+/)(?!img)[^/]+(/[^?]+).*","to":"$1640$2","note":"EXAMPLES:\nhttps://picturepush.com/explore"},"Pic-Upload.de":{"link":"^pic-upload\\.de/view-\\d+","res":"' src='([^']+)","note":"https://www.reddit.com/domain/pic-upload.de"},"Pinterest.com":{"useimg":1,"link":"^(?:[a-z]{2}\\.)?pinterest(?:\\.[a-z]{2,3}){1,2}/pin/[\\w-]+/$","img":"^((?:i|(?:s-)?media-c(?:dn|ache\\D*)\\d*)\\.pin(?:terest|img)\\.com/)(?:(upload/\\d+_[^\\W_]{8})_[bft]|(?!550)\\d+x?\\d*(?:_[^/]+)?/|(avatars/[^.]+[_-]\\d+)(?:_(?!600)[^.]+)?(?=\\.))","to":":\nif($[1]) return $[1] + ($[2] ? $[2] : ($[3] ? $[3].replace(/(\\d+)_\\d+$/, '$1') + '_600' : '#originals 736x 564x#/'))\nvar n=this.node, p=document.evaluate('./ancestor::a[starts-with(@href,\"/pin/\")]//img[contains(@src,\"pinimg.com\")]',n,null,9,null).singleNodeValue\np=p?this.find({src: p.src, IMGS_TRG: n}):''\nreturn (Array.isArray(p) ? p.join('\\n') : (p === null ? 'null' : p)) || ''","note":"https://www.reddit.com/domain/pinterest.com/"},"PiXhost.to":{"useimg":1,"link":"^(pixhost\\.)(?:to|org)(/show/\\d+/)","url":"$1to$2","res":"=\"image-img\" src=\"([^\"]+)","img":"^(?:t|img)(\\d+\\.pixhost\\.)(?:to|org)/(?:image|thumb)(s/.+)","to":"img$1to/image$2","note":"ПРИМЕРЫ / EXAMPLES:\nhttps://pixhost.to/gallery/SnY7y\nhttps://pixhost.to/gallery/tdZNQ\nhttps://pixhost.to/gallery/5de4t\nhttps://pixhost.to/gallery/KIBAJ"},"Pixiv.net":{"link":"^(pixiv\\.net/)(?:(?:\\w\\w/)?artworks/|member_illust\\.php\\?mode=(?:[^&]+&)+?illust_id=)(\\d+).*","loop":1,"url":"$1ajax/illust/$2","res":":\n$=JSON.parse($._)\nif($.error)return !1\nvar i=0,r=[],$=$.body\nfor(;i<$.pageCount;++i) r.push([$.urls.original.replace('_p0', '_p' + i)])\nr[0][1] = '['+$.title+' by ' + $.userName + ' | ' + new Date($.uploadDate).toLocaleString() + '] ' + $.description\nreturn r","img":"^i(?:\\d\\.pixiv|\\.pximg)\\.net/(?:c/\\d+x\\d+[\\d_a-z]*/)?(user-profile|img-master)(/img/\\d\\d(?:\\d\\d/){6}\\d+_[^_]+)_[^.]+(\\.\\w+).*","to":":\nvar i=$[1][0]=='i'\nreturn '//i.pximg.net/' + (i ? 'img-original' : $[1]) + $[2] + (i && $[3]=='.jpg' ? '.#jpg png gif#' : $[3])","note":"!!!\nВ некоторых странах может понадобиться прокси.\n==\nIn some countries, you may need a proxy.\n+\nДля показа внешних ссылок необходимо правило для SMH (см.ЧаВо, п.11).\n==\nTo display external links, you need a rule for SMH (see FAQ, p.11)."},"Pixnet.net":{"img":"^(?:pic|s\\d?)(\\.pimg\\.tw/)(?:album/)?([^/]+)/(?:element/\\d+_)?([^/_]+)(?:/[^/]+/)?(?:_[nbstq]|\\d+x\\d+).+","to":"#pic$1$2/$3.#jpg png#\npic$1$2/$3_b.#jpg png#","note":"EXAMPLES:\nhttps://www.pixnet.net/blog/articles/group/9\nhttps://www.pixnet.net/blog/articles/group/2\nhttps://chill-tainan2022.events.pixnet.net"},"Pixnet-proxy":{"img":"^imageproxy\\.pimg\\.tw/zoomcrop\\?url=([^&]+).*","dc":2,"loop":2,"to":"$1"},"puush.me|puu.sh":{"link":"^(puush\\.me/[^/]+/Gallery)$","url":"$1/feed","res":":\ntry {\n $ = JSON.parse($._).objects, i = $.length, u = '//puu.sh/';\n while(i--) $[i] = [u + $[i].id + '/' + $[i].name, null, u + 't/' + $[i].id];\n return $;\n} catch (ex) {return null}","img":"^(puu\\.sh/)(?:t/)?(.+)","to":"$1$2"},"QuestionableContent.net":{"link":"^questionablecontent\\.net\\.?/view\\.php\\?comic=(\\d+).*","to":"questionablecontent.net/comics/$1.#png jpg gif#"},"Ravelry.com":{"img":"^((avatar|image)s\\d?-[a-z].ravelrycache.com/)(?:(flickr/[^?]+)_[a-z]|((?:uploads/)?[^/]+/\\d+/)(?:webp/)?([^.]+)_(?:small(?:2?|_best_fit)|medium2?|square|large)(?:\\.(\\w+))?(?:#(\\w+))?)","to":":\nreturn $[1] + ($[3] || ($[4] + $[5] + ($[2]=='avatar'?'_xlarge':'# _b#') + ($[7]||$[6] ? '.' + ($[7]||$[6]) : '')))"},"Reddit_post":{"link":"^gateway\\.reddit\\.com/desktopapi/v1/postcomments/(t3_[\\da-z]+)","res":":\n$._ = JSON.parse($._)\n$._=$._.posts\nvar t = $._[$[1]].title\nfor (var i in $._) if($._[i].media){$=$._[i].media;break}\nreturn $ && $.dashUrl ? {loop:$.dashUrl} : !0"},"Reddit_thumbs":{"link":"^rt/\\?(http.+)","url":"$1","res":":\nvar t, r=['<meta[^>]+?property=[\\'\"]?og:','[\\'\"]?\\\\s[^>]*?content=[\\'\"]([^\\'\">]+)'], m = $._.match(RegExp(r[0]+'image(?::url)?'+r[1]))\nreturn m ? [m[1], (t = $._.match(RegExp(r[0]+'title'+r[1])))&&t[1]] : !1","img":"^(?:i\\.r(eddituploads\\.com|ddt\\.co)/[\\da-f]{32}\\?|[a-f]\\.thumbs\\.redditmedia\\.com/[\\w-]{16,43}\\.jpg$)","loop":2,"to":":\nvar u,n=!$[1]&&this.node,x=n&&n.matches('.Post div>div[role=img]');\nn && (n.title = n.getAttribute('aria-label') || n.title);\nreturn x&&(x=n.closest('.Post')) && (x=x.querySelector('div>a[data-click-id=body][href]'))\n? x.href\n: n&&n.matches('div.link>a.thumbnail>img, .PostThumbnail>img, a>div[role=img]')&&n.parentNode.href ? '//rt/?'+n.parentNode.href : $[0]"},"Reddit_video|v.redd.it":{"link":"^(?:v\\.redd\\.it|(?:[^.]{2,5}\\.)?reddit\\.com/link/[\\da-z]+/video)(/[\\da-z]+).*","url":"//v.redd.it$1/DASHPlaylist.mpd","res":":\nvar v=0,u,m=$._.match(/width=\"\\d+\">\\s*<BaseURL>([^<]+)/g)\nif(!m)return m\nm.forEach(function(m){\n m=m.match(/\"(\\d+)\">[^>]+>(.+)/)\n if(m[1] > v) {v=m[1]|0; u=m[2]}\n})\nreturn '//v.redd.it'+$[1]+'/'+u+'#mp4'","img":"^preview(\\.redd.it/[^?]+)\\?.*","to":":\nreturn $[0].indexOf('format=mp4')>0 ? $[0]+'#mp4' : 'i'+$[1]","note":"EXAMPLES:\nhttps://www.reddit.com/domain/v.redd.it/\n\n!!!\nДля получения аудио можно использовать следующий скрипт:\n==\nYou can use the following script to get audio:\nhttps://greasyfork.org/en/scripts/404717-custom-native-html5-player-with-shortcuts\n\n\nEXAMPLES:\nhttps://www.reddit.com/r/all/\nhttps://old.reddit.com/r/UnexpectedB99/comments/jrnw8l/i_love_this_community/\nhttps://old.reddit.com/r/HollowKnight/comments/hveifp/some_lowpoly_hollow_knight_fanarts_i_made/"},"safebooru.org|xbooru.com":{"useimg":1,"link":"^(?:safebooru\\.org|xbooru\\.com)/index\\.php\\?page=post&s=view&id=\\d+","res":"<li><a href=\"(https?://(?:safe|img\\.x)booru\\.[^/]+/+images/[^\"]+)","img":"^(safebooru\\.org/+)(?:sample|thumb(?:nail)?)s/(\\d+)/(?:thumbnail|sample)_([\\da-f]+)\\.([^?]+).*","to":"#$1/images/$2/$3.#$4 png gif#\n$1/samples/$2/sample_$3.$4","note":"https://www.reddit.com/r/imagus/comments/g7hwtc/safebooru_wont_load_png_files/"},"Sendvid.com":{"link":"^(sendvid\\.com/)(?:embed/)?([\\da-z]{8})\\W*","url":"$1embed/$2","res":"=\"og:video:secure_url\" content=\"([^\"]+)\n=\"og:title\" content=\"([^\"]+)","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.reddit.com/domain/sendvid.com/"},"Sex.com":{"useimg":1,"link":"^(sex\\.com)/picture/(\\d+).*","res":"=\"image_src\" href=\"([^\"?]+)","img":"^(images\\.sex\\.com/images/pinporn/\\d{4}/[01]\\d/[0-3]\\d/)(?!620/|video/)[^/]+","to":"$1620","note":"!!!\nНа данный момент фильтр частично не работает/нуждается в апгрейде.\n==\nAt the moment, the rule partially is not working/needs an upgrade."},"SoundCloud.com":{"img":"^(i\\d\\.sndcdn\\.com/a(?:rtwork|vatar)s-[^.]+-).*","to":"$1original.#jpg png gif#","note":"EXAMPLES:\nhttps://soundcloud.com/search?q=nightcore&query_urn=soundcloud%3Asearch-autocomplete%3Ab7d271a2571b45259b5947fccd4d7cb3\nhttps://soundcloud.com/search?q=cole%20bennett&query_urn=soundcloud%3Asearch-autocomplete%3Abaed2305c2b44536ab0700da03cf7720"},"Squarespace.com":{"img":"^((?:static\\d\\.squarespace\\.com/static|images\\.squarespace-cdn\\.com/content)/[^?]+).*","to":":\nvar u=$[1].replace(/-\\d+(?:w|x\\d+)(?=\\.jpg)$/,'#-2500w #');\nreturn u == $[1] ? u + '#?format=2500w #' : u","note":"EXAMPLES:\nhttps://www.reddit.com/domain/squarespace.com/"},"Streamable.com":{"link":"^(streamable\\.com/)(?!about|documentation|privacy|terms|signup|login|tools|videos|albums|dashboard|search|clipper)(?:\\w/|album|ajax/groups/)?([\\da-z]+).*","url":"$1s/$2","res":":\n$._ = $._.match(/var videoObject = (\\{[^\\n]+\\})/)\nif(!$._) return null\n$._=JSON.parse($._[1])\nvar t;\nif($._.group) {t=$._.name;$._=$._.group.videos} else {$._=[$._]}\nreturn $._.map(function(x,i) {\n var f=x.files, u=[];\n ['mp4', 'webm', 'mp4-mobile', 'webm-mobile'].forEach(function(t,ii){\n  f[t]&&u.push((ii<2?'#':'')+f[t].url)\n })\n return [u, (!i&&t ? '['+t+'] ':'') + ($._.title || '')]\n})","img":"^cdn\\.(streamable\\.com/)video/[^/]+/([^.]+).*","note":"EXAMPLES:\nhttps://www.reddit.com/domain/streamable.com/\n\n!!!\nВ некоторых странах (например, в РФ) может понадобиться прокси.\n==\nIn some countries (for example, in the Russian Federation), a proxy may be needed."},"StreamGoals.com":{"link":"^(streamgoals\\.com/)video/(?:embed/)?([\\da-f]+).*","to":"$1/cache/$2.mp4","note":"EXAMPLES:\nhttps://www.reddit.com/domain/streamgoals.com/\nhttps://streamgoals.com/video/7a0f79f7b7\nhttps://streamgoals.com/video/8c75572e71\nhttps://streamgoals.com/video/45689b013e"},"Streamja.com":{"link":"^(streamja\\.com/)(?!login|terms)(?:embed/)?(\\w{3,5})(?:[?#].*)?$","url":"$1$2","res":"<source src=\"([^\"]+)","img":"^(streamja\\.com/)i/\\w+/(\\w+).*","note":"EXAMPLES:\nhttps://www.reddit.com/domain/streamja.com/"},"SteamPowered.com":{"img":"^((?:(?:cloud[-\\d]*|images\\.akamai)\\.steam(?:powered|usercontent)\\.com|steamuser(?:images|content)[^.]*\\.akamaihd\\.net)/ugc/\\d+/[\\dA-F]{40}).*","to":"$1/","note":"https://www.reddit.com/r/imagus/comments/j0dmgm/default_steam_filter_only_partially_working/\n\nПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/steampowered.com/"},"Streamvi.com":{"link":"^(streamvi\\.com/)watch(?:/|\\.php\\?video=)(\\d+).*","to":"//cdn.$1uploads/$2.mp4","note":"EXAMPLES:\nhttps://www.reddit.com/domain/streamvi.com/\n\n!!!\nVideo Uploading is currently disabled (01-2022)"},"Svadba.pro":{"img":"^(svadba\\.pro/images/(?:users/avatar|(photo))s/)(?:small|mini|medium)/([\\da-f]{32})","to":":\nreturn $[1] + ($[2] ? 'medium/': '/') + $[3];"},"Telegraph.co.uk":{"img":"^(telegraph.co.uk/c(?:ontent/dam|ars/images)/[^?]+)-(?:x?large|small|medium)[^?]*\\.","to":"#$1.\n$1#-xlarge -large#.","note":"!!!\nВ РФ нужен прокси.\n+\nAt the moment, the rule is not working/needs an upgrade."},"Tistory.com":{"img":"^(cf(?:ile|s)\\d*\\.uf\\.tistory\\.com/)(?:original|image)(/[\\dA-F]+)","to":"$1original$2","note":"!!!\nВ РФ нужен прокси.\n+\nAt the moment, the rule is not working/needs an upgrade."},"Trakt.tv":{"img":"^(walter\\.trakt\\.tv/images/(?:[^/]+/)+?)(?:thumb|medium|large)/","to":"$1#full large#/"},"TrekEarth.com":{"img":"^(i\\d\\.trek(?:lens|earth)\\.com/photos/\\d+/.+)_s\\d?_","to":"$1","note":"!!!\nВ РФ нужен прокси."},"tuchong.com":{"link":"^(?:[^.]+\\.(tuchong\\.com/)(\\d+)|(tuchong\\.com/)\\d+/(\\d+))(?!/?#image\\d+).*","url":"//$1$3rest/posts/$2$4","res":":\nvar p,d='http://photos.'+($[1]||$[3])\n$ = JSON.parse($._)\nif(!$||!$.images)return null\np=$.post?[$.post.title, $.post.exerpt].filter(Boolean).join(' - '):'';\np = p ? '['+p+' by '+$.post.author.name+'] ':''\n$=$.images\nreturn $&&$.length ? $.map(function(x,i) {\n return [d + x.user_id + '/f/' + x.img_id + '.jpg', (!i&&p ? p : '')+[x.title, x.description].filter(Boolean).join(' - ')]\n}) : null","img":"^(photos\\.tuchong\\.com/\\d+/)(?!f/)[^/]+","to":"$1f"},"TurboImageHost.com":{"link":"^turboimagehost.com/p/\\d+/.*","res":"=\"og:image\" content=\"([^\"]+)","note":"ПРИМЕРЫ / EXAMPLES\nhttps://vipergirls.to/threads/6239200-Agatha-Game-Theory-120-Photos-Jul-23-2021"},"Twitch.tv":{"img":"^(static-cdn\\.jtvnw\\.net\\/)(?:((?:ttv-boxart|(j)tv_user_pictures|(p)reviews-ttv)\\/[^?\\/]+)[-_]\\d+x\\d+(\\.[^?]+).*|((emoticons|badges)\\/[^.]+\\/)\\d+)","to":":\nreturn $[1]+($[2] ? $[2]+($[3]?'-600x600':($[4]?'-0x0':''))+$[5] : $[6]+($[7][0]=='b'?3:5))","note":"EXAMPLES:\nhttps://www.reddit.com/domain/twitch.tv/"},"Twitter":{"useimg":1,"link":"^(?:pic\\.twitter\\.com/\\w+|(?:m(?:obile)?\\.)?twitter\\.com/[^/]+/status/(\\d+)/(photo|video)/.*)","url":": 'https://' + (!$[0].lastIndexOf('pic',0) ? $[0] : 'twitter.com/i/' + ($[2]=='photo' ? 'tweet/html?id=' : 'cards/tfw/v1/') + $[1])","res":":\nvar x\nif (x = $._.slice && $._.slice(40,200).match(/=\"0;URL=([^\"]+)/)) return{loop: x[1]};\ntry{$._ = JSON.parse($._)}catch(ex){}\nif (x = $._.tweet_html && $._.tweet_html.match(/data-image-url=\"([^\"]+)/g)) x=x.map(function(i){i=i.slice(16).replace(/:[^:\\/]+$/,''); return [['#'+i+':orig', i+':large']]});\nelse if (x=($._.tweet_html||$._).match(/(?:video|pbs)\\.twimg\\.com(\\\\)?\\/\\w+_video(?:_thumb)?(\\\\)?\\/[^&\"]+/)) x='https://'+x[0].replace(/\\\\/g, '').replace(/(_video)_thumb(\\/[^.]+).*/, '$1$2.mp4')\nif(x) {\n var t=($._.tweet_html||$._).match(/<p[^>]+>(.+?)<\\/p>/),n=($._.tweet_html||$._).match(/data-screen-name=\"([^\"]+)/);\n t = (n?('@'+n[1]):'')+(t?(n?' - ':'')+t[1]:'')\n if(x.pop)x[0] = [x[0], t]; else x=[x,t]\n}\nreturn x","img":"^(?:(p(?:bs)?\\.twimg\\.com/(?!profile_banners)(?:media/|tweet_video_thumb/)?[\\w-]{15}[^:?]*).*|((?:twimg\\d-a\\.akamaihd\\.net|(?:(?:m?a|si)\\d*|p(?:bs)?)\\.twimg\\.com)/(profile_images|card_img)/\\d+/[^?]+)(?:_|\\?(?:[^&]+&)*name=)(?:mini|normal|bigger|reasonably_small|\\d+x\\d+)(.*))","to":":\nvar v = $[1]&&$[1].replace(/(video)_thumb(\\/[^.]+).+/, '$1$2.mp4'), f = $[0].match(/(?:format=|\\.)([a-z]{3,4})(?:[:&?]|$)/), p = '?format='+(f&&f[1]||'jpg')+'&name='\nif($[1] && v.length!=$[1].length) return v\nreturn !$[3]||$[3]=='card_img' ? '#//' + ($[1] || $[2]) + p + 'orig\\n' + '//' + $[1] + p + 'large' : $[2] + $[4]","note":"ПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/pbs.twimg.com/\nhttps://twitter.com/monkey85_kitako/media\n\n!!!\nФикс для аватарок пользователей / Twitter profile pic fix\nhttps://www.reddit.com/r/imagus/comments/uhl8v7/twitter_profile_pic_fix/\n\n!!!\nВ FF при скачивании картинки (Ctrl+S) может не добавляеться расширение файла (.jpg/.png)\n==\nIn FF, when downloading an image (Ctrl+S), the file extension (.jpg/.png) may not be added."},"Twitter_proxy":{"img":"^o\\.twimg\\.com/2/proxy\\.jpg\\?(?:[^&]+&)*?t=([^&]+).*","loop":2,"to":":\nreturn decodeURIComponent(window.atob($[1].replace(/_/g, '/')).replace(/^[^h]*(https?:\\/\\/[^\\/]+\\/([\\w\\-.~:/?#\\[\\]@!$&'()*+,;=]|%\\d\\d)+).*/, '$1'))"},"Twitter|t.co":{"link":"^t\\.co/\\w+$","to":":\nvar n = this.node, i = n.dataset, t = n.textContent.trim();\nt=/^[^\\s\\/]{4,70}\\/[^\\s]/.test(t)?t.replace(/^(?!https?:)(\\/\\/)?/, 'http://'):'';\ni = i.expandedUrl || i.imageUrl || i.url || i.fullUrl || (i = n.parentNode) && i.dataset.expandedUrl || (t && !/^(https?:\\/\\/)?t\\.co/.test(t) && t) || n.style.backgroundImage.replace(/^(?:url\\(['\"]?([^'\")]+))?.+/, '$1');\ni = i && this.find({href: i, IMGS_TRG: n});\nreturn (Array.isArray(i) ? i.join('\\n') : (i === null ? 'null' : i)) || ''"},"Vidble.com":{"useimg":1,"link":"^(vidble\\.com/)(?:(?:show|explore[^/]*|album)/|watch\\?v=)([\\da-zA-Z]+).*","res":":\nvar x = $._.match(RegExp(\"src='/[\\\\da-zA-Z]+(_[^.]*)?\\\\.[^']+\", 'g')), t = $._.match(/<h2[^>]*>([^<]+)/), l = 'http://' + $[1];\nreturn x ? x.map(function(i, n) {return ['#' + l + i.replace(/_[^.]+/, ''), !n && t && t[1]]}) : x","img":"^(vidble\\.com/[\\dA-Za-z]+)(?:_[^.]+)?\\.","to":"#$1.","note":"EXAMPLES:\nhttps://www.reddit.com/domain/vidble.com/"},"Vogue.com":{"img":"^((?:media|assets)\\.vogue\\.com/(photos/[\\da-z]+/[^/]+|r)/)[^/]+","to":"$1pass","note":"!!!\nНа данный момент фильтр не работает/нуждается в апгрейде.\n==\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.vogue.com/beauty/skin\nhttps://www.vogue.com/culture/news\nhttps://www.vogue.com/photovogue/photos/best\nhttps://www.vogue.com/video/popular"},"wallhaven.сс":{"link":"^(wallhaven\\.cc/)w/(([\\da-z]{2})[\\da-z]{4}).*","img":"^th\\.(wallhaven\\.cc/)[^/]+/\\w\\w/(([\\da-z]{2})[\\da-z]{4}).*","to":"w.$1full/$3/wallhaven-$2.#jpg png#"},"WallHere.com":{"link":"^(wallhere\\.com/)\\w\\w/(wallpaper)/(\\d+).*","img":"^c\\.(wallhere\\.com/)photos/\\w\\w/\\w\\w/([^.]+)-(\\d+).*","to":"get.$1photo/$2-$3.jpg"},"Walmart.com":{"img":"^(i\\d\\.walmartimages\\.com/[^?]+).+","to":"$1","note":"EXAMPLES:\nhttps://www.walmart.com/cp/6662018\nhttps://www.walmart.com/browse/electronics/smart-tvs\nhttps://www.walmart.com/shop/back-to-school/apparel/shoes\nhttps://www.walmart.com/browse/food/976759?facet=brand%3AFrito-Lay"},"Weasyl.com":{"link":"^(weasyl\\.com)/(?:~[^/]+/)?(?:submissions?|character)(/\\d+)/[\\w-]+","res":"href=\"(https://cdn\\.$1/(?:~[^/]+/submissions$2|static/(?:character|submission))/[\\da-f/]+/[^\"]+)\n<title>([^<]+)","note":"EXAMPLES:\nhttps://www.weasyl.com/popular\nhttps://www.weasyl.com/search?q=DOG"},"Webfail.com":{"link":"^(?:en|de)\\.(webfail\\.com/)([\\da-f]{11})$","img":"^cdn\\.(webfail\\.com/)upl/img/([\\da-f]{11})/(?!post).+","to":"cdn.$1upl/img/$2/post2.jpg","note":"!!!\nAt the moment, the rule is not working/needs an upgrade.\n\nEXAMPLES\nhttps://www.reddit.com/domain/webfail.com/"},"webmshare.com":{"link":"^(webmshare\\.com/)(?!terms)(?:play/|done/)?(\\w{5})(?:[#?]|$)","url":"$1play/$2","res":"=\"og:video\" content=\"([^\"]+)\n=\"og:title\" content=\"([^\"|]+)","note":"ПРИМЕРЫ / EXAMPLES:\nhttps://www.reddit.com/domain/webmshare.com/"},"Weibo.com":{"img":"^((w[a-z]|tva|mu)\\d\\.sinaimg\\.cn/)(?!large)[^/]+/(.+)","to":":\nreturn ($[2]=='mu' ? 'http://' : $[1]+'large/') + $[3]"},"Wikimedia.org":{"useimg":1,"link":"^[^/]{4,70}/(?:[^/#?]*/)*?(?:index\\.php\\?title=)?(?:(?:%\\w\\w){2,42}|[ABDFIPST](?:%\\w\\w|[^\\d:/?&#]){2,10})(?::|%3A)[^/&]{1,512}\\.(?:jp(?:g|eg?)|a?png|gif|svgz?|web[pm]|bmp|og[gv]|mp4)(?!&action=)","ci":3,"dc":1,"res":"<div class=\"(?:fullMedia|fullImageLink\" id=\"file)\"><(?:a href|img (?:border=\"0\" )?src)=\"([^\"]+)","img":"^([^/]+/+([^/]+/+)*?)(?:thumb|(images|avatars))/((?:archive/)?\\w{1,2}/\\w{1,4}/([^/]+(?:\\.(jpe?g|gif|png|svgz?|tif)|(?=/revision/))))(?:/(lossy-page\\d+-)?\\d+px-(?:\\3|thumbnail).*|(/revision/)[^?]*)","to":":\nif($[7])return $[1] + 'thumb/' + $[4] + '/' + $[7] + '2048px-' + $[5] + '.jpg';\nreturn '#' + $[1] + ($[3] ? $[3] + '/' : '') + $[4] + (!$[8] && !$[1].lastIndexOf('upload.wikimedia.org',0) && !/^gif/i.test($[6]) ? '\\n'+ $[1] + 'thumb/' + $[4] + '/1024px-' + $[5] + (/^svg/i.test($[6]) ? '.png' : '') : ($[8] ? $[8] + 'latest' : ''))","note":"EXAMPLES:\nhttps://commons.wikimedia.org/wiki/File:Admiral_Porter%27s_Second_Dummy_Frightening_the_Rebels.jpg"},"Wildcritters.ws":{"useimg":1,"link":"^wildcritters\\.ws/post/show/\\d+","res":": <a href=\"(http[^\"]+)\" id=\"highres\"","img":"^(wildcritters\\.ws/data/)(?:preview|sample)/([\\da-f]{32}\\.).+","to":"#$1$2#jpg png gif#\n$1sample/$2#jpg png gif#","note":"!!!\nAt the moment, the rule is not working/needs an upgrade."},"Wykop.pl":{"img":"^((?:x\\w\\.)?(?:cdn\\d+\\.imgwykop\\.pl|wykop.pl/cdn)/c\\d+/[^,]+),[^.]+","to":"$1","note":"!!!\nВ РФ нужен прокси."},"[XenForo]":{"img":"/attachments/[^/]+[.-](?:jpe?g|png|gif)\\.\\d+/","to":"$&","note":"https://www.reddit.com/r/imagus/comments/jgp6id/xenforo/\n\n\nEXAMPLES:\nhttps://www.hairlosstalk.com/interact/threads/exploring-the-hormonal-route-hair-life.109288/post-2057616\nhttps://www.hairlosstalk.com/interact/threads/exploring-the-hormonal-route-hair-life.109288/post-1870494\nhttps://www.hairlosstalk.com/interact/threads/exploring-the-hormonal-route-hair-life.109288/post-1870693"},"xfilesharing-post":{"link":"^([^/]+/)([\\da-z]{12})(/[\\w.-]+\\.(?:[Jj][Pp][Ee]?[Gg]|png|PNG|gif|GIF|bmp|BMP)(?:\\.html)?)$","url":"$1$2$3 :op=view&id=$2&pre=1","res":"src=\"(https?://[^\"]+)\" (\\w+=\"[^\"]+\"\\s+)*?(?:class=\"pic|id=\"[^\"]+\"\\s*>)","img":"^(?:i\\D{0,3}\\d*\\.|main\\.)?([^/]+/)(?:i/\\d{5}/([\\da-z]{12})_[^.]+|th/\\d{5}/([\\da-z]{12}))\\.jpg$"},"xkcd.com":{"link":"^(?:m\\.)?(xkcd\\.(?:org|com)/\\d{1,5})/?$","url":"$1/info.0.json","res":":\nif ($._[0] != '{') $ = false\nelse $ = JSON.parse($._), $ = [[$.num > 1050? [$.img.replace(/(\\.\\w+)$/, '_2x$1'), $.img] : $.img, [$.year, ('0'+$.month).slice(-2), ('0'+$.day).slice(-2)].join('-') + ' (#' + $.num + ') | ' + $.safe_title + ' - ' + $.alt + ' ' + $.link]]\nreturn $","note":"EXAMPLES:\nhttps://xkcd.com/archive/"},"Yahoo":{"link":"^images\\.search\\.yahoo\\.com/(?:search/images|images/view)[?;](?:[^&]+&)*?imgurl=(https?(?:%3A%2F%2F|://))?([^&]+).*","dc":3,"loop":3,"img":"^(?:[sl]\\d?\\.yimg\\.com/|yahoo.com/\\w\\w/)\\w\\w/api/res/(?:[^/]+/)+?(https?://.+)","to":":\nreturn $[2] ? ($[1]||'http://') + $[2] : $[1].replace(/\\.cf\\.\\w{3,4}$/, '')","note":"!!!\nAt the moment, the rule partially is not working/needs an upgrade.\n\nEXAMPLES\nhttps://news.yahoo.com/\nhttps://news.yahoo.com/us/\nhttps://news.yahoo.com/politics/"},"Yandex_avatars":{"img":"^(avatars(\\.mds)?\\.yandex\\.net/get-[^?]+/)[^?].*","to":"$1orig"},"YARN.co":{"link":"^(yarn\\.co/)yarn-clip/([\\da-f-]{36}).*","img":"^y\\.(yarn\\.co/)([\\da-f-]{36}).*","to":"y.$1$2.mp4"},"Yelp.com":{"useimg":1,"link":"^yelp\\.com/biz_photos/[^?]+\\?select=[\\w-]+","res":"=\"og:image\" content=\"([^\"]+)\n=\"og:description\" content=\"([^\"]+)","img":"^(s\\d(yelp\\d-a\\.akamaihd\\.net|-media\\d\\.\\w\\w\\.yelp(?:cdn|assets)\\.com)/[a-z]?photo/[\\w-]+/)(?!o)[^.]+","to":"$1o","note":"EXAMPLES:\nhttps://www.yelp.com/search?cflt=beautysvc&find_loc=San+Francisco%2C+CA%2C+US\nhttps://www.yelp.com/search?cflt=nightlife&find_loc=San+Francisco%2C+CA%2C+US\nhttps://www.yelp.com/search?cflt=restaurants&find_loc=San+Francisco%2C+CA%2C+US"},"youtube":{"off":1,"img":"^(i(?:\\d|mg)?\\.ytimg\\.com/)[^/]+(/[\\w\\-]{11}/)(?!maxresdefault).*","to":"$1vi$20.jpg","note":"!!!\nВ отличие от [O_YouTube_video] показывает не полноразмерные картинки (для некоторых это удобнее, т.к. маленькая картинка не перекрывает название ролика). Не срабатывает на названии и не заслоняет его. Не работает с внешними ссылками. Если выберете этот фильтр, то фильтр [O_YouTube_video] нужно отключить.\n===\nUnlike [O_YouTube_video], it does not show full-size images (for some it is more convenient, because a small picture does not overlap the title of the video). Does not work on the name and does not obscure it. Does not work with external links. If you select this rule, then the [O_YouTube_video] rule must be disabled."},"Zerochan.net":{"useimg":1,"link":"^(zerochan\\.net)(/)(?:full/)?(\\d{4,}).*","img":"^s(?:[123]|tatic)\\.(zerochan\\.net/)(?:(?:\\d\\d/)+|([^/]*)\\.(?:\\d+|full)\\.)(\\d{4,})\\.","to":"http://static.$1$2.full.$3.#jpg png gif#","note":"!!!\nВ РФ нужен прокси."},"Tumblr":{"useimg":1,"link":"^([^/]{5,70})/(?:image|post)/(\\d{8,18})(?:/[^.?]*$|\\?|#|$).*","url":"https://api.tumblr.com/v2/blog/$1/posts?id=$2&filter=raw&api_key=4AjWu4k7xrMxAqiJjppAHatW1QLQGxZ2NKo2XdTlcov4i8qZuw","res":":\n$._=JSON.parse($._)\nif($._.meta.status!=200) return null\n$=$._.response.posts[0];\nvar t = $.caption||'';\nswitch($.type) {\n case 'photo':\n  return $.photos.map(function(x,i){\n   var c=x.caption||'';\n   return [x.alt_sizes[0].url, (!i&&t ? (c ? '['+t+'] ' : t) :'') + c]\n  });\n  break;\n case 'video':\n  if($.video_url)return [$.video_url, t]\n  else if($.permalink_url)return{loop: $.permalink_url}\n}\nreturn !1","img":"^(?:((?:\\d\\d\\.)?media)|data)(\\.tumblr\\.com/(?:[\\da-f]{32}/)?tumblr_\\w+_)((?:\\d{2,4}|raw)\\.(?!gif)|frame\\d*\\.jpg)","to":":\nreturn $[4][0]=='f' ? 'vt'+$[2]+'.mp4' : '//'+($[1]||'78.media')+$[2]+'#1280 500 400#.'"},"thumbor.org":{"img":"^[^/]{4,70}/(?:thumbor/|(?:new-)?resizer/|v\\d)?[\\w\\-]{26}[\\w\\=-]{2}/(?:(?:smart|trim(?::(?:top-left|bottom-right))?|left|center|right|top|middle|bottom|(?:full-)?fit-in|-?(?:\\d+|orig)?x-?(?:\\d+|orig)?|\\d+x\\d+:\\d+x\\d+|filters:[^/]+)/)*((?:https?(?:%3[aA]|:)(?:%2[fF]|/){2})?(?:[^./]{1,70}\\.)+[a-z]{2,6}(?:%2[fF]|/)[^&?#]+).*","to":":\nif($[1].indexOf('%')>0)$[1] = decodeURIComponent($[1])\nreturn /^http/.test($[1]) ? $[1] : '//' + $[1]"},"[porn-galleries]":{"img":"^(content\\d\\.[^.]{3,20}\\.[a-z]+/[\\da-z-]{3,20}(?:\\.[a-z]{2,5})?/(?:[a-z_-]+/){0,2}\\d+/(?:[^.]+_)?)tn_(?=\\d{2,3}\\.jpg)","to":"$1"},"[ndsoft-kr-news]":{"img":"^([^/]{4,50}/news/)thumbnail(/\\d+/[\\d_]+)_v\\d+","to":"$1photo$2"},"[Labrador_CMS]":{"img":"^([^/]{4,70}/(?:images/?|(?:images/)?\\d{6,13}\\.jpg)?\\?)(?:[^&]*&)*?(imageId=\\d+).*","to":"$1$2?&width=-1"},"[Cloudinary]":{"img":"^([^/]{4,70}/(?:[\\w-]+/){0,2})(?:(image/(?:upload|fetch|sprite|facebook|twitter|gplus|instagram_name|gravatar|youtube|hulu|vimeo|animoto|worldstarhiphop|dailymotion))(?:/s--[\\da-zA-Z]{8}--)?(?:/(?:(?:[eghloqrtuwxyz]|\\$\\w+|ar?|bo?|c[os]?|d(?:l|n|pr)?|fl?|if|pg)_[^,/]+,?)+)*|(video/upload)(?:/s--\\w{8}--)?(?:/(?:(?:[ghloqwxyr]|a[cfr]?|b[or]?|co?|d[lu]|eo?|fl?|s[op]|v[cs])_[^,/]+,?)+)*)(/[^?#]+).*","to":"$1$2$3$4","note":"EXAMPLES:\nhttps://www.reddit.com/domain/cloudinary.com/"},"[cbsistatic]":{"img":"^([^/]{4,50}/)(?:((?:hub/)?i/)r/(\\d{4}/\\d\\d/\\d\\d/[\\da-f-]{30,}/)[^/]+/[\\dxauto]+/|(img/)[\\w=-]+/(?:[\\dx:]+/)?\\d+x\\d+/)","to":"$1$2$3$4"},"[wixstatic.com]":{"img":"^(static.wixstatic\\.com/[^.]+\\.[a-zA-Z]+).*","to":"$1"},"[vBulletin]":{"link":"^[^/]{5,70}/(?:forums?/)?attachment\\.php\\?(?:[^&]+&)*?attachmentid=(\\d+).*","img":"^[^/]{5,70}(?:/[^/]+)?/attachment\\.php\\?(?:[^&]+&)*?thumb=(1)(?:$|&.*)","to":":\nvar n=this.node, r=/\\.(jpe?g|gif|png|bmp|web[mp]|mp[34])\\b/i\nconsole.log(n.title)\nreturn $[1]==1 || r.test(n.textContent) || r.test(n.title) || ~(n.src||'').indexOf($[1]) || n.classList.contains('thumbnail') ? $[0].replace(/thumb=1&?/,'') : ''"},"[typepad]":{"img":"^([^/]{3,70}/\\.a/[\\da-f]{34})(?:-(?:\\d+wi|popup|pi))?$","to":"$1"},"[akina-photohost.org]":{"link":"^([^/]+/)\\?v=(\\d{4}-\\d\\d)-(\\d\\d)_([^&]+).*","img":"^([^/]+/)thumbs/(\\d{4}-\\d\\d)/(\\d\\d)/([^?]+).*","to":"$1img/$2/$3/$4","note":"!!!\nAt the moment, the rule is not working/needs an upgrade."},"[coppermine-gallery.net]":{"img":"^([^/]{3,70}/(?:[^/]{3,}/){0,2}?albums/(?:[^/]+/)+?)(?:thumb|normal)_(?=[^/]+$)","to":"$1# normal_#","note":"EXAMPLES:\nhttps://coppermine-gallery.net/demo/cpg15x/thumbnails.php?album=3\nhttps://coppermine-gallery.net/demo/cpg15x/thumbnails.php?album=2"},"[ImgShot-script]":{"useimg":1,"link":"^[^/]+/(?:[a-z]{1,5}/)?i(?:/|mg-)[\\da-f]{13}\\.html$","url":"$& :imgContinue=","res":"<img.+?' src=[\"']([^\"']+)","img":"^([^/]+/[^/]+/)small(/\\d{4}/\\d{2}/\\d{2}/[\\da-f]{13}\\..+)","to":"$1big$2","note":"http://codecanyon.net/item/imgshot-image-hosting-script/2558257"},"[CF-Image-Host]":{"img":"^([^/]+/)(?:(?:[pd][mtl](-\\d+)|((?:[^/]+/)*?)[pd][mtl](/[\\dA-Z]{3,6}/.+))\\.(?:jpe?g|png|gif|bmp|html)$|(?:i(?:ndex|mage)\\.php)?\\?[pd][mtl]=([\\dA-Z]{3,6}))","to":":\nreturn 'http://'+$[1]+($[5] ? '#image.php #?di=' + $[5] : ($[3]||'')+ 'di' +($[2]||'') + ($[4]||'') +'.jpg');","note":"http://codefuture.co.uk/projects/imagehost/"},"[CF-IH-stock-photos]":{"link":"^[^/]+/p/\\d{4,10}(?:_\\d)?\\.html$","res":"src=\"([^\"]+)"},"[mihalismscript.com]":{"useimg":1,"link":"/viewer\\.php\\?file=([\\da-z_]+)(\\.(?:jpe?g|gif|png)+)$","img":"/(?:index\\.php\\?module=thumbnail&file=([\\da-z_]+\\.(?:jpe?g|gif|png)+)$|images/([\\da-z_]+)_thumb(?=\\.))","to":"/#images files i#/$1$2","note":"!!!\nAt the moment, the rule partially is not working/needs an upgrade."},"[image-host-script]":{"link":"/share(?:-|\\.php\\?id=)([\\dA-F]{4}_[\\dA-F]{8}).*","url":"/share.php?id=$1","res":"\\[img\\]([^\\[]+/image\\.php\\?id=$1[^\\[]+)\n<h1>([^<]+)","img":"/(?:thumb|image)(?:-|\\.php\\?id=)([\\dA-F]{4}_[\\dA-F]{8}).*"},"[php-photo-album]":{"img":"^([^/]+/(?:[^/]+/)*?main\\.php\\?cmd=)(?:thmb|image(?:view|orig)?)&var1=([^&]+).*","to":"#$1imageorig&var1=$2\n$1image&var1=$2&var2=1024_85_false","note":"http://www.phpalbum.net/"},"[marginalhacks.com]":{"img":"^([^/]+/(?:[^/]+/+)*?)tn/([^/]+?)(?:(\\.(?:gif|png|bmp))\\.jpg|(?:\\.med)?(\\.(?:jpg|gif|png|bmp)))$","ci":2,"to":":\nreturn $[4] ?\n'#' + $[1] + $[2] + $[4] + '\\n' + $[1] + 'tn/' + $[2] + '.med' + $[4] :\n'#' + $[1] + $[2] + $[3] + '\\n' + $[1] + 'tn/' + $[2] + $[3];","note":"http://marginalhacks.com/Hacks/album/"},"[phpgraphy.sourceforge.net]":{"img":"^([^/]+/(?:[^/]+/)*?index\\.php\\?)(?:display(?:pic)?|previewpic)=([^&]+).*","to":":\nreturn $[2].slice(-13) === 'directory.jpg' ? $[0] : $[1] + 'displaypic=' + $[2];","note":"http://phpgraphy.sourceforge.net/"},"[LinkedMedia]":{"link":"^[^?#]{6,4096}\\.(?:jp(?:g|eg?)|3gp|a?png|gif|web[pm]|bmp|xbm|pict|j(?:if|fif?)|flv|m2ts|mkv|mov|mpeg|mpg|og[gv]|mp[34]|m4[va]|svgz?|ts|rm|wm[va])(?:$|[?#])","ci":1},"R_VK":{"link":"^(?:m\\.)?vk\\.com/photo([\\d\\-_]+)(?:\\?(tag)=(\\d+))?.*","url":": 'vk.com/al_photos.php :list=' + ($[3] ? $[2]+$[3]:((this.node.parentNode.getAttribute('onclick')+'').match(/wall-[\\d_]+/)||'')+'')+'&act=show&al=1&photo='+$[1]","res":":\nvar m = /[\\-\\d_]+/, img, ret = null, cache = {'_arr': []}, i, pid = $.url[1].substr($.url[1].lastIndexOf('=') + 1), x = JSON.parse($._.slice($._.indexOf('{'))).payload[1][3]\nfor (i in x) {\n ret = x[i].w_src ? ['#' + x[i].w_src] : [];\n ret.push(x[i].z_src || x[i].y_src || x[i].x_src);\n if (x[i].id == pid) { img = [[ret]] }\n else { cache[x[i].id] = ret; cache._arr.push('a[href^=\"/photo'+x[i].id+'\"]') }\n}\ncache._arr.length && [].forEach.call(document.body.querySelectorAll(cache._arr.join(',')), function(node) {\nvar x = cache[node.pathname.match(m)[0]];\nif (!node.IMGS_c) {\n node.IMGS_c_resolved = x;\n node.firstElementChild && (node.firstElementChild.IMGS_c_resolved = x);\n}\n})\nreturn img","img":"^(?:cs\\d+|pp|sun[\\-0-9]+)\\.(?:userapi\\.com|vk\\.me)\\/(c\\d+\\/*[uv]\\d+\\/.+\\/|.+\\/).+","to":":\nvar y, x = this.node,p=x&&x.parentNode;\nif (x.dataset.src_big) {\n  x = x.dataset.src_big.split('|')[0];\n  return x;\n}\nelse if (x) {\n  if (p && p.href && x.classList.contains('page_doc_photo')) {\n    x = p.href + '&wnd=1';\n    return x;\n  }\n  else if ((y=x.getAttribute('onclick')) && y.indexOf('showPhoto(')>0) {\n    x = JSON.parse(y.match(/(\\{.+\\})/)[0]).temp;\n    x=(x.w ? '#' + x.w + '\\n' : '') + (x.z || x.y || x.x);\n    return x;\n  }\n  else if ((y=p.getAttribute('onclick')) && y.indexOf('showPhoto(')>0) {\n    x = JSON.parse(y.match(/(\\{.+\\})/)[0]).temp;\n    x=(x.w ? '#' + x.w + '\\n' : '') + (x.z || x.y || x.x);\n    return x;\n  }\n  else if ((y=x.getAttribute('style')) && (y.indexOf('background-image:')>0)) {\n    var re=/.+background-image: url\\((.*)\\).*/;\n    z=re.exec(y);\n    if (z!=null) return z[1];\n  }\n}\nreturn $[0];","note":"by Baton34V\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2860#19\nOLD\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1860#14\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1740#13\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=1560#5\n\nNB!\nПоместить ниже дефолтных фильтров, т.к. мешает другим фильтрам для userapi.com, пример:\nhttps://vrotmnen0gi.livejournal.com/3441994.html\nобсуждение:\nhttps://forum.ru-board.com/topic.cgi?forum=5&topic=48222&start=2000#14\n+\nЕсли не срабатывает в альбомах, рекомендуется снять галку в \"Приоритет \"img\" над \"link\".\n==\nIf it does not work in albums, it is recommended to uncheck \"Priority \"img\" over \"link\".\n+\nУвеличение видео в ленте / группе в комментариях не поддерживается.\n==\nZooming video in the feed / group in the comments is not supported."},"[R_WordPress]":{"img":"^(?:(?![^/]*userapi\\.com))^([^/]{4,70}(?:/[^/?#]+){1,10})(?:(/)(?:(gallery/(?:[^/]+/)*?)thumbs/thumbs_|((?:upload|image(?:s_blog)?|file)s/)(?:(?:thumbnails_\\d+x\\d+/thumb_([^.]+?)(?:-\\d+x\\d+)?|([^?]+)-\\d{2,}x\\d{2,})(\\.[a-z]{3,4})))|(.{5})/?\\?(?:[^&]*&)*?(?:quality=[\\d.]+|fit=[\\d%C]+|(?:w(?:idth)?|h(?:eight)?|resize)=\\d+(?:(?:%2C|,)\\d+)?)(?:&.*|$))","ci":2,"loop":2,"to":":\nif(/\\.php$/.test($[8]))return !1\nif(/[&?]s=[\\da-f]{32}/.test($[0]))return $[0]\nvar m=$[0].match(/[&?](?:url|src)=([^&]+)/)\nif(m)return decodeURIComponent(m[1])\nvar x=$[8]&&$[8].match(/^(.*\\.)(jpe?g|gif|png)$/i)\nreturn $[1] + ($[2] || '') + ($[3] || '') + ($[4] || '') + ($[5] || '') + ($[6] ? $[6] + $[7] : '') + (x && x[2] ? x[1] + (x[2]!='j' ? x[2] : '#jpg jpeg png gif#') : $[8]||'')","note":"64h\nhttp://forum.ru-board.com/topic.cgi?forum=5&topic=50874&start=1571#1"}}
